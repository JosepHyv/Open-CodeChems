ò	
ZC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Assertion.cs
	namespace 	
WAT
 
{ 
public 
class 
	Assertion 
{		 
	protected 
static 

Dictionary 
Result $
($ %
bool% )
success* 1
,1 2
string3 9
expected: B
,B C
stringD J
actualK Q
,Q R
stringS Y
contextZ a
,a b
stringc i
notesj o
=p q
$strr t
)t u
{ 
return 	
new
 

Dictionary 
{ 
{ 
$str 
, 
success 
} 
, 
{ 
$str 
, 
expected 
} 
, 
{ 
$str 
, 
actual 
} 
, 
{ 
$str 
, 
context 
} 
} 
; 
} 
} 
} ßﬂ
[C:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Assertions.cs
	namespace 	
WAT
 
{ 
public 
class 

Assertions 
: 
	Reference $
{		 
[ 
Signal 	
]	 

public 
delegate 
void 
asserted  (
(( )
)) *
;* +
public 

Assertions	 
( 
) 
{ 
} 
private 	
void
 
Output 
( 
Godot 
. 
Collections '
.' (

Dictionary( 2
result3 9
)9 :
{ 

EmitSignal 
( 
nameof 
( 
asserted 
) 
, 
result  &
)& '
;' (
} 
public 
void	 
IsTrue 
( 
bool 
a 
, 
string #
context$ +
=, -
$str. 0
)0 1
{ 
Output 	
(	 

Boolean
 
. 
IsTrue 
( 
a 
, 
context #
)# $
)$ %
;% &
} 
public 
void	 
IsFalse 
( 
bool 
a 
, 
string $
context% ,
=- .
$str/ 1
)1 2
{ 
Output 	
(	 

Boolean
 
. 
IsFalse 
( 
a 
, 
context $
)$ %
)% &
;& '
} 
public 
void	 
IsEqual 
( 
object 
a 
, 
object  &
b' (
,( )
string* 0
context1 8
=9 :
$str; =
)= >
{ 
Output   	
(  	 

Equality  
 
.   
IsEqual   
(   
a   
,   
b   
,    
context  ! (
)  ( )
)  ) *
;  * +
}!! 
public## 
void##	 

IsNotEqual## 
(## 
object## 
a##  !
,##! "
object### )
b##* +
,##+ ,
string##- 3
context##4 ;
=##< =
$str##> @
)##@ A
{$$ 
Output%% 	
(%%	 

Equality%%
 
.%% 

IsNotEqual%% 
(%% 
a%% 
,%%  
b%%! "
,%%" #
context%%$ +
)%%+ ,
)%%, -
;%%- .
}&& 
public(( 
void((	 
IsGreaterThan(( 
((( 
float(( !
a((" #
,((# $
float((% *
b((+ ,
,((, -
string((. 4
context((5 <
=((= >
$str((? A
)((A B
{)) 
Output** 	
(**	 

Equality**
 
.** 
IsGreaterThan**  
(**  !
a**! "
,**" #
b**$ %
,**% &
context**' .
)**. /
)**/ 0
;**0 1
}++ 
public-- 
void--	 

IsLessThan-- 
(-- 
float-- 
a--  
,--  !
float--" '
b--( )
,--) *
string--+ 1
context--2 9
=--: ;
$str--< >
)--> ?
{.. 
Output// 	
(//	 

Equality//
 
.// 

IsLessThan// 
(// 
a// 
,//  
b//! "
,//" #
context//$ +
)//+ ,
)//, -
;//- .
}00 
public22 
void22	  
IsEqualOrGreaterThan22 "
(22" #
float22# (
a22) *
,22* +
float22, 1
b222 3
,223 4
string225 ;
context22< C
=22D E
$str22F H
)22H I
{33 
Output44 	
(44	 

Equality44
 
.44  
IsEqualOrGreaterThan44 '
(44' (
a44( )
,44) *
b44+ ,
,44, -
context44. 5
)445 6
)446 7
;447 8
}55 
public77 
void77	 
IsEqualOrLessThan77 
(77  
float77  %
a77& '
,77' (
float77) .
b77/ 0
,770 1
string772 8
context779 @
=77A B
$str77C E
)77E F
{88 
Output99 	
(99	 

Equality99
 
.99 
IsEqualOrLessThan99 $
(99$ %
a99% &
,99& '
b99( )
,99) *
context99+ 2
)992 3
)993 4
;994 5
}:: 
public<< 
void<<	 
SignalWasEmitted<< 
(<< 
Godot<< $
.<<$ %
Object<<% +
emitter<<, 3
,<<3 4
string<<5 ;
signal<<< B
,<<B C
string<<D J
context<<K R
=<<S T
$str<<U W
)<<W X
{== 
Output>> 	
(>>	 

Signal>>
 
.>> 

WasEmitted>> 
(>> 
emitter>> #
,>># $
signal>>% +
,>>+ ,
context>>- 4
)>>4 5
)>>5 6
;>>6 7
}?? 
publicAA 
voidAA	 "
SignalWasEmittedXTimesAA $
(AA$ %
GodotAA% *
.AA* +
ObjectAA+ 1
emitterAA2 9
,AA9 :
stringAA; A
signalAAB H
,AAH I
intAAJ M
timesAAN S
,AAS T
stringAAU [
contextAA\ c
=AAd e
$strAAf h
)AAh i
{BB 
OutputCC 	
(CC	 

SignalCC
 
.CC 
WasEmittedXTimesCC !
(CC! "
emitterCC" )
,CC) *
signalCC+ 1
,CC1 2
timesCC3 8
,CC8 9
contextCC: A
)CCA B
)CCB C
;CCC D
}DD 
publicFF 
voidFF	 
SignalWasNotEmittedFF !
(FF! "
GodotFF" '
.FF' (
ObjectFF( .
emitterFF/ 6
,FF6 7
stringFF8 >
signalFF? E
,FFE F
stringFFG M
contextFFN U
=FFV W
$strFFX Z
)FFZ [
{GG 
OutputHH 	
(HH	 

SignalHH
 
.HH 
WasNotEmittedHH 
(HH 
emitterHH &
,HH& '
signalHH( .
,HH. /
contextHH0 7
)HH7 8
)HH8 9
;HH9 :
}II 
publicKK 
voidKK	 )
SignalWasEmittedWithArgumentsKK +
(KK+ ,
GodotKK, 1
.KK1 2
ObjectKK2 8
emitterKK9 @
,KK@ A
stringKKB H
signalKKI O
,KKO P
GDArrayKKQ X
argsKKY ]
,KK] ^
stringKK_ e
contextKKf m
=KKn o
$strKKp r
)KKr s
{LL 
OutputMM 	
(MM	 

SignalMM
 
.MM 
WasEmittedWithArgsMM #
(MM# $
emitterMM$ +
,MM+ ,
signalMM- 3
,MM3 4
argsMM5 9
,MM9 :
contextMM; B
)MMB C
)MMC D
;MMD E
}NN 
publicPP 
voidPP	 
	IsInRangePP 
(PP 
doublePP 
aPP  
,PP  !
doublePP" (
bPP) *
,PP* +
doublePP, 2
cPP3 4
,PP4 5
stringPP6 <
contextPP= D
=PPE F
$strPPG I
)PPI J
{QQ 
OutputRR 	
(RR	 

RangeRR
 
.RR 
	IsInRangeRR 
(RR 
aRR 
,RR 
bRR 
,RR 
cRR  !
,RR! "
contextRR# *
)RR* +
)RR+ ,
;RR, -
}SS 
publicUU 
voidUU	 
IsNotInRangeUU 
(UU 
doubleUU !
aUU" #
,UU# $
doubleUU% +
bUU, -
,UU- .
doubleUU/ 5
cUU6 7
,UU7 8
stringUU9 ?
contextUU@ G
=UUH I
$strUUJ L
)UUL M
{VV 
OutputWW 	
(WW	 

RangeWW
 
.WW 
IsNotInRangeWW 
(WW 
aWW 
,WW 
bWW  !
,WW! "
cWW# $
,WW$ %
contextWW& -
)WW- .
)WW. /
;WW/ 0
}XX 
publicZZ 
voidZZ	 
ContainsZZ 
<ZZ 
TZZ 
>ZZ 
(ZZ 
objectZZ  
valueZZ! &
,ZZ& '
TZZ( )
	containerZZ* 3
,ZZ3 4
stringZZ5 ;
contextZZ< C
=ZZD E
$strZZF H
)ZZH I
{[[ 
Output\\ 	
(\\	 

Property\\
 
.\\ 
Contains\\ 
(\\ 
value\\ !
,\\! "
	container\\# ,
,\\, -
context\\. 5
)\\5 6
)\\6 7
;\\7 8
}]] 
public__ 
void__	 
DoesNotContain__ 
<__ 
T__ 
>__ 
(__  
object__  &
value__' ,
,__, -
T__. /
	container__0 9
,__9 :
string__; A
context__B I
=__J K
$str__L N
)__N O
{`` 
Outputaa 	
(aa	 

Propertyaa
 
.aa 
DoesNotContainaa !
(aa! "
valueaa" '
,aa' (
	containeraa) 2
,aa2 3
contextaa4 ;
)aa; <
)aa< =
;aa= >
}bb 
publicdd 
voiddd	 
StringContainsdd 
(dd 
stringdd #
valuedd$ )
,dd) *
stringdd+ 1
strdd2 5
,dd5 6
stringdd7 =
contextdd> E
=ddF G
$strddH J
)ddJ K
{ee 
Outputff 	
(ff	 

StringXff
 
.ff 
Containsff 
(ff 
valueff  
,ff  !
strff" %
,ff% &
contextff' .
)ff. /
)ff/ 0
;ff0 1
}gg 
publicii 
voidii	  
StringDoesNotContainii "
(ii" #
stringii# )
valueii* /
,ii/ 0
stringii1 7
strii8 ;
,ii; <
stringii= C
contextiiD K
=iiL M
$striiN P
)iiP Q
{jj 
Outputkk 	
(kk	 

StringXkk
 
.kk 
DoesNotContainkk  
(kk  !
valuekk! &
,kk& '
strkk( +
,kk+ ,
contextkk- 4
)kk4 5
)kk5 6
;kk6 7
}ll 
publicnn 
voidnn	 
StringBeginsWithnn 
(nn 
stringnn %
valuenn& +
,nn+ ,
stringnn- 3
strnn4 7
,nn7 8
stringnn9 ?
contextnn@ G
=nnH I
$strnnJ L
)nnL M
{oo 
Outputpp 	
(pp	 

StringXpp
 
.pp 

BeginsWithpp 
(pp 
valuepp "
,pp" #
strpp$ '
,pp' (
contextpp) 0
)pp0 1
)pp1 2
;pp2 3
}qq 
publicss 
voidss	 "
StringDoesNotBeginWithss $
(ss$ %
stringss% +
valuess, 1
,ss1 2
stringss3 9
strss: =
,ss= >
stringss? E
contextssF M
=ssN O
$strssP R
)ssR S
{tt 
Outputuu 	
(uu	 

StringXuu
 
.uu 
DoesNotBeginWithuu "
(uu" #
valueuu# (
,uu( )
struu* -
,uu- .
contextuu/ 6
)uu6 7
)uu7 8
;uu8 9
}vv 
publicxx 
voidxx	 
StringEndsWithxx 
(xx 
stringxx #
valuexx$ )
,xx) *
stringxx+ 1
strxx2 5
,xx5 6
stringxx7 =
contextxx> E
=xxF G
$strxxH J
)xxJ K
{yy 
Outputzz 	
(zz	 

StringXzz
 
.zz 
EndsWithzz 
(zz 
valuezz  
,zz  !
strzz" %
,zz% &
contextzz' .
)zz. /
)zz/ 0
;zz0 1
}{{ 
public}} 
void}}	  
StringDoesNotEndWith}} "
(}}" #
string}}# )
value}}* /
,}}/ 0
string}}1 7
str}}8 ;
,}}; <
string}}= C
context}}D K
=}}L M
$str}}N P
)}}P Q
{~~ 
Output 	
(	 

StringX
 
. 
DoesNotEndWith  
(  !
value! &
,& '
str( +
,+ ,
context- 4
)4 5
)5 6
;6 7
}
ÄÄ 
public
ÇÇ 
void
ÇÇ	 

FileExists
ÇÇ 
(
ÇÇ 
string
ÇÇ 
path
ÇÇ  $
,
ÇÇ$ %
string
ÇÇ& ,
context
ÇÇ- 4
=
ÇÇ5 6
$str
ÇÇ7 9
)
ÇÇ9 :
{
ÉÉ 
Output
ÑÑ 	
(
ÑÑ	 

File
ÑÑ
 
.
ÑÑ 
Exists
ÑÑ 
(
ÑÑ 
path
ÑÑ 
,
ÑÑ 
context
ÑÑ #
)
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
}
ÖÖ 
public
áá 
void
áá	 
FileDoesNotExist
áá 
(
áá 
string
áá %
path
áá& *
,
áá* +
string
áá, 2
context
áá3 :
=
áá; <
$str
áá= ?
)
áá? @
{
àà 
Output
ââ 	
(
ââ	 

File
ââ
 
.
ââ 
DoesNotExist
ââ 
(
ââ 
path
ââ  
,
ââ  !
context
ââ" )
)
ââ) *
)
ââ* +
;
ââ+ ,
}
ää 
public
åå 
void
åå	 
IsValidInstance
åå 
(
åå 
Object
åå $
obj
åå% (
=
åå) *
null
åå+ /
,
åå/ 0
string
åå1 7
context
åå8 ?
=
åå@ A
$str
ååB D
)
ååD E
{
çç 
Output
éé 	
(
éé	 

ObjectX
éé
 
.
éé 
IsValidInstance
éé !
(
éé! "
obj
éé" %
,
éé% &
context
éé' .
)
éé. /
)
éé/ 0
;
éé0 1
}
èè 
public
ëë 
void
ëë	  
IsNotValidInstance
ëë  
(
ëë  !
Object
ëë! '
obj
ëë( +
=
ëë, -
null
ëë. 2
,
ëë2 3
string
ëë4 :
context
ëë; B
=
ëëC D
$str
ëëE G
)
ëëG H
{
íí 
Output
ìì 	
(
ìì	 

ObjectX
ìì
 
.
ìì  
IsNotValidInstance
ìì $
(
ìì$ %
obj
ìì% (
,
ìì( )
context
ìì* 1
)
ìì1 2
)
ìì2 3
;
ìì3 4
}
îî 
public
ññ 
void
ññ	 
ObjectHasMeta
ññ 
(
ññ 
Godot
ññ !
.
ññ! "
Object
ññ" (
obj
ññ) ,
,
ññ, -
string
ññ. 4
meta
ññ5 9
,
ññ9 :
string
ññ; A
context
ññB I
=
ññJ K
$str
ññL N
)
ññN O
{
óó 
Output
òò 	
(
òò	 

ObjectX
òò
 
.
òò 
HasMeta
òò 
(
òò 
obj
òò 
,
òò 
meta
òò #
,
òò# $
context
òò% ,
)
òò, -
)
òò- .
;
òò. /
}
ôô 
public
õõ 
void
õõ	 #
ObjectDoesNotHaveMeta
õõ #
(
õõ# $
Godot
õõ$ )
.
õõ) *
Object
õõ* 0
obj
õõ1 4
,
õõ4 5
string
õõ6 <
meta
õõ= A
,
õõA B
string
õõC I
context
õõJ Q
=
õõR S
$str
õõT V
)
õõV W
{
úú 
Output
ùù 	
(
ùù	 

ObjectX
ùù
 
.
ùù 
DoesNotHaveMeta
ùù !
(
ùù! "
obj
ùù" %
,
ùù% &
meta
ùù' +
,
ùù+ ,
context
ùù- 4
)
ùù4 5
)
ùù5 6
;
ùù6 7
}
ûû 
public
†† 
void
††	 
ObjectHasMethod
†† 
(
†† 
Godot
†† #
.
††# $
Object
††$ *
obj
††+ .
,
††. /
string
††0 6
method
††7 =
,
††= >
string
††? E
context
††F M
=
††N O
$str
††P R
)
††R S
{
°° 
Output
¢¢ 	
(
¢¢	 

ObjectX
¢¢
 
.
¢¢ 
	HasMethod
¢¢ 
(
¢¢ 
obj
¢¢ 
,
¢¢  
method
¢¢! '
,
¢¢' (
context
¢¢) 0
)
¢¢0 1
)
¢¢1 2
;
¢¢2 3
}
££ 
public
•• 
void
••	 %
ObjectDoesNotHaveMethod
•• %
(
••% &
Godot
••& +
.
••+ ,
Object
••, 2
obj
••3 6
,
••6 7
string
••8 >
method
••? E
,
••E F
string
••G M
context
••N U
=
••V W
$str
••X Z
)
••Z [
{
¶¶ 
Output
ßß 	
(
ßß	 

ObjectX
ßß
 
.
ßß 
DoesNotHaveMethod
ßß #
(
ßß# $
obj
ßß$ '
,
ßß' (
method
ßß) /
,
ßß/ 0
context
ßß1 8
)
ßß8 9
)
ßß9 :
;
ßß: ;
}
®® 
public
™™ 
void
™™	 '
ObjectIsQueuedForDeletion
™™ '
(
™™' (
Godot
™™( -
.
™™- .
Object
™™. 4
obj
™™5 8
,
™™8 9
string
™™: @
context
™™A H
=
™™I J
$str
™™K M
)
™™M N
{
´´ 
Output
¨¨ 	
(
¨¨	 

ObjectX
¨¨
 
.
¨¨ !
IsQueuedForDeletion
¨¨ %
(
¨¨% &
obj
¨¨& )
,
¨¨) *
context
¨¨+ 2
)
¨¨2 3
)
¨¨3 4
;
¨¨4 5
}
≠≠ 
public
ØØ 
void
ØØ	 *
ObjectIsNotQueuedForDeletion
ØØ *
(
ØØ* +
Godot
ØØ+ 0
.
ØØ0 1
Object
ØØ1 7
obj
ØØ8 ;
,
ØØ; <
string
ØØ= C
context
ØØD K
=
ØØL M
$str
ØØN P
)
ØØP Q
{
∞∞ 
Output
±± 	
(
±±	 

ObjectX
±±
 
.
±± $
IsNotQueuedForDeletion
±± (
(
±±( )
obj
±±) ,
,
±±, -
context
±±. 5
)
±±5 6
)
±±6 7
;
±±7 8
}
≤≤ 
public
¥¥ 
void
¥¥	 
ObjectIsConnected
¥¥ 
(
¥¥  
Object
¥¥  &
sender
¥¥' -
,
¥¥- .
string
¥¥/ 5
signal
¥¥6 <
,
¥¥< =
Object
¥¥> D
receiver
¥¥E M
,
¥¥M N
string
¥¥O U
method
¥¥V \
,
¥¥\ ]
string
¥¥^ d
context
¥¥e l
=
¥¥m n
$str
¥¥o q
)
¥¥q r
{
µµ 
Output
∂∂ 	
(
∂∂	 

ObjectX
∂∂
 
.
∂∂ 
IsConnected
∂∂ 
(
∂∂ 
sender
∂∂ $
,
∂∂$ %
signal
∂∂& ,
,
∂∂, -
receiver
∂∂. 6
,
∂∂6 7
method
∂∂8 >
,
∂∂> ?
context
∂∂@ G
)
∂∂G H
)
∂∂H I
;
∂∂I J
}
∑∑ 
public
ππ 
void
ππ	 "
ObjectIsNotConnected
ππ "
(
ππ" #
Object
ππ# )
sender
ππ* 0
,
ππ0 1
string
ππ2 8
signal
ππ9 ?
,
ππ? @
Object
ππA G
receiver
ππH P
,
ππP Q
string
ππR X
method
ππY _
,
ππ_ `
string
ππa g
context
ππh o
=
ππp q
$str
ππr t
)
ππt u
{
∫∫ 
Output
ªª 	
(
ªª	 

ObjectX
ªª
 
.
ªª 
IsNotConnected
ªª  
(
ªª  !
sender
ªª! '
,
ªª' (
signal
ªª) /
,
ªª/ 0
receiver
ªª1 9
,
ªª9 :
method
ªª; A
,
ªªA B
context
ªªC J
)
ªªJ K
)
ªªK L
;
ªªL M
}
ºº 
public
ææ 
void
ææ	 %
ObjectIsBlockingSignals
ææ %
(
ææ% &
Object
ææ& ,
obj
ææ- 0
,
ææ0 1
string
ææ2 8
context
ææ9 @
=
ææA B
$str
ææC E
)
ææE F
{
øø 
Output
¿¿ 	
(
¿¿	 

ObjectX
¿¿
 
.
¿¿ 
IsBlockingSignals
¿¿ #
(
¿¿# $
obj
¿¿$ '
,
¿¿' (
context
¿¿) 0
)
¿¿0 1
)
¿¿1 2
;
¿¿2 3
}
¡¡ 
public
√√ 
void
√√	 (
ObjectIsNotBlockingSignals
√√ (
(
√√( )
Object
√√) /
obj
√√0 3
,
√√3 4
string
√√5 ;
context
√√< C
=
√√D E
$str
√√F H
)
√√H I
{
ƒƒ 
Output
≈≈ 	
(
≈≈	 

ObjectX
≈≈
 
.
≈≈ "
IsNotBlockingSignals
≈≈ &
(
≈≈& '
obj
≈≈' *
,
≈≈* +
context
≈≈, 3
)
≈≈3 4
)
≈≈4 5
;
≈≈5 6
}
∆∆ 
public
»» 
void
»»	 !
ObjectHasUserSignal
»» !
(
»»! "
Object
»»" (
obj
»») ,
,
»», -
string
»». 4
signal
»»5 ;
,
»»; <
string
»»= C
context
»»D K
=
»»L M
$str
»»N P
)
»»P Q
{
…… 
Output
   	
(
  	 

ObjectX
  
 
.
   
HasUserSignal
   
(
    
obj
    #
,
  # $
signal
  % +
,
  + ,
context
  - 4
)
  4 5
)
  5 6
;
  6 7
}
ÀÀ 
public
ÕÕ 
void
ÕÕ	 )
ObjectDoesNotHaveUserSignal
ÕÕ )
(
ÕÕ) *
Object
ÕÕ* 0
obj
ÕÕ1 4
,
ÕÕ4 5
string
ÕÕ6 <
signal
ÕÕ= C
,
ÕÕC D
string
ÕÕE K
context
ÕÕL S
=
ÕÕT U
$str
ÕÕV X
)
ÕÕX Y
{
ŒŒ 
Output
œœ 	
(
œœ	 

ObjectX
œœ
 
.
œœ #
DoesNotHaveUserSignal
œœ '
(
œœ' (
obj
œœ( +
,
œœ+ ,
signal
œœ- 3
,
œœ3 4
context
œœ5 <
)
œœ< =
)
œœ= >
;
œœ> ?
}
–– 
public
““ 
void
““	 
IsNull
““ 
(
““ 
object
““ 
obj
““ 
,
““  
string
““! '
context
““( /
=
““0 1
$str
““2 4
)
““4 5
{
”” 
Output
‘‘ 	
(
‘‘	 

Null
‘‘
 
.
‘‘ 
IsNull
‘‘ 
(
‘‘ 
obj
‘‘ 
,
‘‘ 
context
‘‘ "
)
‘‘" #
)
‘‘# $
;
‘‘$ %
}
’’ 
public
◊◊ 
void
◊◊	 
	IsNotNull
◊◊ 
(
◊◊ 
object
◊◊ 
obj
◊◊ "
,
◊◊" #
string
◊◊$ *
context
◊◊+ 2
=
◊◊3 4
$str
◊◊5 7
)
◊◊7 8
{
ÿÿ 
Output
ŸŸ 	
(
ŸŸ	 

Null
ŸŸ
 
.
ŸŸ 
	IsNotNull
ŸŸ 
(
ŸŸ 
obj
ŸŸ 
,
ŸŸ 
context
ŸŸ %
)
ŸŸ% &
)
ŸŸ& '
;
ŸŸ' (
}
⁄⁄ 
public
‹‹ 
void
‹‹	 
IsType
‹‹ 
<
‹‹ 
T
‹‹ 
>
‹‹ 
(
‹‹ 
object
‹‹ 
value
‹‹ $
,
‹‹$ %
string
‹‹& ,
context
‹‹- 4
=
‹‹5 6
$str
‹‹7 9
)
‹‹9 :
{
›› 
Output
ﬁﬁ 	
(
ﬁﬁ	 

Is
ﬁﬁ
 
.
ﬁﬁ 
IsType
ﬁﬁ 
<
ﬁﬁ 
T
ﬁﬁ 
>
ﬁﬁ 
(
ﬁﬁ 
value
ﬁﬁ 
,
ﬁﬁ 
context
ﬁﬁ %
)
ﬁﬁ% &
)
ﬁﬁ& '
;
ﬁﬁ' (
}
ﬂﬂ 
public
·· 
void
··	 
	IsNotType
·· 
<
·· 
T
·· 
>
·· 
(
·· 
object
·· !
value
··" '
,
··' (
string
··) /
context
··0 7
=
··8 9
$str
··: <
)
··< =
{
‚‚ 
Output
„„ 	
(
„„	 

Is
„„
 
.
„„ 
	IsNotType
„„ 
<
„„ 
T
„„ 
>
„„ 
(
„„ 
value
„„ 
,
„„  
context
„„! (
)
„„( )
)
„„) *
;
„„* +
}
‰‰ 
public
ÊÊ 
void
ÊÊ	 
Fail
ÊÊ 
(
ÊÊ 
string
ÊÊ 
context
ÊÊ !
=
ÊÊ" #
$str
ÊÊ$ &
)
ÊÊ& '
{
ÁÁ 
Output
ËË 	
(
ËË	 

Utility
ËË
 
.
ËË 
Fail
ËË 
(
ËË 
context
ËË 
)
ËË 
)
ËË  
;
ËË  !
}
ÈÈ 
public
ÎÎ 
void
ÎÎ	 
AutoPass
ÎÎ 
(
ÎÎ 
string
ÎÎ 
context
ÎÎ %
=
ÎÎ& '
$str
ÎÎ( *
)
ÎÎ* +
{
ÏÏ 
Output
ÌÌ 	
(
ÌÌ	 

Utility
ÌÌ
 
.
ÌÌ 
AutoPass
ÌÌ 
(
ÌÌ 
context
ÌÌ "
)
ÌÌ" #
)
ÌÌ# $
;
ÌÌ$ %
}
ÓÓ 
public
 
void
	 
Throws
 
(
 
Action
 
function
 $
,
$ %
string
& ,
context
- 4
=
5 6
$str
7 9
)
9 :
{
ÒÒ 
Output
ÚÚ 	
(
ÚÚ	 

Utility
ÚÚ
 
.
ÚÚ 
Throws
ÚÚ 
(
ÚÚ 
function
ÚÚ !
,
ÚÚ! "
context
ÚÚ# *
)
ÚÚ* +
)
ÚÚ+ ,
;
ÚÚ, -
}
ÛÛ 
public
ıı 
void
ıı	 
DoesNotThrow
ıı 
(
ıı 
Action
ıı !
function
ıı" *
,
ıı* +
string
ıı, 2
context
ıı3 :
=
ıı; <
$str
ıı= ?
)
ıı? @
{
ˆˆ 
Output
˜˜ 	
(
˜˜	 

Utility
˜˜
 
.
˜˜ 
DoesNotThrow
˜˜ 
(
˜˜ 
function
˜˜ '
,
˜˜' (
context
˜˜) 0
)
˜˜0 1
)
˜˜1 2
;
˜˜2 3
}
¯¯ 
public
˙˙ 
void
˙˙	 
Throws
˙˙ 
<
˙˙ 
T
˙˙ 
>
˙˙ 
(
˙˙ 
Action
˙˙ 
function
˙˙ '
,
˙˙' (
string
˙˙) /
context
˙˙0 7
=
˙˙8 9
$str
˙˙: <
)
˙˙< =
{
˚˚ 
Output
¸¸ 	
(
¸¸	 

Utility
¸¸
 
.
¸¸ 
Throws
¸¸ 
<
¸¸ 
T
¸¸ 
>
¸¸ 
(
¸¸ 
function
¸¸ $
,
¸¸$ %
context
¸¸& -
)
¸¸- .
)
¸¸. /
;
¸¸/ 0
}
˝˝ 
public
ˇˇ 
void
ˇˇ	 
DoesNotThrow
ˇˇ 
<
ˇˇ 
T
ˇˇ 
>
ˇˇ 
(
ˇˇ 
Action
ˇˇ $
function
ˇˇ% -
,
ˇˇ- .
string
ˇˇ/ 5
context
ˇˇ6 =
=
ˇˇ> ?
$str
ˇˇ@ B
)
ˇˇB C
{
ÄÄ 
Output
ÅÅ 	
(
ÅÅ	 

Utility
ÅÅ
 
.
ÅÅ 
DoesNotThrow
ÅÅ 
<
ÅÅ 
T
ÅÅ  
>
ÅÅ  !
(
ÅÅ! "
function
ÅÅ" *
,
ÅÅ* +
context
ÅÅ, 3
)
ÅÅ3 4
)
ÅÅ4 5
;
ÅÅ5 6
}
ÇÇ 
}
ÉÉ 
}ÑÑ ∂
XC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Boolean.cs
	namespace 	
WAT
 
{ 
public 
class 
Boolean 
: 
	Assertion  
{ 
public 
static	 

Dictionary 
IsTrue !
(! "
bool" &
value' ,
,, -
string. 4
context5 <
)< =
{ 
string		 	
passed		
 
=		 
$"		 
$str		 
{		  
value		  %
.		% &
ToString		& .
(		. /
)		/ 0
}		0 1
$str		1 9
"		9 :
;		: ;
string

 	
failed


 
=

 
$"

 
$str

 
{

  
value

  %
.

% &
ToString

& .
(

. /
)

/ 0
}

0 1
$str

1 :
"

: ;
;

; <
string 	
result
 
= 
value 
? 
passed !
:" #
failed$ *
;* +
return 	
Result
 
( 
value 
, 
passed 
, 
result  &
,& '
context( /
)/ 0
;0 1
} 
public 
static	 

Dictionary 
IsFalse "
(" #
bool# '
value( -
,- .
string/ 5
context6 =
)= >
{ 
string 	
passed
 
= 
$" 
$str 
{  
value  %
.% &
ToString& .
(. /
)/ 0
}0 1
$str1 :
": ;
;; <
string 	
failed
 
= 
$" 
$str 
{  
value  %
.% &
ToString& .
(. /
)/ 0
}0 1
$str1 9
"9 :
;: ;
bool 
success 
= 
! 
value 
; 
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
} 
} †X
YC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Equality.cs
	namespace 	
WAT
 
{ 
public		 

class		 
Equality		 
:		 
	Assertion		 $
{

 
public 
static 

Dictionary  
IsEqual! (
(( )
object) /
a0 1
,1 2
object3 9
b: ;
,; <
string= C
contextD K
)K L
{ 	
string 
passed 
= 
$" 
$str 
{  
a  !
?! "
." #
GetType# *
(* +
)+ ,
}, -
$str- /
{/ 0
a0 1
}1 2
$str2 @
{@ A
bA B
?B C
.C D
GetTypeD K
(K L
)L M
}M N
$strN O
{O P
bP Q
}Q R
"R S
;S T
string 
failed 
= 
$" 
$str 
{  
a  !
?! "
." #
GetType# *
(* +
)+ ,
}, -
$str- /
{/ 0
a0 1
}1 2
$str2 D
{D E
bE F
?F G
.G H
GetTypeH O
(O P
)P Q
}Q R
$strR S
{S T
bT U
}U V
"V W
;W X
bool 
success 
= 
a 
!= 
null  $
&&% '
b( )
!=) +
null, 0
&&1 3
a4 5
.5 6
Equals6 <
(< =
b= >
)> ?
;? @
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return 
Result 
( 
success !
,! "
passed# )
,) *
result+ 1
,1 2
context3 :
): ;
;; <
} 	
public 
static 

Dictionary  

IsNotEqual! +
(+ ,
object, 2
a3 4
,4 5
object6 <
b= >
,> ?
string@ F
contextG N
)N O
{ 	
string 
passed 
= 
$" 
$str 
{  
a  !
?! "
." #
GetType# *
(* +
)+ ,
}, -
$str- /
{/ 0
a0 1
}1 2
$str2 D
{D E
bE F
?F G
.G H
GetTypeH O
(O P
)P Q
}Q R
$strR S
{S T
bT U
}U V
"V W
;W X
string 
failed 
= 
$" 
$str 
{  
a  !
?! "
." #
GetType# *
(* +
)+ ,
}, -
$str- /
{/ 0
a0 1
}1 2
$str2 @
{@ A
bA B
?B C
.C D
GetTypeD K
(K L
)L M
}M N
$strN O
{O P
bP Q
}Q R
"R S
;S T
bool 
success 
= 
a 
!= 
null  $
&&% '
b( )
!=) +
null, 0
&&1 3
!4 5
(5 6
a6 7
.7 8
Equals8 >
(> ?
b? @
)@ A
)A B
;B C
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return 
Result 
( 
success !
,! "
passed# )
,) *
result+ 1
,1 2
context3 :
): ;
;; <
} 	
public 
static 

Dictionary   
IsEqualOrGreaterThan! 5
(5 6
float6 ;
a< =
,= >
float? D
bE F
,F G
stringH N
contextO V
)V W
{ 	
string 
passed 
= 
$" 
$str 
{  
a  !
.! "
GetType" )
() *
)* +
}+ ,
$str, .
{. /
a/ 0
}0 1
$str1 O
{O P
bP Q
.Q R
GetTypeR Y
(Y Z
)Z [
}[ \
$str\ ]
{] ^
b^ _
}_ `
"` a
;a b
string   
failed   
=   
$"   
$str   
{    
a    !
.  ! "
GetType  " )
(  ) *
)  * +
}  + ,
$str  , .
{  . /
a  / 0
}  0 1
$str  1 @
{  @ A
b  A B
.  B C
GetType  C J
(  J K
)  K L
}  L M
$str  M N
{  N O
b  O P
}  P Q
"  Q R
;  R S
bool!! 
success!! 
=!! 
a!! 
>=!! 
b!!  !
;!!! "
string"" 
result"" 
="" 
success"" #
?""$ %
passed""& ,
:""- .
failed""/ 5
;""5 6
return## 
Result## 
(## 
success## !
,##! "
passed### )
,##) *
result##+ 1
,##1 2
context##3 :
)##: ;
;##; <
}$$ 	
public&& 
static&& 

Dictionary&&  
IsEqualOrLessThan&&! 2
(&&2 3
float&&3 8
a&&9 :
,&&: ;
float&&< A
b&&B C
,&&C D
string&&E K
context&&L S
)&&S T
{'' 	
string(( 
passed(( 
=(( 
$"(( 
$str(( 
{((  
a((  !
.((! "
GetType((" )
((() *
)((* +
}((+ ,
$str((, .
{((. /
a((/ 0
}((0 1
$str((1 L
{((L M
b((M N
.((N O
GetType((O V
(((V W
)((W X
}((X Y
$str((Y Z
{((Z [
b(([ \
}((\ ]
"((] ^
;((^ _
string)) 
failed)) 
=)) 
$")) 
$str)) 
{))  
a))  !
.))! "
GetType))" )
())) *
)))* +
}))+ ,
$str)), .
{)). /
a))/ 0
}))0 1
$str))1 C
{))C D
b))D E
.))E F
GetType))F M
())M N
)))N O
}))O P
$str))P Q
{))Q R
b))R S
}))S T
"))T U
;))U V
bool** 
success** 
=** 
a** 
<=** 
b**  !
;**! "
string++ 
result++ 
=++ 
success++ #
?++$ %
passed++& ,
:++- .
failed++/ 5
;++5 6
return,, 
Result,, 
(,, 
success,, !
,,,! "
passed,,# )
,,,) *
result,,+ 1
,,,1 2
context,,3 :
),,: ;
;,,; <
}-- 	
public// 
static// 

Dictionary//  
IsGreaterThan//! .
(//. /
float/// 4
a//5 6
,//6 7
float//8 =
b//> ?
,//? @
string//A G
context//H O
)//O P
{00 	
string11 
passed11 
=11 
$"11 
$str11 
{11  
a11  !
.11! "
GetType11" )
(11) *
)11* +
}11+ ,
$str11, .
{11. /
a11/ 0
}110 1
$str111 C
{11C D
b11D E
.11E F
GetType11F M
(11M N
)11N O
}11O P
$str11P Q
{11Q R
b11R S
}11S T
"11T U
;11U V
string22 
failed22 
=22 
$"22 
$str22 
{22  
a22  !
.22! "
GetType22" )
(22) *
)22* +
}22+ ,
$str22, .
{22. /
a22/ 0
}220 1
$str221 L
{22L M
b22M N
.22N O
GetType22O V
(22V W
)22W X
}22X Y
$str22Y Z
{22Z [
b22[ \
}22\ ]
"22] ^
;22^ _
bool33 
success33 
=33 
a33 
>33 
b33  
;33  !
string44 
result44 
=44 
success44 #
?44$ %
passed44& ,
:44- .
failed44/ 5
;445 6
return55 
Result55 
(55 
success55 !
,55! "
passed55# )
,55) *
result55+ 1
,551 2
context553 :
)55: ;
;55; <
}66 	
public88 
static88 

Dictionary88  

IsLessThan88! +
(88+ ,
float88, 1
a882 3
,883 4
float885 :
b88; <
,88< =
string88> D
context88E L
)88L M
{99 	
string:: 
passed:: 
=:: 
$":: 
$str:: 
{::  
a::  !
.::! "
GetType::" )
(::) *
)::* +
}::+ ,
$str::, .
{::. /
a::/ 0
}::0 1
$str::1 @
{::@ A
b::A B
.::B C
GetType::C J
(::J K
)::K L
}::L M
$str::M N
{::N O
b::O P
}::P Q
"::Q R
;::R S
string;; 
failed;; 
=;; 
$";; 
$str;; 
{;;  
a;;  !
.;;! "
GetType;;" )
(;;) *
);;* +
};;+ ,
$str;;, .
{;;. /
a;;/ 0
};;0 1
$str;;1 O
{;;O P
b;;P Q
.;;Q R
GetType;;R Y
(;;Y Z
);;Z [
};;[ \
$str;;\ ]
{;;] ^
b;;^ _
};;_ `
";;` a
;;;a b
bool<< 
success<< 
=<< 
a<< 
<<< 
b<<  
;<<  !
string== 
result== 
=== 
success== #
?==$ %
passed==& ,
:==- .
failed==/ 5
;==5 6
return>> 
Result>> 
(>> 
success>> !
,>>! "
passed>># )
,>>) *
result>>+ 1
,>>1 2
context>>3 :
)>>: ;
;>>; <
}?? 	
}@@ 
}AA â
UC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\File.cs
	namespace 	
WAT
 
{ 
public 

class 
File 
: 
	Assertion  
{ 
public		 
static		 

Dictionary		  
Exists		! '
(		' (
string		( .
path		/ 3
,		3 4
string		5 ;
context		< C
)		C D
{

 	
string 
passed 
= 
$" 
{ 
path #
}# $
$str$ +
"+ ,
;, -
string 
failed 
= 
$" 
{ 
path #
}# $
$str$ 3
"3 4
;4 5
bool 
success 
= 
new 
Godot $
.$ %
File% )
() *
)* +
.+ ,

FileExists, 6
(6 7
path7 ;
); <
;< =
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return 
Result 
( 
success !
,! "
passed# )
,) *
result+ 1
,1 2
context3 :
): ;
;; <
} 	
public 
static 

Dictionary  
DoesNotExist! -
(- .
string. 4
path5 9
,9 :
string; A
contextB I
)I J
{ 	
string 
passed 
= 
$" 
{ 
path #
}# $
$str$ 3
"3 4
;4 5
string 
failed 
= 
$" 
{ 
path #
}# $
$str$ +
"+ ,
;, -
bool 
success 
= 
! 
new 
Godot  %
.% &
File& *
(* +
)+ ,
., -

FileExists- 7
(7 8
path8 <
)< =
;= >
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return 
Result 
( 
success !
,! "
passed# )
,) *
result+ 1
,1 2
context3 :
): ;
;; <
} 	
} 
} Ó
SC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Is.cs
	namespace 	
WAT
 
{ 
public 
class 
Is 
: 
	Assertion 
{ 
public		 
static			 

Dictionary		 
IsType		 !
<		! "
T		" #
>		# $
(		$ %
object		% +
value		, 1
,		1 2
string		3 9
context		: A
)		A B
{

 
string 	
passed
 
= 
$" 
{ 
value 
} 
$str (
{( )
typeof) /
(/ 0
T0 1
)1 2
}2 3
"3 4
;4 5
string 	
failed
 
= 
$" 
{ 
value 
} 
$str ,
{, -
typeof- 3
(3 4
T4 5
)5 6
}6 7
"7 8
;8 9
bool 
success 
= 
value 
is 
T 
; 
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
public 
static	 

Dictionary 
	IsNotType $
<$ %
T% &
>& '
(' (
object( .
value/ 4
,4 5
string6 <
context= D
)D E
{ 
string 	
passed
 
= 
$" 
{ 
value 
} 
$str (
{( )
typeof) /
(/ 0
T0 1
)1 2
}2 3
"3 4
;4 5
string 	
failed
 
= 
$" 
{ 
value 
} 
$str ,
{, -
typeof- 3
(3 4
T4 5
)5 6
}6 7
"7 8
;8 9
bool 
success 
= 
! 
( 
value 
is 
T 
) 
;  
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
} 
} Ù
UC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Null.cs
	namespace 	
WAT
 
{ 
public 
class 
Null 
: 
	Assertion 
{		 
public 
static	 

Dictionary 
IsNull !
(! "
object" (
obj) ,
,, -
string. 4
context5 <
)< =
{ 
const 
string	 
passed 
= 
$str )
;) *
const 
string	 
failed 
= 
$str -
;- .
bool 
success 
= 
obj 
is 
null 
; 
if 
( 
! 
success 
) 
{ 
} 
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
public 
static	 

Dictionary 
	IsNotNull $
($ %
object% +
obj, /
,/ 0
string1 7
context8 ?
)? @
{ 
string 	
passed
 
= 
$str '
;' (
const 
string	 
failed 
= 
$str )
;) *
bool 
success 
= 
! 
( 
obj 
is 
null 
)  
;  !
if 
( 
success 
) 
{   
passed!! 

=!! 
$"!! 
{!! 
obj!! 
}!! 
$str!!  
"!!  !
;!!! "
}"" 
string$$ 	
result$$
 
=$$ 
success$$ 
?$$ 
passed$$ #
:$$$ %
failed$$& ,
;$$, -
return%% 	
Result%%
 
(%% 
success%% 
,%% 
passed%%  
,%%  !
result%%" (
,%%( )
context%%* 1
)%%1 2
;%%2 3
}&& 
}'' 
}(( ›î
XC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\ObjectX.cs
	namespace 	
WAT
 
{ 
public 
class 
ObjectX 
: 
	Assertion  
{ 
public		 
static			 

Dictionary		 
DoesNotHaveMeta		 *
(		* +
Object		+ 1
obj		2 5
,		5 6
string		7 =
meta		> B
,		B C
string		D J
context		K R
)		R S
{

 
string 	
passed
 
= 
$" 
{ 
obj 
} 
$str .
{. /
meta/ 3
}3 4
"4 5
;5 6
string 	
failed
 
= 
$" 
{ 
obj 
} 
$str $
{$ %
meta% )
}) *
"* +
;+ ,
bool 
success 
= 
! 
obj 
. 
HasMeta 
( 
meta #
)# $
;$ %
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
public 
static	 

Dictionary 
DoesNotHaveMethod ,
(, -
Object- 3
obj4 7
,7 8
string9 ?
method@ F
,F G
stringH N
contextO V
)V W
{ 
string 	
passed
 
= 
$" 
{ 
obj 
} 
$str 0
{0 1
method1 7
}7 8
"8 9
;9 :
string 	
failed
 
= 
$" 
{ 
obj 
} 
$str &
{& '
method' -
}- .
". /
;/ 0
bool 
success 
= 
! 
obj 
. 
	HasMethod  
(  !
method! '
)' (
;( )
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
public 
static	 

Dictionary !
DoesNotHaveUserSignal 0
(0 1
Object1 7
obj8 ;
,; <
string= C
signalD J
,J K
stringL R
contextS Z
)Z [
{ 
string 	
passed
 
= 
$" 
{ 
obj 
} 
$str 5
{5 6
signal6 <
}< =
"= >
;> ?
string 	
failed
 
= 
$" 
{ 
obj 
} 
$str 1
{1 2
signal2 8
}8 9
"9 :
;: ;
bool 
success 
= 
! 
obj 
. 
HasUserSignal $
($ %
signal% +
)+ ,
;, -
string   	
result  
 
=   
success   
?   
passed   #
:  $ %
failed  & ,
;  , -
return!! 	
Result!!
 
(!! 
success!! 
,!! 
passed!!  
,!!  !
result!!" (
,!!( )
context!!* 1
)!!1 2
;!!2 3
}"" 
public$$ 
static$$	 

Dictionary$$ 
HasMeta$$ "
($$" #
Object$$# )
obj$$* -
,$$- .
string$$/ 5
meta$$6 :
,$$: ;
string$$< B
context$$C J
)$$J K
{%% 
string&& 	
passed&&
 
=&& 
$"&& 
{&& 
obj&& 
}&& 
$str&& $
{&&$ %
meta&&% )
}&&) *
"&&* +
;&&+ ,
string'' 	
failed''
 
='' 
$"'' 
{'' 
obj'' 
}'' 
$str'' .
{''. /
meta''/ 3
}''3 4
"''4 5
;''5 6
bool(( 
success(( 
=(( 
obj(( 
.(( 
HasMeta(( 
((( 
meta(( "
)((" #
;((# $
string)) 	
result))
 
=)) 
success)) 
?)) 
passed)) #
:))$ %
failed))& ,
;)), -
return** 	
Result**
 
(** 
success** 
,** 
passed**  
,**  !
result**" (
,**( )
context*** 1
)**1 2
;**2 3
}++ 
public-- 
static--	 

Dictionary-- 
	HasMethod-- $
(--$ %
Object--% +
obj--, /
,--/ 0
string--1 7
method--8 >
,--> ?
string--@ F
context--G N
)--N O
{.. 
string// 	
passed//
 
=// 
$"// 
{// 
obj// 
}// 
$str// &
{//& '
method//' -
}//- .
"//. /
;/// 0
string00 	
failed00
 
=00 
$"00 
{00 
obj00 
}00 
$str00 0
{000 1
method001 7
}007 8
"008 9
;009 :
bool11 
success11 
=11 
obj11 
.11 
	HasMethod11 
(11  
method11  &
)11& '
;11' (
string22 	
result22
 
=22 
success22 
?22 
passed22 #
:22$ %
failed22& ,
;22, -
return33 	
Result33
 
(33 
success33 
,33 
passed33  
,33  !
result33" (
,33( )
context33* 1
)331 2
;332 3
}44 
public66 
static66	 

Dictionary66 
HasUserSignal66 (
(66( )
Object66) /
obj660 3
,663 4
string665 ;
signal66< B
,66B C
string66D J
context66K R
)66R S
{77 
string88 	
passed88
 
=88 
$"88 
{88 
obj88 
}88 
$str88 +
{88+ ,
signal88, 2
}882 3
"883 4
;884 5
string99 	
failed99
 
=99 
$"99 
{99 
obj99 
}99 
$str99 5
{995 6
signal996 <
}99< =
"99= >
;99> ?
bool:: 
success:: 
=:: 
obj:: 
.:: 
HasUserSignal:: #
(::# $
signal::$ *
)::* +
;::+ ,
string;; 	
result;;
 
=;; 
success;; 
?;; 
passed;; #
:;;$ %
failed;;& ,
;;;, -
return<< 	
Result<<
 
(<< 
success<< 
,<< 
passed<<  
,<<  !
result<<" (
,<<( )
context<<* 1
)<<1 2
;<<2 3
}== 
public?? 
static??	 

Dictionary?? 
IsBlockingSignals?? ,
(??, -
Object??- 3
obj??4 7
,??7 8
string??9 ?
context??@ G
)??G H
{@@ 
stringAA 	
passedAA
 
=AA 
$"AA 
{AA 
objAA 
}AA 
$strAA .
"AA. /
;AA/ 0
stringBB 	
failedBB
 
=BB 
$"BB 
{BB 
objBB 
}BB 
$strBB 2
"BB2 3
;BB3 4
boolCC 
successCC 
=CC 
objCC 
.CC 
IsBlockingSignalsCC '
(CC' (
)CC( )
;CC) *
stringDD 	
resultDD
 
=DD 
successDD 
?DD 
passedDD #
:DD$ %
failedDD& ,
;DD, -
returnEE 	
ResultEE
 
(EE 
successEE 
,EE 
passedEE  
,EE  !
resultEE" (
,EE( )
contextEE* 1
)EE1 2
;EE2 3
}FF 
publicHH 
staticHH	 

DictionaryHH 
IsConnectedHH &
(HH& '
ObjectHH' -
senderHH. 4
,HH4 5
stringHH6 <
signalHH= C
,HHC D
ObjectHHE K
receiverHHL T
,HHT U
stringHHV \
methodHH] c
,HHc d
stringHHe k
contextHHl s
)HHs t
{II 
stringJJ 	
passedJJ
 
=JJ 
$"JJ 
{JJ 
senderJJ 
}JJ 
$strJJ 
{JJ 
signalJJ %
}JJ% &
$strJJ& 7
{JJ7 8
receiverJJ8 @
}JJ@ A
$strJJA B
{JJB C
methodJJC I
}JJI J
"JJJ K
;JJK L
stringKK 	
failedKK
 
=KK 
$"KK 
{KK 
senderKK 
}KK 
$strKK 
{KK 
signalKK %
}KK% &
$strKK& ;
{KK; <
receiverKK< D
}KKD E
$strKKE F
{KKF G
methodKKG M
}KKM N
"KKN O
;KKO P
boolLL 
successLL 
=LL 
senderLL 
.LL 
IsConnectedLL $
(LL$ %
signalLL% +
,LL+ ,
receiverLL- 5
,LL5 6
methodLL7 =
)LL= >
;LL> ?
stringMM 	
resultMM
 
=MM 
successMM 
?MM 
passedMM #
:MM$ %
failedMM& ,
;MM, -
returnNN 	
ResultNN
 
(NN 
successNN 
,NN 
passedNN  
,NN  !
resultNN" (
,NN( )
contextNN* 1
)NN1 2
;NN2 3
}OO 
publicQQ 
staticQQ	 

DictionaryQQ  
IsNotBlockingSignalsQQ /
(QQ/ 0
ObjectQQ0 6
objQQ7 :
,QQ: ;
stringQQ< B
contextQQC J
)QQJ K
{RR 
stringSS 	
passedSS
 
=SS 
$"SS 
{SS 
objSS 
}SS 
$strSS 2
"SS2 3
;SS3 4
stringTT 	
failedTT
 
=TT 
$"TT 
{TT 
objTT 
}TT 
$strTT .
"TT. /
;TT/ 0
boolUU 
successUU 
=UU 
!UU 
objUU 
.UU 
IsBlockingSignalsUU (
(UU( )
)UU) *
;UU* +
stringVV 	
resultVV
 
=VV 
successVV 
?VV 
passedVV #
:VV$ %
failedVV& ,
;VV, -
returnWW 	
ResultWW
 
(WW 
successWW 
,WW 
passedWW  
,WW  !
resultWW" (
,WW( )
contextWW* 1
)WW1 2
;WW2 3
}XX 
publicZZ 
staticZZ	 

DictionaryZZ 
IsNotConnectedZZ )
(ZZ) *
ObjectZZ* 0
senderZZ1 7
,ZZ7 8
stringZZ9 ?
signalZZ@ F
,ZZF G
ObjectZZH N
receiverZZO W
,ZZW X
stringZZY _
methodZZ` f
,ZZf g
stringZZh n
contextZZo v
)ZZv w
{[[ 
string\\ 	
passed\\
 
=\\ 
$"\\ 
{\\ 
sender\\ 
}\\ 
$str\\ 
{\\ 
signal\\ %
}\\% &
$str\\& ;
{\\; <
receiver\\< D
}\\D E
$str\\E F
{\\F G
method\\G M
}\\M N
"\\N O
;\\O P
string]] 	
failed]]
 
=]] 
$"]] 
{]] 
sender]] 
}]] 
$str]] 
{]] 
signal]] %
}]]% &
$str]]& 7
{]]7 8
receiver]]8 @
}]]@ A
$str]]A B
{]]B C
method]]C I
}]]I J
"]]J K
;]]K L
bool^^ 
success^^ 
=^^ 
!^^ 
sender^^ 
.^^ 
IsConnected^^ %
(^^% &
signal^^& ,
,^^, -
receiver^^. 6
,^^6 7
method^^8 >
)^^> ?
;^^? @
string__ 	
result__
 
=__ 
success__ 
?__ 
passed__ #
:__$ %
failed__& ,
;__, -
return`` 	
Result``
 
(`` 
success`` 
,`` 
passed``  
,``  !
result``" (
,``( )
context``* 1
)``1 2
;``2 3
}aa 
publiccc 
staticcc	 

Dictionarycc "
IsNotQueuedForDeletioncc 1
(cc1 2
Objectcc2 8
objcc9 <
,cc< =
stringcc> D
contextccE L
)ccL M
{dd 
stringee 	
passedee
 
=ee 
$"ee 
{ee 
objee 
}ee 
$stree 5
"ee5 6
;ee6 7
stringff 	
failedff
 
=ff 
$"ff 
{ff 
objff 
}ff 
$strff 1
"ff1 2
;ff2 3
boolgg 
successgg 
=gg 
!gg 
objgg 
.gg 
IsQueuedForDeletiongg *
(gg* +
)gg+ ,
;gg, -
stringhh 	
resulthh
 
=hh 
successhh 
?hh 
passedhh #
:hh$ %
failedhh& ,
;hh, -
returnii 	
Resultii
 
(ii 
successii 
,ii 
passedii  
,ii  !
resultii" (
,ii( )
contextii* 1
)ii1 2
;ii2 3
}jj 
publicll 
staticll	 

Dictionaryll 
IsQueuedForDeletionll .
(ll. /
Objectll/ 5
objll6 9
,ll9 :
stringll; A
contextllB I
)llI J
{mm 
stringnn 	
passednn
 
=nn 
$"nn 
{nn 
objnn 
}nn 
$strnn 1
"nn1 2
;nn2 3
stringoo 	
failedoo
 
=oo 
$"oo 
{oo 
objoo 
}oo 
$stroo 5
"oo5 6
;oo6 7
boolpp 
successpp 
=pp 
objpp 
.pp 
IsQueuedForDeletionpp )
(pp) *
)pp* +
;pp+ ,
stringqq 	
resultqq
 
=qq 
successqq 
?qq 
passedqq #
:qq$ %
failedqq& ,
;qq, -
returnrr 	
Resultrr
 
(rr 
successrr 
,rr 
passedrr  
,rr  !
resultrr" (
,rr( )
contextrr* 1
)rr1 2
;rr2 3
}ss 
publicuu 
staticuu	 

Dictionaryuu 
IsValidInstanceuu *
(uu* +
Objectuu+ 1
objuu2 5
=uu6 7
nulluu8 <
,uu< =
stringuu> D
contextuuE L
=uuM N
$struuO Q
)uuQ R
{vv 
boolww 
successww 
=ww 
Objectww 
.ww 
IsInstanceValidww (
(ww( )
objww) ,
)ww, -
;ww- .
stringxx 	
textxx
 
=xx 
successxx 
?xx 
objxx 
?xx 
.xx  
ToStringxx  (
(xx( )
)xx) *
:xx+ ,
$strxx- /
;xx/ 0
stringyy 	
passedyy
 
=yy 
$"yy 
{yy 
textyy 
}yy 
$stryy /
"yy/ 0
;yy0 1
stringzz 	
failedzz
 
=zz 
$"zz 
{zz 
textzz 
}zz 
$strzz 3
"zz3 4
;zz4 5
string{{ 	
result{{
 
={{ 
success{{ 
?{{ 
passed{{ #
:{{$ %
failed{{& ,
;{{, -
return|| 	
Result||
 
(|| 
success|| 
,|| 
passed||  
,||  !
result||" (
,||( )
context||* 1
)||1 2
;||2 3
}}} 
public 
static	 

Dictionary 
IsNotValidInstance -
(- .
Object. 4
obj5 8
=9 :
null; ?
,? @
stringA G
contextH O
=P Q
$strR T
)T U
{
ÄÄ 
bool
ÅÅ 
success
ÅÅ 
=
ÅÅ 
!
ÅÅ 
Object
ÅÅ 
.
ÅÅ 
IsInstanceValid
ÅÅ )
(
ÅÅ) *
obj
ÅÅ* -
)
ÅÅ- .
;
ÅÅ. /
string
ÇÇ 	
text
ÇÇ
 
=
ÇÇ 
success
ÇÇ 
?
ÇÇ 
$str
ÇÇ 
:
ÇÇ 
obj
ÇÇ  #
?
ÇÇ# $
.
ÇÇ$ %
ToString
ÇÇ% -
(
ÇÇ- .
)
ÇÇ. /
;
ÇÇ/ 0
string
ÉÉ 	
passed
ÉÉ
 
=
ÉÉ 
$"
ÉÉ 
{
ÉÉ 
text
ÉÉ 
}
ÉÉ 
$str
ÉÉ 3
"
ÉÉ3 4
;
ÉÉ4 5
string
ÑÑ 	
failed
ÑÑ
 
=
ÑÑ 
$"
ÑÑ 
{
ÑÑ 
text
ÑÑ 
}
ÑÑ 
$str
ÑÑ /
"
ÑÑ/ 0
;
ÑÑ0 1
string
ÖÖ 	
result
ÖÖ
 
=
ÖÖ 
success
ÖÖ 
?
ÖÖ 
passed
ÖÖ #
:
ÖÖ$ %
failed
ÖÖ& ,
;
ÖÖ, -
return
ÜÜ 	
Result
ÜÜ
 
(
ÜÜ 
success
ÜÜ 
,
ÜÜ 
passed
ÜÜ  
,
ÜÜ  !
result
ÜÜ" (
,
ÜÜ( )
context
ÜÜ* 1
)
ÜÜ1 2
;
ÜÜ2 3
}
áá 
}
àà 
}ââ õ'
YC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Property.cs
	namespace 	
WAT
 
{ 
public 

class 
Property 
: 
	Assertion $
{ 
public 
static 

Dictionary  
Contains! )
<) *
T* +
>+ ,
(, -
object- 3
value4 9
,9 :
T; <
	container= F
,F G
stringH N
contextO V
)V W
{		 	
string

 
passed

 
=

 
$"

 
{

 
	container

 (
.

( )
GetType

) 0
(

0 1
)

1 2
}

2 3
$str

3 >
{

> ?
value

? D
.

D E
GetType

E L
(

L M
)

M N
}

N O
$str

O P
{

P Q
value

Q V
}

V W
"

W X
;

X Y
string 
failed 
= 
$" 
{ 
	container (
.( )
GetType) 0
(0 1
)1 2
}2 3
$str3 F
{F G
valueG L
.L M
GetTypeM T
(T U
)U V
}V W
$strW X
{X Y
valueY ^
}^ _
"_ `
;` a

MethodInfo 
method 
= 
	container  )
.) *
GetType* 1
(1 2
)2 3
.3 4
	GetMethod4 =
(= >
$str> H
)H I
;I J
bool 
success 
= 
false  
;  !
if 
( 
method 
!= 
null 
) 
{ 
success 
= 
( 
bool 
)  
method! '
.' (
Invoke( .
(. /
	container/ 8
,8 9
new: =
object> D
[D E
]E F
{G H
valueH M
}M N
)N O
;O P
} 
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return 
Result 
( 
success !
,! "
passed# )
,) *
result+ 1
,1 2
context3 :
): ;
;; <
} 	
public 
static 

Dictionary  
DoesNotContain! /
</ 0
T0 1
>1 2
(2 3
object3 9
value: ?
,? @
TA B
	containerC L
,L M
stringN T
contextU \
)\ ]
{ 	
string 
passed 
= 
$" 
{ 
	container (
.( )
GetType) 0
(0 1
)1 2
}2 3
$str3 F
{F G
valueG L
.L M
GetTypeM T
(T U
)U V
}V W
$strW X
{X Y
valueY ^
}^ _
"_ `
;` a
string 
failed 
= 
$" 
{ 
	container (
.( )
GetType) 0
(0 1
)1 2
}2 3
$str3 >
{> ?
value? D
.D E
GetTypeE L
(L M
)M N
}N O
$strO P
{P Q
valueQ V
}V W
"W X
;X Y

MethodInfo 
method 
= 
	container  )
.) *
GetType* 1
(1 2
)2 3
.3 4
	GetMethod4 =
(= >
$str> H
)H I
;I J
bool 
success 
= 
false  
;  !
if 
( 
method 
!= 
null 
) 
{ 
success 
= 
! 
( 
bool  
)  !
method" (
.( )
Invoke) /
(/ 0
	container0 9
,9 :
new; >
object? E
[E F
]F G
{H I
valueI N
}N O
)O P
;P Q
}   
string"" 
result"" 
="" 
success"" #
?""$ %
passed""& ,
:""- .
failed""/ 5
;""5 6
return## 
Result## 
(## 
success## !
,##! "
passed### )
,##) *
result##+ 1
,##1 2
context##3 :
)##: ;
;##; <
}$$ 	
}%% 
}&& É
VC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Range.cs
	namespace 	
WAT
 
{ 
public 
class 
Range 
: 
	Assertion 
{ 
public 
static	 

Dictionary 
	IsInRange $
($ %
double% +
val, /
,/ 0
double1 7
low8 ;
,; <
double= C
highD H
,H I
stringJ P
contextQ X
)X Y
{		 
string

 	
passed


 
=

 
$"

 
{

 
val

 
}

 
$str

 '
{

' (
low

( +
}

+ ,
$str

, -
{

- .
high

. 2
}

2 3
"

3 4
;

4 5
string 	
failed
 
= 
$" 
{ 
val 
} 
$str +
{+ ,
low, /
}/ 0
$str0 1
{1 2
high2 6
}6 7
"7 8
;8 9
bool 
success 
= 
val 
>= 
low 
&& 
val  #
<$ %
high& *
;* +
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
public 
static	 

Dictionary 
IsNotInRange '
(' (
double( .
val/ 2
,2 3
double4 :
low; >
,> ?
double@ F
highG K
,K L
stringM S
contextT [
)[ \
{ 
string 	
passed
 
= 
$" 
{ 
val 
} 
$str +
{+ ,
low, /
}/ 0
$str0 1
{1 2
high2 6
}6 7
"7 8
;8 9
string 	
failed
 
= 
$" 
{ 
val 
} 
$str '
{' (
low( +
}+ ,
$str, -
{- .
high. 2
}2 3
"3 4
;4 5
bool 
success 
= 
val 
< 
low 
|| 
val "
>=# %
high& *
;* +
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
} 
} ÈP
WC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Signal.cs
	namespace

 	
WAT


 
{ 
public 
class 
Signal 
: 
	Assertion 
{ 
public 
static	 

Dictionary 

WasEmitted %
(% &
Object& ,
emitter- 4
,4 5
string6 <
signal= C
,C D
stringE K
contextL S
)S T
{ 
string 	
passed
 
= 
$" 
$str 
{ 
signal #
}# $
$str$ 6
{6 7
emitter7 >
}> ?
"? @
;@ A
string 	
failed
 
= 
$" 
$str 
{ 
signal #
}# $
$str$ :
{: ;
emitter; B
}B C
"C D
;D E
	Reference 
watcher 
= 
( 
	Reference !
)! "
emitter# *
.* +
Call+ /
(/ 0
$str0 :
,: ;
$str< E
)E F
;F G
bool 
success 
= 
( 
int 
) 
watcher 
.  
Call  $
($ %
$str% 5
,5 6
signal7 =
)= >
>? @
$numA B
;B C
string 	
result
 
= 
success 
? 
passed #
:$ %
failed& ,
;, -
return 	
Result
 
( 
success 
, 
passed  
,  !
result" (
,( )
context* 1
)1 2
;2 3
} 
public 
static	 

Dictionary 
WasNotEmitted (
(( )
Object) /
emitter0 7
,7 8
string9 ?
signal@ F
,F G
stringH N
contextO V
)V W
{ 
string 	
passed
 
= 
$" 
$str 
{ 
signal #
}# $
$str$ :
{: ;
emitter; B
}B C
"C D
;D E
string 	
failed
 
= 
$" 
$str 
{ 
signal #
}# $
$str$ 6
{6 7
emitter7 >
}> ?
"? @
;@ A
	Reference 
watcher 
= 
( 
	Reference !
)! "
emitter# *
.* +
GetMeta+ 2
(2 3
$str3 <
)< =
;= >
bool   
success   
=   
(   
int   
)   
watcher   
.    
Call    $
(  $ %
$str  % 5
,  5 6
signal  7 =
)  = >
<=  ? A
$num  B C
;  C D
string!! 	
result!!
 
=!! 
success!! 
?!! 
passed!! #
:!!$ %
failed!!& ,
;!!, -
return## 	
Result##
 
(## 
success## 
,## 
passed##  
,##  !
result##" (
,##( )
context##* 1
)##1 2
;##2 3
}$$ 
public&& 
static&&	 

Dictionary&& 
WasEmittedXTimes&& +
(&&+ ,
Object&&, 2
emitter&&3 :
,&&: ;
string&&< B
signal&&C I
,&&I J
int&&K N
times&&O T
,&&T U
string&&V \
context&&] d
)&&d e
{'' 
string(( 	
passed((
 
=(( 
$"(( 
$str(( 
{(( 
signal(( #
}((# $
$str(($ 1
{((1 2
times((2 7
}((7 8
$str((8 D
{((D E
emitter((E L
}((L M
"((M N
;((N O
string)) 	
failed))
 
=)) 
$")) 
$str)) 
{)) 
signal)) #
}))# $
$str))$ 5
{))5 6
times))6 ;
})); <
$str))< H
{))H I
emitter))I P
}))P Q
"))Q R
;))R S
	Reference++ 
watcher++ 
=++ 
(++ 
	Reference++ !
)++! "
emitter++# *
.++* +
GetMeta+++ 2
(++2 3
$str++3 <
)++< =
;++= >
bool,, 
success,, 
=,, 
(,, 
int,, 
),, 
watcher,, 
.,,  
Call,,  $
(,,$ %
$str,,% 5
,,,5 6
signal,,7 =
),,= >
==,,? A
times,,B G
;,,G H
string-- 	
result--
 
=-- 
success-- 
?-- 
passed-- #
:--$ %
failed--& ,
;--, -
return// 	
Result//
 
(// 
success// 
,// 
passed//  
,//  !
result//" (
,//( )
context//* 1
)//1 2
;//2 3
}00 
public22 
static22	 

Dictionary22 
WasEmittedWithArgs22 -
(22- .
Object22. 4
emitter225 <
,22< =
string22> D
signal22E K
,22K L
Array22M R
	arguments22S \
,22\ ]
string22^ d
context22e l
)22l m
{33 
string44 	
passed44
 
=44 
$"44 
$str44 
{44 
signal44 #
}44# $
$str44$ 6
{446 7
emitter447 >
}44> ?
$str44? O
{44O P
	arguments44P Y
}44Y Z
"44Z [
;44[ \
string55 	
failed55
 
=55 
$"55 
$str55 
{55 
signal55 #
}55# $
$str55$ :
{55: ;
emitter55; B
}55B C
$str55C S
{55S T
	arguments55T ]
}55] ^
"55^ _
;55_ `
string66 	

altFailure66
 
=66 
$"66 
$str66  
{66  !
signal66! '
}66' (
$str66( >
{66> ?
emitter66? F
}66F G
"66G H
;66H I
bool88 
success88 
=88 
false88 
;88 
string99 	
result99
 
=99 
$str99 
;99 
	Reference:: 
watcher:: 
=:: 
(:: 
	Reference:: !
)::! "
emitter::# *
.::* +
GetMeta::+ 2
(::2 3
$str::3 <
)::< =
;::= >
IDictionary;; 
data;; 
=;; 
(;; 
IDictionary;; "
);;" #
watcher;;$ +
.;;+ ,
Call;;, 0
(;;0 1
$str;;1 ;
,;;; <
signal;;= C
);;C D
;;;D E
if<< 
(<< 
(<< 
int<< 
)<< 
data<< 
[<< 
$str<< 
]<< 
<=<<  "
$num<<# $
)<<$ %
{== 
success>> 
=>> 
false>> 
;>> 
result?? 

=?? 

altFailure?? 
;?? 
}@@ 
elseAA 
ifAA 

(AA 
FoundMatchingCallAA 
(AA 
	argumentsAA '
,AA' (
(AA) *
IEnumerableAA* 5
)AA5 6
dataAA7 ;
[AA; <
$strAA< C
]AAC D
)AAD E
)AAE F
{BB 
successCC 
=CC 
trueCC 
;CC 
resultDD 

=DD 
passedDD 
;DD 
}EE 
elseFF 
{GG 
successHH 
=HH 
falseHH 
;HH 
resultII 

=II 
failedII 
;II 
}JJ 
returnLL 	
ResultLL
 
(LL 
successLL 
,LL 
passedLL  
,LL  !
resultLL" (
,LL( )
contextLL* 1
)LL1 2
;LL2 3
}MM 
privateOO 	
staticOO
 
boolOO 
FoundMatchingCallOO '
(OO' (
IListOO( -
argsOO. 2
,OO2 3
IEnumerableOO4 ?
callsOO@ E
)OOE F
{PP 
foreachQQ 

(QQ 
IDictionaryQQ 
callQQ 
inQQ 
callsQQ  %
)QQ% &
{RR 
ifSS 
(SS 
MatchSS 
(SS 
argsSS 
,SS 
(SS 
ArraySS 
)SS 
callSS  
[SS  !
$strSS! '
]SS' (
)SS( )
)SS) *
{TT 
returnUU 
trueUU 
;UU 
}VV 
}WW 
returnYY 	
falseYY
 
;YY 
}ZZ 
private\\ 	
static\\
 
bool\\ 
Match\\ 
(\\ 
IList\\ !
	arguments\\" +
,\\+ ,
IList\\- 2
callArguments\\3 @
)\\@ A
{]] 
for^^ 
(^^ 
int^^ 
i^^ 
=^^ 
$num^^ 
;^^ 
i^^ 
<^^ 
	arguments^^  
.^^  !
Count^^! &
;^^& '
i^^( )
++^^) +
)^^+ ,
{__ 
if`` 
(`` 
!`` 	
Equals``	 
(`` 
	arguments`` 
[`` 
i`` 
]`` 
,`` 
callArguments`` +
[``+ ,
i``, -
]``- .
)``. /
)``/ 0
{aa 
returnbb 
falsebb 
;bb 
}cc 
}dd 
returnee 	
trueee
 
;ee 
}ff 
}gg 
}hh ô>
XC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\StringX.cs
	namespace 	
WAT
 
{ 
public 

class 
StringX 
: 
	Assertion #
{ 
public 
static 

Dictionary  

BeginsWith! +
(+ ,
string, 2
value3 8
,8 9
string: @
strA D
,D E
stringF L
contextM T
)T U
{		 	
string

 
passed

 
=

 
$"

 
{

 
str

 "
}

" #
$str

# 0
{

0 1
value

1 6
}

6 7
"

7 8
;

8 9
string 
failed 
= 
$" 
{ 
str "
}" #
$str# 8
{8 9
value9 >
}> ?
"? @
;@ A
bool 
success 
= 
str 
. 

BeginsWith )
() *
value* /
)/ 0
;0 1
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return 
Result 
( 
success !
,! "
passed# )
,) *
result+ 1
,1 2
context3 :
): ;
;; <
} 	
public 
static 

Dictionary  
DoesNotBeginWith! 1
(1 2
string2 8
value9 >
,> ?
string@ F
strG J
,J K
stringL R
contextS Z
)Z [
{ 	
string 
passed 
= 
$" 
{ 
str "
}" #
$str# 8
{8 9
value9 >
}> ?
"? @
;@ A
string 
failed 
= 
$" 
{ 
str "
}" #
$str# 0
{0 1
value1 6
}6 7
"7 8
;8 9
bool 
success 
= 
! 
str 
.  

BeginsWith  *
(* +
value+ 0
)0 1
;1 2
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return 
Result 
( 
success !
,! "
passed# )
,) *
result+ 1
,1 2
context3 :
): ;
;; <
} 	
public 
static 

Dictionary  
Contains! )
() *
string* 0
value1 6
,6 7
string8 >
str? B
,B C
stringD J
contextK R
)R S
{ 	
string 
passed 
= 
$" 
{ 
str "
}" #
$str# -
{- .
value. 3
}3 4
"4 5
;5 6
string 
failed 
= 
$" 
{ 
str "
}" #
$str# 5
{5 6
value6 ;
}; <
"< =
;= >
bool 
success 
= 
str 
. 
Contains '
(' (
value( -
)- .
;. /
string 
result 
= 
success #
?$ %
passed& ,
:- .
failed/ 5
;5 6
return   
Result   
(   
success   !
,  ! "
passed  # )
,  ) *
result  + 1
,  1 2
context  3 :
)  : ;
;  ; <
}!! 	
public## 
static## 

Dictionary##  
DoesNotContain##! /
(##/ 0
string##0 6
value##7 <
,##< =
string##> D
str##E H
,##H I
string##J P
context##Q X
)##X Y
{$$ 	
string%% 
passed%% 
=%% 
$"%% 
{%% 
str%% "
}%%" #
$str%%# 5
{%%5 6
value%%6 ;
}%%; <
"%%< =
;%%= >
string&& 
failed&& 
=&& 
$"&& 
{&& 
str&& "
}&&" #
$str&&# -
{&&- .
value&&. 3
}&&3 4
"&&4 5
;&&5 6
bool'' 
success'' 
='' 
!'' 
str'' 
.''  
Contains''  (
(''( )
value'') .
)''. /
;''/ 0
string(( 
result(( 
=(( 
success(( #
?(($ %
passed((& ,
:((- .
failed((/ 5
;((5 6
return)) 
Result)) 
()) 
success)) !
,))! "
passed))# )
,))) *
result))+ 1
,))1 2
context))3 :
))): ;
;)); <
}** 	
public,, 
static,, 

Dictionary,,  
EndsWith,,! )
(,,) *
string,,* 0
value,,1 6
,,,6 7
string,,8 >
str,,? B
,,,B C
string,,D J
context,,K R
),,R S
{-- 	
string.. 
passed.. 
=.. 
$".. 
{.. 
str.. "
}.." #
$str..# .
{... /
value../ 4
}..4 5
"..5 6
;..6 7
string// 
failed// 
=// 
$"// 
{// 
str// "
}//" #
$str//# 6
{//6 7
value//7 <
}//< =
"//= >
;//> ?
bool00 
success00 
=00 
str00 
.00 
EndsWith00 '
(00' (
value00( -
)00- .
;00. /
string11 
result11 
=11 
success11 #
?11$ %
passed11& ,
:11- .
failed11/ 5
;115 6
return22 
Result22 
(22 
success22 !
,22! "
passed22# )
,22) *
result22+ 1
,221 2
context223 :
)22: ;
;22; <
}33 	
public55 
static55 

Dictionary55  
DoesNotEndWith55! /
(55/ 0
string550 6
value557 <
,55< =
string55> D
str55E H
,55H I
string55J P
context55Q X
)55X Y
{66 	
string77 
passed77 
=77 
$"77 
{77 
str77 "
}77" #
$str77# 6
{776 7
value777 <
}77< =
"77= >
;77> ?
string88 
failed88 
=88 
$"88 
{88 
str88 "
}88" #
$str88# -
{88- .
value88. 3
}883 4
"884 5
;885 6
bool99 
success99 
=99 
!99 
str99 
.99  
EndsWith99  (
(99( )
value99) .
)99. /
;99/ 0
string:: 
result:: 
=:: 
success:: #
?::$ %
passed::& ,
:::- .
failed::/ 5
;::5 6
return;; 
Result;; 
(;; 
success;; !
,;;! "
passed;;# )
,;;) *
result;;+ 1
,;;1 2
context;;3 :
);;: ;
;;;; <
}<< 	
}== 
}>> Æ>
XC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\assertions\Utility.cs
	namespace 	
WAT
 
{ 
public		 
class		 
Utility		 
:		 
	Assertion		  
{

 
public 
static	 

Dictionary 
Fail 
(  
string  &
context' .
). /
{ 
return 	
Result
 
( 
false 
, 
$str 
, 
$str $
,$ %
context& -
)- .
;. /
} 
public 
static	 

Dictionary 
AutoPass #
(# $
string$ *
context+ 2
)2 3
{ 
return 	
Result
 
( 
true 
, 
$str 
, 
$str #
,# $
context% ,
), -
;- .
} 
public 
static	 

Dictionary 
Throws !
(! "
Action" (
function) 1
,1 2
string3 9
context: A
)A B
{ 
try 
{ 
function 
( 
) 
; 
const 	
string
 
fail 
= 
$str 1
;1 2
return 

Result 
( 
false 
, 
$str /
,/ 0
fail1 5
,5 6
context7 >
)> ?
;? @
} 
catch 
(	 

	Exception
 
e 
) 
{ 
string 

pass 
= 
$" 
$str $
{$ %
e% &
}& '
$str' 6
{6 7
e7 8
.8 9
Message9 @
}@ A
"A B
;B C
return   

Result   
(   
true   
,   
$str   .
,  . /
pass  0 4
,  4 5
context  6 =
)  = >
;  > ?
}!! 
}"" 
public$$ 
static$$	 

Dictionary$$ 
DoesNotThrow$$ '
($$' (
Action$$( .
function$$/ 7
,$$7 8
string$$9 ?
context$$@ G
)$$G H
{%% 
try&& 
{'' 
function(( 
((( 
)(( 
;(( 
string)) 

pass)) 
=)) 
$")) 
$str)) +
"))+ ,
;)), -
return** 

Result** 
(** 
true** 
,** 
$str** 1
,**1 2
pass**3 7
,**7 8
context**9 @
)**@ A
;**A B
}++ 
catch,, 
(,,	 

	Exception,,
 
e,, 
),, 
{-- 
string.. 

fail.. 
=.. 
$".. 
$str.. 
{.. 
e.. 
}.. 
$str.. ,
{.., -
e..- .
.... /
Message../ 6
}..6 7
"..7 8
;..8 9
return// 

Result// 
(// 
true// 
,// 
$str// 1
,//1 2
fail//3 7
,//7 8
context//9 @
)//@ A
;//A B
}00 
}11 
public33 
static33	 

Dictionary33 
Throws33 !
<33! "
T33" #
>33# $
(33$ %
Action33% +
function33, 4
,334 5
string336 <
context33= D
)33D E
{44 
string55 	
expected55
 
=55 
$"55 
{55 
typeof55 
(55 
T55  
)55  !
}55! "
$str55" -
"55- .
;55. /
try66 
{77 
function88 
(88 
)88 
;88 
const99 	
string99
 
fail99 
=99 
$str99 1
;991 2
return:: 

Result:: 
(:: 
false:: 
,:: 
expected:: !
,::! "
fail::# '
,::' (
context::) 0
)::0 1
;::1 2
};; 
catch<< 
(<<	 

	Exception<<
 
e<< 
)<< 
{== 
if>> 
(>> 
e>> 	
is>>
 
T>> 
)>> 
{?? 
string@@ 
pass@@ 
=@@ 
$"@@ 
$str@@ 
{@@ 
e@@ 
}@@ 
$str@@ -
{@@- .
e@@. /
.@@/ 0
Message@@0 7
}@@7 8
"@@8 9
;@@9 :
returnAA 
ResultAA 
(AA 
trueAA 
,AA 
expectedAA !
,AA! "
passAA# '
,AA' (
contextAA) 0
)AA0 1
;AA1 2
}BB 
stringDD 

failDD 
=DD 
$"DD 
$strDD 
{DD 
eDD 
}DD 
$strDD ,
{DD, -
eDD- .
.DD. /
MessageDD/ 6
}DD6 7
"DD7 8
;DD8 9
returnEE 

ResultEE 
(EE 
falseEE 
,EE 
expectedEE !
,EE! "
failEE# '
,EE' (
contextEE) 0
)EE0 1
;EE1 2
}FF 
}GG 
publicII 
staticII	 

DictionaryII 
DoesNotThrowII '
<II' (
TII( )
>II) *
(II* +
ActionII+ 1
functionII2 :
,II: ;
stringII< B
contextIIC J
)IIJ K
{JJ 
stringKK 	
expectedKK
 
=KK 
$"KK 
{KK 
typeofKK 
(KK 
TKK  
)KK  !
}KK! "
$strKK" 1
"KK1 2
;KK2 3
tryLL 
{MM 
functionNN 
(NN 
)NN 
;NN 
stringOO 

passOO 
=OO 
$"OO 
$strOO "
{OO" #
typeofOO# )
(OO) *
TOO* +
)OO+ ,
}OO, -
"OO- .
;OO. /
returnPP 

ResultPP 
(PP 
truePP 
,PP 
expectedPP  
,PP  !
passPP" &
,PP& '
contextPP( /
)PP/ 0
;PP0 1
}QQ 
catchRR 
(RR	 

	ExceptionRR
 
eRR 
)RR 
{SS 
stringTT 

passTT 
=TT 
$strTT 
;TT 
ifUU 
(UU 
eUU 	
isUU
 
TUU 
)UU 
{VV 
stringWW 
failWW 
=WW 
$"WW 
$strWW 
{WW 
eWW 
}WW 
$strWW -
{WW- .
eWW. /
.WW/ 0
MessageWW0 7
}WW7 8
"WW8 9
;WW9 :
returnXX 
ResultXX 
(XX 
falseXX 
,XX 
expectedXX "
,XX" #
failXX$ (
,XX( )
contextXX* 1
)XX1 2
;XX2 3
}YY 
pass[[ 
=[[	 

$"[[ 
$str[[ 
{[[ 
e[[ 
}[[ 
$str[[ %
{[[% &
e[[& '
.[[' (
Message[[( /
}[[/ 0
"[[0 1
;[[1 2
return\\ 

Result\\ 
(\\ 
true\\ 
,\\ 
expected\\  
,\\  !
pass\\" &
,\\& '
context\\( /
)\\/ 0
;\\0 1
}]] 
}^^ 
}__ 
}`` ã
PC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\Attributes.cs
	namespace 	
WAT
 
{ 
public 
partial 
class 
Test 
: 
Node  
{ 
[ 
AttributeUsage 
( 
AttributeTargets "
." #
Class# (
)( )
]) *
	protected		 
class		 
TitleAttribute		  
:		! "
	Attribute		# ,
{

 
public 	
readonly
 
string 
Title 
;  
public 	
TitleAttribute
 
( 
string 
title  %
)% &
{ 
Title 	
=
 
title 
; 
} 
} 
[ 
AttributeUsage 
( 
AttributeTargets "
." #
Class# (
)( )
]) *
	protected 
class 
HookAttribute 
:  !
	Attribute" +
{ 
public 	
readonly
 
string 
Method  
;  !
	protected 
HookAttribute 
( 
string !
method" (
)( )
=>* ,
Method- 3
=4 5
method6 <
;< =
} 
[ 
AttributeUsage 
( 
AttributeTargets "
." #
Method# )
,) *
AllowMultiple+ 8
=9 :
true; ?
)? @
]@ A
	protected 
class 
TestAttribute 
:  !
	Attribute" +
{ 
public 	
readonly
 
object 
[ 
] 
	Arguments %
;% &
public 	
TestAttribute
 
( 
params 
object %
[% &
]& '
args( ,
), -
{. /
	Arguments0 9
=: ;
args< @
;@ A
}B C
} 
	protected!! 
class!! 
StartAttribute!!  
:!!! "
HookAttribute!!# 0
{!!1 2
public!!3 9
StartAttribute!!: H
(!!H I
string!!I O
method!!P V
)!!V W
:!!X Y
base!!Z ^
(!!^ _
method!!_ e
)!!e f
{!!g h
}!!i j
}!!k l
	protected"" 
class"" 
PreAttribute"" 
:""  
HookAttribute""! .
{""/ 0
public""1 7
PreAttribute""8 D
(""D E
string""E K
method""L R
)""R S
:""T U
base""V Z
(""Z [
method""[ a
)""a b
{""c d
}""e f
}""g h
	protected## 
class## 
PostAttribute## 
:##  !
HookAttribute##" /
{##0 1
public##2 8
PostAttribute##9 F
(##F G
string##G M
method##N T
)##T U
:##V W
base##X \
(##\ ]
method##] c
)##c d
{##e f
}##g h
}##i j
	protected$$ 
class$$ 
EndAttribute$$ 
:$$  
HookAttribute$$! .
{$$/ 0
public$$1 7
EndAttribute$$8 D
($$D E
string$$E K
method$$L R
)$$R S
:$$T U
base$$V Z
($$Z [
method$$[ a
)$$a b
{$$c d
}$$e f
}$$g h
}%% 
}&& ◊
PC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\BuildScene.cs
public 
class 

BuildScene 
: 
Node 
{ 
public 
override 
void 
_Ready 
( 
) 
{ 
GetTree 	
(	 

)
 
. 
Quit 
( 
) 
; 
}		 
}

 π
UC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\GDScriptWrapper.cs
	namespace 	
WAT
 
{ 
public 
partial 
class 
Test 
: 
Node  
{ 
[ 
Signal 	
]	 

public 
delegate 
void 
test_method_started  3
(3 4
)4 5
;5 6
[ 
Signal 	
]	 

public 
delegate 
void 
asserted  (
(( )
)) *
;* +
[ 
Signal 	
]	 

public 
delegate 
void  
test_method_finished  4
(4 5
)5 6
;6 7
[ 
Signal 	
]	 

public 
delegate 
void  
test_script_finished  4
(4 5
)5 6
;6 7
private 	
const
 
bool 
IS_WAT_TEST  
=! "
true# '
;' (
private 	
void
 
OnAssertion 
( 
Godot  
.  !
Collections! ,
., -

Dictionary- 7
	assertion8 A
)A B
{ 

EmitSignal 
( 
nameof 
( 
asserted 
) 
, 
	assertion  )
)) *
;* +
} 
public 
String	 
title 
( 
) 
{ 
return  
Title! &
(& '
)' (
;( )
}* +
public 
Array	 
get_test_methods 
(  
)  !
{ 
return   	
new  
 
Array   
(!! 
GetType!! 
(!! 
)!! 
.!! 

GetMethods!! 
(!! 
)!! 
.!! 
Where"" 	
(""	 

m""
 
=>"" 
m"" 
."" 
	IsDefined"" 
("" 
typeof"" !
(""! "
TestAttribute""" /
)""/ 0
)""0 1
)""1 2
.""2 3
Select## 

(##
 
m## 
=>## 
(## 
string## 
)## 
m## 
.## 
Name## 
)##  
.##  !
ToList##! '
(##' (
)##( )
)##) *
;##* +
}$$ 
public&& 
Test&&	 
setup&& 
(&& 
string&& 
	directory&& $
,&&$ %
string&&& ,
filepath&&- 5
,&&5 6
IEnumerable&&7 B
<&&B C
string&&C I
>&&I J
methods&&K R
)&&R S
{'' 
_methods(( 
=(( 
GenerateTestMethods(( !
(((! "
methods((" )
)(() *
;((* +
_case)) 
=))	 

()) 
Object)) 
))) 
GD)) 
.)) 
Load)) 
<)) 
GDScript)) $
>))$ %
())% &
$str))& E
)))E F
.))F G
New))G J
())J K
	directory))K T
,))T U
filepath))V ^
,))^ _
Title))` e
())e f
)))f g
,))g h
this))i m
)))m n
;))n o
return** 	
this**
 
;** 
}++ 
}-- 
}.. ◊Æ
JC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\addons\WAT\mono\Test.cs
	namespace

 	
WAT


 
{ 
[ 
Start 
( 
nameof 
( 
Blank 
) 
) 
] 
[ 
Pre 
( 
nameof 
( 
Blank 
) 
) 
] 
[ 
Post 
( 
nameof 
( 
Blank 
) 
) 
] 
[ 
End 
( 
nameof 
( 
Blank 
) 
) 
] 
public 
partial 
class 
Test 
: 
Node !
{ 
[ 
Signal 	
]	 

private 
delegate 
void  
EventRaised! ,
(, -
)- .
;. /
[ 
Signal 	
]	 

public 
delegate 
void 
	described  )
() *
)* +
;+ ,
private 	
const
 
int 
Recorder 
= 
$num  
;  !
private 	
IEnumerable
 
< 

Executable  
>  !
_methods" *
=+ ,
null- 1
;1 2
private 	
Object
 
_case 
= 
null 
; 
private 	
static
 
GDScript 
TestCase "
{# $
get% (
;( )
}* +
=, -
GD. 0
.0 1
Load1 5
<5 6
GDScript6 >
>> ?
(? @
$str@ _
)_ `
;` a
private 	
	Reference
 
_watcher 
{ 
get "
;" #
set$ '
;' (
}) *
	protected 
Timer 
Yielder 
{ 
get 
;  
private! (
set) ,
;, -
}. /
	protected 

Assertions 
Assert 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
	protected 
Type 
_type 
; 
	protected 
Test 
( 
) 
{ 
_type 
= 
GetType $
($ %
)% &
;& '
}( )
public 
void	 
Blank 
( 
) 
{ 
} 
public   
override  	 
void   
_Ready   
(   
)   
{!! 
_watcher## 
=## 
(## 
	Reference## 
)## 
GD## 
.## 
Load## !
<##! "
GDScript##" *
>##* +
(##+ ,
$str##, N
)##N O
.##O P
New##P S
(##S T
)##T U
;##U V
Yielder$$ 

=$$ 
($$ 
Timer$$ 
)$$ 
GD$$ 
.$$ 
Load$$ 
<$$ 
GDScript$$ %
>$$% &
($$& '
$str$$' I
)$$I J
.$$J K
New$$K N
($$N O
)$$O P
;$$P Q
Assert%% 	
=%%
 
new%% 

Assertions%% 
(%% 
)%% 
;%% 
Assert&& 	
.&&	 

Connect&&
 
(&& 
nameof&& 
(&& 

Assertions&& #
.&&# $
asserted&&$ ,
)&&, -
,&&- .
_case&&/ 4
,&&4 5
$str&&6 D
)&&D E
;&&E F
Assert'' 	
.''	 

Connect''
 
('' 
nameof'' 
('' 

Assertions'' #
.''# $
asserted''$ ,
)'', -
,''- .
this''/ 3
,''3 4
nameof''5 ;
(''; <
OnAssertion''< G
)''G H
)''H I
;''I J
Connect(( 

(((
 
nameof(( 
((( 
	described(( 
)(( 
,(( 
_case(( #
,((# $
$str((% @
)((@ A
;((A B
AddChild)) 
()) 
Yielder)) 
))) 
;)) 
CallDeferred** 
(** 
nameof** 
(** 
Run** 
)** 
)** 
;** 
}++ 
private-- 	
async--
 
void-- 
Run-- 
(-- 
)-- 
{.. 

MethodInfo00 
start00 
=00 
GetTestHook00 !
(00! "
typeof00" (
(00( )
StartAttribute00) 7
)007 8
)008 9
;009 :

MethodInfo11 
pre11 
=11 
GetTestHook11 
(11  
typeof11  &
(11& '
PreAttribute11' 3
)113 4
)114 5
;115 6

MethodInfo22 
post22 
=22 
GetTestHook22  
(22  !
typeof22! '
(22' (
PostAttribute22( 5
)225 6
)226 7
;227 8

MethodInfo33 
end33 
=33 
GetTestHook33 
(33  
typeof33  &
(33& '
EndAttribute33' 3
)333 4
)334 5
;335 6
await44 
CallTestHook44	 
(44 
start44 
)44 
;44 
foreach55 

(55 

Executable55 
test55 
in55 
_methods55 '
)55' (
{66 
_case77 	
.77	 

Call77
 
(77 
$str77 
,77 
test77 !
.77! "
Method77" (
.77( )
Name77) -
)77- .
;77. /

EmitSignal88 
(88 
nameof88 
(88 
test_method_started88 )
)88) *
,88* +
test88, 0
.880 1
Method881 7
.887 8
Name888 <
)88< =
;88= >
await99 	
CallTestHook99
 
(99 
pre99 
)99 
;99 
await:: 	
Execute::
 
(:: 
test:: 
):: 
;:: 

EmitSignal;; 
(;; 
nameof;; 
(;;  
test_method_finished;; *
);;* +
);;+ ,
;;;, -
await<< 	
CallTestHook<<
 
(<< 
post<< 
)<< 
;<< 
}== 
await?? 
CallTestHook??	 
(?? 
end?? 
)?? 
;?? 

EmitSignal@@ 
(@@ 
nameof@@ 
(@@  
test_script_finished@@ )
)@@) *
,@@* +

GetResults@@, 6
(@@6 7
)@@7 8
)@@8 9
;@@9 :
}AA 
privateCC 	
stringCC
 
TitleCC 
(CC 
)CC 
{DD 
ifEE 
(EE 
!EE 
	AttributeEE 
.EE 
	IsDefinedEE 
(EE 
_typeEE !
,EE! "
typeofEE# )
(EE) *
TitleAttributeEE* 8
)EE8 9
)EE9 :
)EE: ;
returnEE< B
_typeEEC H
.EEH I
NameEEI M
;EEM N
TitleAttributeFF 
titleFF 
=FF 
(FF 
TitleAttributeFF )
)FF) *
	AttributeFF+ 4
.FF4 5
GetCustomAttributeFF5 G
(FFG H
_typeFFH M
,FFM N
typeofFFO U
(FFU V
TitleAttributeFFV d
)FFd e
)FFe f
;FFf g
returnGG 	
titleGG
 
.GG 
TitleGG 
;GG 
}HH 
privateJJ 	

MethodInfoJJ
 
GetTestHookJJ  
(JJ  !
TypeJJ! %
attributeTypeJJ& 3
)JJ3 4
{KK 
HookAttributeLL 
hookLL 
=LL 
(LL 
HookAttributeLL &
)LL& '
	AttributeLL( 1
.LL1 2
GetCustomAttributeLL2 D
(LLD E
_typeLLE J
,LLJ K
attributeTypeLLL Y
)LLY Z
;LLZ [
returnMM 	
_typeMM
 
.MM 
	GetMethodMM 
(MM 
hookMM 
.MM 
MethodMM %
)MM% &
;MM& '
}NN 
privatePP 	
asyncPP
 
TaskPP 
CallTestHookPP !
(PP! "

MethodInfoPP" ,
hookPP- 1
)PP1 2
{QQ 
tryRR 
{RR 
ifSS 
(SS 
hookSS 
.SS 
InvokeSS 
(SS 
thisSS 
,SS 
nullSS 
)SS 
isSS  "
TaskSS# '
taskSS( ,
)SS, -
{SS. /
awaitSS0 5
taskSS6 :
;SS: ;
}SS< =
elseSS> B
{SSC D
awaitSSE J
TaskSSK O
.SSO P
RunSSP S
(SSS T
(SST U
(SSU V
)SSV W
=>SSX Z
{SS[ \
}SS] ^
)SS^ _
)SS_ `
;SS` a
}SSb c
}TT 
catchTT 

(TT 
	ExceptionTT 
eTT 
)TT 
{TT 
GDUU 
.UU 
	PushErrorUU 
(UU 
$"UU 
$strUU 
{UU 
eUU 
}UU 
"UU 
)UU 
;UU 
}VV 
}WW 
privateYY 	
asyncYY
 
TaskYY 
ExecuteYY 
(YY 

ExecutableYY '
testYY( ,
)YY, -
{ZZ 
try[[ 
{[[ 
if\\ 
(\\ 
test\\ 
.\\ 
Method\\ 
.\\ 
Invoke\\ 
(\\ 
this\\ 
,\\  
test\\! %
.\\% &
	Arguments\\& /
)\\/ 0
is\\1 3
Task\\4 8
task\\9 =
)\\= >
{\\? @
await\\A F
task\\G K
;\\K L
}\\M N
else]] 
{]]	 

await]] 
Task]] 
.]] 
Run]] 
(]] 
(]] 
(]] 
)]] 
=>]]  
{]]! "
}]]# $
)]]$ %
)]]% &
;]]& '
}]]( )
}^^ 
catch^^ 

(^^ 
	Exception^^ 
e^^ 
)^^ 
{^^ 
GD__ 
.__ 
	PushError__ 
(__ 
$"__ 
$str__ 
{__ 
e__ 
}__ 
"__ 
)__ 
;__ 
}`` 
}aa 
	protectedcc 
voidcc 
Describecc 
(cc 
stringcc  
descriptioncc! ,
)cc, -
{dd 

EmitSignalee 
(ee 
nameofee 
(ee 
	describedee 
)ee 
,ee  
descriptionee! ,
)ee, -
;ee- .
}ff 
	protectedhh 
SignalAwaiterhh 
UntilTimeouthh &
(hh& '
doublehh' -
timehh. 2
)hh2 3
{hh4 5
returnhh6 <
ToSignalhh= E
(hhE F
(hhF G
TimerhhG L
)hhL M
YielderhhN U
.hhU V
CallhhV Z
(hhZ [
$strhh[ j
,hhj k
timehhl p
)hhp q
,hhq r
$strhhs }
)hh} ~
;hh~ 
}
hhÄ Å
	protectedjj 
SignalAwaiterjj 
UntilSignaljj %
(jj% &
Godotjj& +
.jj+ ,
Objectjj, 2
emitterjj3 :
,jj: ;
stringjj< B
signaljjC I
,jjI J
doublejjK Q
timejjR V
)jjV W
{kk 
_watcherll 
.ll 
Callll 
(ll 
$strll 
,ll 
emitterll !
,ll! "
signalll# )
)ll) *
;ll* +
returnmm 	
ToSignalmm
 
(mm 
(mm 
Timermm 
)mm 
Yieldermm "
.mm" #
Callmm# '
(mm' (
$strmm( 6
,mm6 7
timemm8 <
,mm< =
emittermm> E
,mmE F
signalmmG M
)mmM N
,mmN O
$strmmP Z
)mmZ [
;mm[ \
}nn 
	protectedpp 
asyncpp 
Taskpp 
<pp 
TestEventDatapp $
>pp$ %

UntilEventpp& 0
(pp0 1
objectpp1 7
senderpp8 >
,pp> ?
stringpp@ F
handleppG M
,ppM N
doubleppO U
timeppV Z
)ppZ [
{qq 
	EventInforr 
	eventInforr 
=rr 
senderrr 
.rr  
GetTyperr  '
(rr' (
)rr( )
.rr) *
GetEventrr* 2
(rr2 3
handlerr3 9
)rr9 :
;rr: ;

MethodInfoss 

methodInfoss 
=ss 
GetTypess "
(ss" #
)ss# $
.ss$ %
	GetMethodss% .
(ss. /
$strss/ >
)ss> ?
;ss? @
Delegatett 
handlertt 
=tt 
Delegatett 
.tt 
CreateDelegatett -
(tt- .
	eventInfott. 7
.tt7 8
EventHandlerTypett8 H
,ttH I
thisttJ N
,ttN O

methodInfottP Z
)ttZ [
;tt[ \
	eventInfouu 
.uu 
AddEventHandleruu 
(uu 
senderuu #
,uu# $
handleruu% ,
)uu, -
;uu- .
objectvv 	
[vv	 

]vv
 
resultsvv 
=vv 
awaitvv 
UntilSignalvv '
(vv' (
thisvv( ,
,vv, -
nameofvv. 4
(vv4 5
EventRaisedvv5 @
)vv@ A
,vvA B
timevvC G
)vvG H
;vvH I
	eventInfoww 
.ww 
RemoveEventHandlerww 
(ww  
senderww  &
,ww& '
handlerww( /
)ww/ 0
;ww0 1
Godotxx 
.xx 	
Collectionsxx	 
.xx 
Arrayxx 

ourResultsxx %
=xx& '
(xx( )
Godotxx) .
.xx. /
Collectionsxx/ :
.xx: ;
Arrayxx; @
)xx@ A
resultsxxB I
[xxI J
$numxxJ K
]xxK L
;xxL M
returnyy 	
(yy
 
TestEventDatayy 
)yy 

ourResultsyy $
[yy$ %
$numyy% &
]yy& '
??yy( *
newyy+ .
TestEventDatayy/ <
(yy< =
nullyy= A
,yyA B
nullyyC G
)yyG H
;yyH I
}zz 
public|| 
void||	 
OnEventRaised|| 
(|| 
object|| "
sender||# )
=||* +
null||, 0
,||0 1
	EventArgs||2 ;
args||< @
=||A B
null||C G
)||G H
{}} 

EmitSignal~~ 
(~~ 
nameof~~ 
(~~ 
EventRaised~~  
)~~  !
,~~! "
new~~# &
TestEventData~~' 4
(~~4 5
sender~~5 ;
,~~; <
args~~= A
)~~A B
)~~B C
;~~C D
} 
	protected
ÅÅ 
class
ÅÅ 
TestEventData
ÅÅ 
:
ÅÅ  
Godot
ÅÅ! &
.
ÅÅ& '
Object
ÅÅ' -
{
ÇÇ 
public
ÉÉ 	
object
ÉÉ
 
Sender
ÉÉ 
{
ÉÉ 
get
ÉÉ 
;
ÉÉ 
}
ÉÉ  
public
ÑÑ 	
	EventArgs
ÑÑ
 
	Arguments
ÑÑ 
{
ÑÑ 
get
ÑÑ  #
;
ÑÑ# $
}
ÑÑ% &
public
ÜÜ 	
TestEventData
ÜÜ
 
(
ÜÜ 
object
ÜÜ 
sender
ÜÜ %
,
ÜÜ% &
	EventArgs
ÜÜ' 0
	arguments
ÜÜ1 :
)
ÜÜ: ;
{
áá 
Sender
àà 

=
àà 
sender
àà 
;
àà 
	Arguments
ââ 
=
ââ 
	arguments
ââ 
;
ââ 
}
ää 
}
ãã 
	protected
çç 
void
çç 
Watch
çç 
(
çç 
Godot
çç 
.
çç 
Object
çç #
emitter
çç$ +
,
çç+ ,
string
çç- 3
signal
çç4 :
)
çç: ;
{
çç< =
_watcher
çç> F
.
ççF G
Call
ççG K
(
ççK L
$str
ççL S
,
ççS T
emitter
ççU \
,
çç\ ]
signal
çç^ d
)
ççd e
;
ççe f
}
ççg h
	protected
éé 
void
éé 
UnWatch
éé 
(
éé 
Godot
éé 
.
éé 
Object
éé %
emitter
éé& -
,
éé- .
string
éé/ 5
signal
éé6 <
)
éé< =
{
éé> ?
_watcher
éé@ H
.
ééH I
Call
ééI M
(
ééM N
$str
ééN W
,
ééW X
emitter
ééY `
,
éé` a
signal
ééb h
)
ééh i
;
ééi j
}
éék l
public
êê 
void
êê	 
Simulate
êê 
(
êê 
Node
êê 
obj
êê 
,
êê  
int
êê! $
times
êê% *
,
êê* +
float
êê, 1
delta
êê2 7
)
êê7 8
{
ëë 
for
íí 
(
íí 
int
íí 
i
íí 
=
íí 
$num
íí 
;
íí 
i
íí 
<
íí 
times
íí 
;
íí 
i
íí 
++
íí !
)
íí! "
{
ìì 
if
îî 
(
îî 
obj
îî 
.
îî 
	HasMethod
îî 
(
îî 
$str
îî  
)
îî  !
)
îî! "
{
îî# $
obj
îî% (
.
îî( )
_Process
îî) 1
(
îî1 2
delta
îî2 7
)
îî7 8
;
îî8 9
}
îî: ;
if
ïï 
(
ïï 
obj
ïï 
.
ïï 
	HasMethod
ïï 
(
ïï 
$str
ïï '
)
ïï' (
)
ïï( )
{
ïï* +
obj
ïï, /
.
ïï/ 0
_PhysicsProcess
ïï0 ?
(
ïï? @
delta
ïï@ E
)
ïïE F
;
ïïF G
}
ïïH I
foreach
ññ 
(
ññ 
Node
ññ 
kid
ññ 
in
ññ 
obj
ññ 
.
ññ 
GetChildren
ññ (
(
ññ( )
)
ññ) *
)
ññ* +
{
ññ, -
Simulate
ññ. 6
(
ññ6 7
kid
ññ7 :
,
ññ: ;
$num
ññ< =
,
ññ= >
delta
ññ? D
)
ññD E
;
ññE F
}
ññG H
}
óó 
}
òò 
private
öö 	
IEnumerable
öö
 
<
öö 

Executable
öö  
>
öö  !!
GenerateTestMethods
öö" 5
(
öö5 6
IEnumerable
öö6 A
<
ööA B
string
ööB H
>
ööH I
names
ööJ O
)
ööO P
{
õõ 
return
úú 	
(
úú
 
from
úú 

methodInfo
úú 
in
úú 
_type
úú #
.
úú# $

GetMethods
úú$ .
(
úú. /
)
úú/ 0
.
úú0 1
Where
úú1 6
(
úú6 7
info
úú7 ;
=>
úú< >
names
úú? D
.
úúD E
Contains
úúE M
(
úúM N
info
úúN R
.
úúR S
Name
úúS W
)
úúW X
)
úúX Y
let
ùù 
tests
ùù 
=
ùù 
	Attribute
ùù 
.
ùù !
GetCustomAttributes
ùù -
(
ùù- .

methodInfo
ùù. 8
)
ùù8 9
.
ûû 
OfType
ûû 
<
ûû 
TestAttribute
ûû 
>
ûû 
(
ûû 
)
ûû 
from
üü 
	attribute
üü	 
in
üü 
tests
üü 
select
†† 

new
†† 

Executable
†† 
(
†† 

methodInfo
†† $
,
††$ %
	attribute
††& /
.
††/ 0
	Arguments
††0 9
)
††9 :
)
††: ;
.
††; <
ToList
††< B
(
††B C
)
††C D
;
††D E
}
°° 
private
££ 	

Dictionary
££
 

GetResults
££ 
(
££  
)
££  !
{
§§ 
_case
•• 
.
•• 	
Call
••	 
(
•• 
$str
•• 
)
•• 
;
•• 

Dictionary
¶¶ 
results
¶¶ 
=
¶¶ 
(
¶¶ 

Dictionary
¶¶ #
)
¶¶# $
_case
¶¶% *
.
¶¶* +
Call
¶¶+ /
(
¶¶/ 0
$str
¶¶0 ?
)
¶¶? @
;
¶¶@ A
_case
ßß 
.
ßß 	
Free
ßß	 
(
ßß 
)
ßß 
;
ßß 
return
®® 	
results
®®
 
;
®® 
}
©© 
private
´´ 	
class
´´
 

Executable
´´ 
{
¨¨ 
public
≠≠ 	
readonly
≠≠
 

MethodInfo
≠≠ 
Method
≠≠ $
;
≠≠$ %
public
ÆÆ 	
readonly
ÆÆ
 
object
ÆÆ 
[
ÆÆ 
]
ÆÆ 
	Arguments
ÆÆ %
;
ÆÆ% &
public
∞∞ 	

Executable
∞∞
 
(
∞∞ 

MethodInfo
∞∞ 
method
∞∞  &
,
∞∞& '
object
∞∞( .
[
∞∞. /
]
∞∞/ 0
	arguments
∞∞1 :
)
∞∞: ;
{
±± 
Method
≤≤ 

=
≤≤ 
method
≤≤ 
;
≤≤ 
	Arguments
≥≥ 
=
≥≥ 
	arguments
≥≥ 
;
≥≥ 
}
¥¥ 
}
µµ 
}
∂∂ 
}∑∑ ƒ!
eC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\BussinesLogic\Interface\IUserManagement.cs
	namespace 	
OpenCodeChems
 
. 
BusinessLogic %
.% &
	Interface& /
{ 
public		 
	interface		 
IUserManagement		 !
{

 
bool 
RegisterUser 
( 
User 
user 
) 
; 
bool 
RegisterProfile 
( 
Profile 
profile &
)& '
;' (
bool(( 
Login(( 
((( 
string(( 
username(( 
,(( 
string(( $
password((% -
)((- .
;((. /
bool33 
EditProfileNickname33 
(33 
string33 !
username33" *
,33* +
string33, 2
nickname333 ;
)33; <
;33< =
bool>> 
EditProfileImage>> 
(>> 
string>> 
username>> '
,>>' (
int>>) ,
imageProfile>>- 9
)>>9 :
;>>: ;
boolII 
EditUserPasswordII 
(II 
stringII 
usernameII '
,II' (
stringII) /
newHashedPasswordII0 A
)IIA B
;IIB C
boolQQ 
PasswordExistQQ 
(QQ 
stringQQ 
usernameQQ $
,QQ$ %
stringQQ& ,
hashPasswordQQ- 9
)QQ9 :
;QQ: ;
Profile[[ 	 
GetProfileByUsername[[
 
([[ 
string[[ %
username[[& .
)[[. /
;[[/ 0
boolbb 
EmailRegisteredbb 
(bb 
stringbb 
emailbb #
)bb# $
;bb$ %
boolii 
UsernameRegisteredii 
(ii 
stringii  
usernameii! )
)ii) *
;ii* +
boolpp 
NicknameRegisteredpp 
(pp 
stringpp  
nicknamepp! )
)pp) *
;pp* +
boolzz 
	AddFriendzz 
(zz 
Friendszz 
friendszz  
)zz  !
;zz! "
bool
ÑÑ 
AcceptFriend
ÑÑ 
(
ÑÑ 
Friends
ÑÑ 
friends
ÑÑ #
)
ÑÑ# $
;
ÑÑ$ %
bool
éé 

DenyFriend
éé 
(
éé 
Friends
éé 
friends
éé !
)
éé! "
;
éé" #
bool
òò 
DeleteFriend
òò 
(
òò 
Friends
òò 
friendsForDelete
òò ,
)
òò, -
;
òò- .
bool
££ 
FriendshipExist
££ 
(
££ 
int
££ #
idProfileActualPlayer
££ 0
,
££0 1
int
££2 5"
idProfilePlayerFound
££6 J
)
££J K
;
££K L
List
≠≠ 
<
≠≠ 
string
≠≠ 
>
≠≠ 

GetFriends
≠≠ 
(
≠≠ 
int
≠≠ 
	idProfile
≠≠ '
)
≠≠' (
;
≠≠( )
List
∑∑ 
<
∑∑ 
string
∑∑ 
>
∑∑  
GetFriendsRequests
∑∑ !
(
∑∑! "
int
∑∑" %
	idProfile
∑∑& /
)
∑∑/ 0
;
∑∑0 1
Profile
¡¡ 	"
GetProfileByNickname
¡¡
 
(
¡¡ 
string
¡¡ %
nickname
¡¡& .
)
¡¡. /
;
¡¡/ 0
bool
»» #
DeleteInvitatedPlayer
»» 
(
»» 
string
»» #
username
»»$ ,
)
»», -
;
»»- .
bool
œœ 

AddVictory
œœ 
(
œœ 
string
œœ 
nickname
œœ !
)
œœ! "
;
œœ" #
bool
÷÷ 
	AddDefeat
÷÷ 
(
÷÷ 
string
÷÷ 
nickname
÷÷  
)
÷÷  !
;
÷÷! "
bool
·· 
RestorePassword
·· 
(
·· 
string
·· 
email
·· #
,
··# $
string
··% +
newHashedPassword
··, =
)
··= >
;
··> ?
bool
ËË 
SearchFriends
ËË 
(
ËË 
Friends
ËË 
friends
ËË $
)
ËË$ %
;
ËË% &
}
ÈÈ 
}ÏÏ òÏ
ZC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\BussinesLogic\UserManagement.cs
	namespace 	
OpenCodeChems
 
. 
BussinesLogic %
{ 
public 

class 
UserManagement 
:  !
IUserManagement" 1
{ 
public$$ 
bool$$ 
RegisterUser$$  
($$  !
User$$! %
user$$& *
)$$* +
{%% 	
bool&& 
status&& 
=&& 
false&& 
;&&  
using'' 
(''  
OpenCodeChemsContext'' '
context''( /
=''0 1
new''2 5 
OpenCodeChemsContext''6 J
(''J K
)''K L
)''L M
{(( 
try** 
{++ 
context,, 
.,, 
User,,  
.,,  !
Add,,! $
(,,$ %
user,,% )
),,) *
;,,* +
context-- 
.-- 
SaveChanges-- '
(--' (
)--( )
;--) *
status.. 
=.. 
true.. !
;..! "
}// 
catch00 
(00 
DbUpdateException00 (
)00( )
{11 
status22 
=22 
false22 "
;22" #
}33 
catch44 
(44 %
InvalidOperationException44 /
)44/ 0
{55 
status66 
=66 
false66 "
;66" #
}77 
}88 
return99 
status99 
;99 
}:: 	
publicEE 
boolEE 
RegisterProfileEE #
(EE# $
ProfileEE$ +
profileEE, 3
)EE3 4
{FF 
boolGG 
statusGG 
=GG 
falseGG 
;GG 
usingHH 
(HH	 
 
OpenCodeChemsContextHH
 
contextHH &
=HH' (
newHH) , 
OpenCodeChemsContextHH- A
(HHA B
)HHB C
)HHC D
{II 
tryKK 
{LL 
contextMM 
.MM 
ProfileMM 
.MM 
AddMM 
(MM 
profileMM  
)MM  !
;MM! "
contextNN 
.NN 
SaveChangesNN 
(NN 
)NN 
;NN 
statusOO 
=OO 
trueOO 
;OO 
}PP 
catchQQ 	
(QQ
 
DbUpdateExceptionQQ 
)QQ 
{RR 
statusSS 
=SS 
falseSS 
;SS 
}TT 
catchUU 
(UU %
InvalidOperationExceptionUU /
)UU/ 0
{VV 
statusWW 
=WW 
falseWW "
;WW" #
}XX 
}YY 
returnZZ 	
statusZZ
 
;ZZ 
}[[ 
publichh 
boolhh 
Loginhh 
(hh 
stringhh  
usernamehh! )
,hh) *
stringhh+ 1
passwordhh2 :
)hh: ;
{ii 	
boolkk 
statuskk 
=kk 
falsekk 
;kk  
tryll 
{mm 
usingnn 
(nn  
OpenCodeChemsContextnn +
contextnn, 3
=nn4 5
newnn6 9 
OpenCodeChemsContextnn: N
(nnN O
)nnO P
)nnP Q
{oo 
intpp 
	foundUserpp !
=pp" #
(pp$ %
frompp% )
Userpp* .
inpp/ 1
contextpp2 9
.pp9 :
Userpp: >
wherepp? D
UserppE I
.ppI J
usernameppJ R
==ppS U
usernameppV ^
&&pp_ a
Userppb f
.ppf g
passwordppg o
==ppp r
passwordpps {
select	pp~ Ñ
User
ppÖ â
)
ppâ ä
.
ppä ã
Count
ppã ê
(
ppê ë
)
ppë í
;
ppí ì
ifqq 
(qq 
	foundUserqq !
>qq" #
$numqq$ %
)qq% &
{rr 
statusss 
=ss  
truess! %
;ss% &
}tt 
}uu 
}vv 
catchww 
(ww %
InvalidOperationExceptionww ,
)ww, -
{xx 
statusyy 
=yy 
falseyy 
;yy 
}zz 
return|| 
status|| 
;|| 
}}} 	
public
ää 
bool
ää !
EditProfileNickname
ää '
(
ää' (
string
ää( .
username
ää/ 7
,
ää7 8
string
ää9 ?
nickname
ää@ H
)
ääH I
{
ãã 	
bool
åå 
status
åå 
=
åå 
false
åå 
;
åå  
try
çç 
{
éé 
using
èè 
(
èè "
OpenCodeChemsContext
èè +
context
èè, 3
=
èè4 5
new
èè6 9"
OpenCodeChemsContext
èè: N
(
èèN O
)
èèO P
)
èèP Q
{
êê 
var
ëë 
profiles
ëë  
=
ëë! "
(
ëë# $
from
ëë$ (
Profile
ëë) 0
in
ëë1 3
context
ëë4 ;
.
ëë; <
Profile
ëë< C
where
ëëD I
Profile
ëëJ Q
.
ëëQ R
username
ëëR Z
==
ëë[ ]
username
ëë^ f
select
ëëg m
Profile
ëën u
)
ëëu v
.
ëëv w
First
ëëw |
(
ëë| }
)
ëë} ~
;
ëë~ 
profiles
íí 
.
íí 
nickname
íí %
=
íí& '
nickname
íí( 0
;
íí0 1
context
ìì 
.
ìì 
SaveChanges
ìì '
(
ìì' (
)
ìì( )
;
ìì) *
status
îî 
=
îî 
true
îî !
;
îî! "
}
ïï 
}
ññ 
catch
óó 
(
óó 
DbUpdateException
óó $
)
óó$ %
{
òò 
status
ôô 
=
ôô 
false
ôô 
;
ôô 
}
öö 
catch
õõ 
(
õõ '
InvalidOperationException
õõ +
)
õõ+ ,
{
úú 
status
ùù 
=
ùù 
false
ùù 
;
ùù 
}
ûû 
return
üü 
status
üü 
;
üü 
}
†† 	
public
≠≠ 
bool
≠≠ 
EditProfileImage
≠≠ $
(
≠≠$ %
string
≠≠% +
username
≠≠, 4
,
≠≠4 5
int
≠≠6 9
imageProfile
≠≠: F
)
≠≠F G
{
ÆÆ 	
bool
ØØ 
status
ØØ 
=
ØØ 
false
ØØ 
;
ØØ  
try
∞∞ 
{
±± 
using
≤≤ 
(
≤≤ "
OpenCodeChemsContext
≤≤ +
context
≤≤, 3
=
≤≤4 5
new
≤≤6 9"
OpenCodeChemsContext
≤≤: N
(
≤≤N O
)
≤≤O P
)
≤≤P Q
{
≥≥ 
var
¥¥ 
profiles
¥¥  
=
¥¥! "
(
¥¥# $
from
¥¥$ (
Profile
¥¥) 0
in
¥¥1 3
context
¥¥4 ;
.
¥¥; <
Profile
¥¥< C
where
¥¥D I
Profile
¥¥J Q
.
¥¥Q R
username
¥¥R Z
==
¥¥[ ]
username
¥¥^ f
select
¥¥h n
Profile
¥¥o v
)
¥¥v w
.
¥¥w x
First
¥¥x }
(
¥¥} ~
)
¥¥~ 
;¥¥ Ä
profiles
µµ 
.
µµ 
imageProfile
µµ )
=
µµ* +
imageProfile
µµ, 8
;
µµ8 9
context
∂∂ 
.
∂∂ 
SaveChanges
∂∂ '
(
∂∂' (
)
∂∂( )
;
∂∂) *
status
∑∑ 
=
∑∑ 
true
∑∑ !
;
∑∑! "
}
∏∏ 
}
ππ 
catch
∫∫ 
(
∫∫ 
DbUpdateException
∫∫ $
)
∫∫$ %
{
ªª 
status
ºº 
=
ºº 
false
ºº 
;
ºº 
}
ΩΩ 
catch
ææ 
(
ææ '
InvalidOperationException
ææ +
)
ææ+ ,
{
øø 
status
¿¿ 
=
¿¿ 
false
¿¿ 
;
¿¿ 
}
¡¡ 
return
¬¬ 
status
¬¬ 
;
¬¬ 
}
√√ 	
public
ÀÀ 
bool
ÀÀ 
PasswordExist
ÀÀ !
(
ÀÀ! "
string
ÀÀ" (
username
ÀÀ) 1
,
ÀÀ1 2
string
ÀÀ3 9
hashPassword
ÀÀ: F
)
ÀÀF G
{
ÃÃ 	
bool
ÕÕ 
existPassword
ÕÕ 
=
ÕÕ  
false
ÕÕ! &
;
ÕÕ& '
using
ŒŒ 
(
ŒŒ "
OpenCodeChemsContext
ŒŒ &
context
ŒŒ' .
=
ŒŒ/ 0
new
ŒŒ1 4"
OpenCodeChemsContext
ŒŒ5 I
(
ŒŒI J
)
ŒŒJ K
)
ŒŒK L
{
œœ 
int
–– 
oldPasswordFound
–– $
=
––% &
(
––' (
from
––( ,
User
––- 1
in
––2 4
context
––5 <
.
––< =
User
––= A
where
––B G
User
––H L
.
––L M
username
––M U
.
––U V
Equals
––V \
(
––\ ]
username
––] e
)
––e f
&&
––g i
User
––j n
.
––n o
password
––o w
.
––w x
Equals
––x ~
(
––~ 
hashPassword–– ã
)––ã å
select––ç ì
User––î ò
)––ò ô
.––ô ö
Count––ö ü
(––ü †
)––† °
;––° ¢
if
—— 
(
—— 
oldPasswordFound
—— $
>
——% &
$num
——' (
)
——( )
{
““ 
existPassword
”” !
=
””" #
true
””$ (
;
””( )
}
‘‘ 
}
’’ 
return
÷÷ 
existPassword
÷÷  
;
÷÷  !
}
◊◊ 	
public
‰‰ 
bool
‰‰ 
EditUserPassword
‰‰ $
(
‰‰$ %
string
‰‰% +
username
‰‰, 4
,
‰‰4 5
string
‰‰6 <
newHashedPassword
‰‰= N
)
‰‰N O
{
ÂÂ 	
bool
ÊÊ 
status
ÊÊ 
=
ÊÊ 
false
ÊÊ 
;
ÊÊ  
try
ÁÁ 
{
ËË 
using
ÈÈ 
(
ÈÈ "
OpenCodeChemsContext
ÈÈ *
context
ÈÈ+ 2
=
ÈÈ3 4
new
ÈÈ5 8"
OpenCodeChemsContext
ÈÈ9 M
(
ÈÈM N
)
ÈÈN O
)
ÈÈO P
{
ÍÍ 
var
ÎÎ 
users
ÎÎ 
=
ÎÎ 
(
ÎÎ  !
from
ÎÎ! %
User
ÎÎ& *
in
ÎÎ+ -
context
ÎÎ. 5
.
ÎÎ5 6
User
ÎÎ6 :
where
ÎÎ; @
User
ÎÎA E
.
ÎÎE F
username
ÎÎF N
==
ÎÎO Q
username
ÎÎR Z
select
ÎÎ\ b
User
ÎÎc g
)
ÎÎg h
.
ÎÎh i
First
ÎÎi n
(
ÎÎn o
)
ÎÎo p
;
ÎÎp q
users
ÏÏ 
.
ÏÏ 
password
ÏÏ "
=
ÏÏ# $
newHashedPassword
ÏÏ% 6
;
ÏÏ6 7
context
ÌÌ 
.
ÌÌ 
SaveChanges
ÌÌ '
(
ÌÌ' (
)
ÌÌ( )
;
ÌÌ) *
status
ÓÓ 
=
ÓÓ 
true
ÓÓ !
;
ÓÓ! "
}
ÔÔ 
}
 
catch
ÒÒ 
(
ÒÒ 
DbUpdateException
ÒÒ $
)
ÒÒ$ %
{
ÚÚ 
status
ÛÛ 
=
ÛÛ 
false
ÛÛ 
;
ÛÛ 
}
ÙÙ 
catch
ıı 
(
ıı '
InvalidOperationException
ıı +
)
ıı+ ,
{
ˆˆ 
status
˜˜ 
=
˜˜ 
false
˜˜ 
;
˜˜ 
}
¯¯ 
return
˘˘ 
status
˘˘ 
;
˘˘ 
}
˙˙ 	
public
ÜÜ 
Profile
ÜÜ "
GetProfileByUsername
ÜÜ +
(
ÜÜ+ ,
string
ÜÜ, 2
username
ÜÜ3 ;
)
ÜÜ; <
{
áá 
Profile
àà 
profileObteined
àà #
=
àà$ %
null
àà& *
;
àà* +
try
ââ 
{
ää 
using
ãã 	
(
ãã	 
"
OpenCodeChemsContext
ãã
 
context
ãã &
=
ãã' (
new
ãã) ,"
OpenCodeChemsContext
ãã- A
(
ããA B
)
ããB C
)
ããC D
{
åå 
profileObteined
çç 
=
çç 
(
çç 
from
çç 
Profile
çç $
in
çç% '
context
çç( /
.
çç/ 0
Profile
çç0 7
where
çç8 =
Profile
çç> E
.
ççE F
username
ççF N
==
ççO Q
username
ççR Z
select
çç[ a
Profile
ççb i
)
ççi j
.
ççj k
First
ççk p
(
ççp q
)
ççq r
;
ççr s
context
éé 
.
éé 
SaveChanges
éé 
(
éé 
)
éé 
;
éé 
}
èè 
}
êê 
catch
ëë 
(
ëë	 

DbUpdateException
ëë
 
)
ëë 
{
íí 
profileObteined
ìì 
=
ìì  !
null
ìì" &
;
ìì& '
}
îî 
catch
ïï 
(
ïï '
InvalidOperationException
ïï ,
)
ïï, -
{
ññ 
profileObteined
óó 
=
óó  !
null
óó" &
;
óó& '
}
òò 
return
ôô 
profileObteined
ôô "
;
ôô" #
}
öö 
public
¢¢ 
bool
¢¢ 
EmailRegistered
¢¢ #
(
¢¢# $
string
¢¢$ *
email
¢¢+ 0
)
¢¢0 1
{
££ 	
bool
§§ 
isRegistered
§§ 
=
§§ 
false
§§  %
;
§§% &
using
•• 
(
•• "
OpenCodeChemsContext
•• &
context
••' .
=
••/ 0
new
••1 4"
OpenCodeChemsContext
••5 I
(
••I J
)
••J K
)
••K L
{
¶¶ 
int
ßß 

emailFound
ßß 
=
ßß  
(
ßß! "
from
ßß" &
User
ßß' +
in
ßß, .
context
ßß/ 6
.
ßß6 7
User
ßß7 ;
where
ßß< A
User
ßßB F
.
ßßF G
email
ßßG L
.
ßßL M
Equals
ßßM S
(
ßßS T
email
ßßT Y
)
ßßY Z
select
ßß[ a
User
ßßb f
)
ßßf g
.
ßßg h
Count
ßßh m
(
ßßm n
)
ßßn o
;
ßßo p
if
®® 
(
®® 

emailFound
®® 
>
®®  
$num
®®! "
)
®®" #
{
©© 
isRegistered
™™  
=
™™! "
true
™™# '
;
™™' (
}
´´ 
}
¨¨ 
return
≠≠ 
isRegistered
≠≠ 
;
≠≠  
}
ÆÆ 	
public
∑∑ 
bool
∑∑  
UsernameRegistered
∑∑ &
(
∑∑& '
string
∑∑' -
username
∑∑. 6
)
∑∑6 7
{
∏∏ 	
bool
ππ 
isRegistered
ππ 
=
ππ 
false
ππ  %
;
ππ% &
using
∫∫ 
(
∫∫ "
OpenCodeChemsContext
∫∫ &
context
∫∫' .
=
∫∫/ 0
new
∫∫1 4"
OpenCodeChemsContext
∫∫5 I
(
∫∫I J
)
∫∫J K
)
∫∫K L
{
ªª 
int
ºº 
usernameFound
ºº !
=
ºº" #
(
ºº$ %
from
ºº% )
User
ºº* .
in
ºº/ 1
context
ºº2 9
.
ºº9 :
User
ºº: >
where
ºº? D
User
ººE I
.
ººI J
username
ººJ R
.
ººR S
Equals
ººS Y
(
ººY Z
username
ººZ b
)
ººb c
select
ººd j
User
ººk o
)
ººo p
.
ººp q
Count
ººq v
(
ººv w
)
ººw x
;
ººx y
if
ΩΩ 
(
ΩΩ 
usernameFound
ΩΩ !
>
ΩΩ" #
$num
ΩΩ$ %
)
ΩΩ% &
{
ææ 
isRegistered
øø  
=
øø! "
true
øø# '
;
øø' (
}
¿¿ 
}
¡¡ 
return
¬¬ 
isRegistered
¬¬ 
;
¬¬  
}
√√ 	
public
ÃÃ 
bool
ÃÃ  
NicknameRegistered
ÃÃ &
(
ÃÃ& '
string
ÃÃ' -
nickname
ÃÃ. 6
)
ÃÃ6 7
{
ÕÕ 	
bool
ŒŒ 
isRegistered
ŒŒ 
=
ŒŒ 
false
ŒŒ  %
;
ŒŒ% &
using
œœ 
(
œœ "
OpenCodeChemsContext
œœ &
context
œœ' .
=
œœ/ 0
new
œœ1 4"
OpenCodeChemsContext
œœ5 I
(
œœI J
)
œœJ K
)
œœK L
{
–– 
int
—— 
nicknameFound
—— !
=
——" #
(
——$ %
from
——% )
Profile
——* 1
in
——2 4
context
——5 <
.
——< =
Profile
——= D
where
——E J
Profile
——K R
.
——R S
nickname
——S [
.
——[ \
Equals
——\ b
(
——b c
nickname
——c k
)
——k l
select
——m s
Profile
——t {
)
——{ |
.
——| }
Count——} Ç
(——Ç É
)——É Ñ
;——Ñ Ö
if
““ 
(
““ 
nicknameFound
““ !
>
““" #
$num
““$ %
)
““% &
{
”” 
isRegistered
‘‘  
=
‘‘! "
true
‘‘# '
;
‘‘' (
}
’’ 
}
÷÷ 
return
◊◊ 
isRegistered
◊◊ 
;
◊◊  
}
ÿÿ 	
public
‰‰ 
bool
‰‰ 
	AddFriend
‰‰ 
(
‰‰ 
Friends
‰‰ %
friends
‰‰& -
)
‰‰- .
{
ÂÂ 
bool
ÊÊ 
status
ÊÊ 
=
ÊÊ 
false
ÊÊ 
;
ÊÊ 
using
ÁÁ 
(
ÁÁ	 
"
OpenCodeChemsContext
ÁÁ
 
context
ÁÁ &
=
ÁÁ' (
new
ÁÁ) ,"
OpenCodeChemsContext
ÁÁ- A
(
ÁÁA B
)
ÁÁB C
)
ÁÁC D
{
ËË 
try
ÍÍ 
{
ÎÎ 
context
ÏÏ 
.
ÏÏ 
Friends
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
friends
ÏÏ  
)
ÏÏ  !
;
ÏÏ! "
context
ÌÌ 
.
ÌÌ 
SaveChanges
ÌÌ 
(
ÌÌ 
)
ÌÌ 
;
ÌÌ 
status
ÓÓ 
=
ÓÓ 
true
ÓÓ 
;
ÓÓ 
}
ÔÔ 
catch
 	
(

 
DbUpdateException
 
)
 
{
ÒÒ 
status
ÚÚ 
=
ÚÚ 
false
ÚÚ 
;
ÚÚ 
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ '
InvalidOperationException
ÙÙ 0
)
ÙÙ0 1
{
ıı 
status
ˆˆ 
=
ˆˆ 
false
ˆˆ "
;
ˆˆ" #
}
˜˜ 
}
¯¯ 
return
˘˘ 	
status
˘˘
 
;
˘˘ 
}
˙˙ 
public
ÜÜ 
bool
ÜÜ 
AcceptFriend
ÜÜ  
(
ÜÜ  !
Friends
ÜÜ! (
friends
ÜÜ) 0
)
ÜÜ0 1
{
áá 	
bool
àà 
status
àà 
=
àà 
false
àà 
;
àà  
try
ââ 
{
ää 
int
ãã 
idProfileFrom
ãã !
=
ãã" #
friends
ãã$ +
.
ãã+ ,
idProfileFrom
ãã, 9
;
ãã9 :
int
åå 
idProfileTo
åå 
=
åå  !
friends
åå" )
.
åå) *
idProfileTo
åå* 5
;
åå5 6
using
çç 
(
çç "
OpenCodeChemsContext
çç +
context
çç, 3
=
çç4 5
new
çç6 9"
OpenCodeChemsContext
çç: N
(
ççN O
)
ççO P
)
ççP Q
{
éé 
var
èè 
friendsUpdate
èè %
=
èè& '
(
èè( )
from
èè) -
Friends
èè. 5
in
èè6 8
context
èè9 @
.
èè@ A
Friends
èèA H
where
èèI N
Friends
èèO V
.
èèV W
idProfileFrom
èèW d
==
èèe g
idProfileFrom
èèh u
&&
èèv x
Friendsèèy Ä
.èèÄ Å
idProfileToèèÅ å
==èèç è
idProfileToèèë ú
selectèèù £
Friendsèè§ ´
)èè´ ¨
.èè¨ ≠
Firstèè≠ ≤
(èè≤ ≥
)èè≥ ¥
;èè¥ µ
friendsUpdate
êê !
.
êê! "
status
êê" (
=
êê) *
friends
êê+ 2
.
êê2 3
status
êê3 9
;
êê9 :
context
ëë 
.
ëë 
SaveChanges
ëë '
(
ëë' (
)
ëë( )
;
ëë) *
status
íí 
=
íí 
true
íí !
;
íí! "
}
ìì 
}
îî 
catch
ïï 
(
ïï 
DbUpdateException
ïï $
)
ïï$ %
{
ññ 
status
óó 
=
óó 
false
óó 
;
óó 
}
òò 
catch
ôô 
(
ôô '
InvalidOperationException
ôô ,
)
ôô, -
{
öö 
status
õõ 
=
õõ 
false
õõ 
;
õõ 
}
úú 
return
ùù 
status
ùù 
;
ùù 
}
ûû 	
public
™™ 
bool
™™ 

DenyFriend
™™ 
(
™™ 
Friends
™™ &
friends
™™' .
)
™™. /
{
´´ 	
bool
¨¨ 
status
¨¨ 
=
¨¨ 
false
¨¨ 
;
¨¨  
try
≠≠ 
{
≠≠ 
using
ÆÆ 
(
ÆÆ "
OpenCodeChemsContext
ÆÆ +
context
ÆÆ, 3
=
ÆÆ4 5
new
ÆÆ6 9"
OpenCodeChemsContext
ÆÆ: N
(
ÆÆN O
)
ÆÆO P
)
ÆÆP Q
{
ØØ 
int
∞∞ 
idProfileFrom
∞∞ %
=
∞∞& '
friends
∞∞( /
.
∞∞/ 0
idProfileFrom
∞∞0 =
;
∞∞= >
int
±± 
idProfileTo
±± #
=
±±$ %
friends
±±& -
.
±±- .
idProfileTo
±±. 9
;
±±9 :
var
≤≤ 
friendsDelete
≤≤ %
=
≤≤& '
(
≤≤( )
from
≤≤) -
Friends
≤≤. 5
in
≤≤6 8
context
≤≤9 @
.
≤≤@ A
Friends
≤≤A H
where
≤≤I N
Friends
≤≤O V
.
≤≤V W
idProfileFrom
≤≤W d
==
≤≤e g
idProfileFrom
≤≤h u
&&
≤≤v x
Friends≤≤y Ä
.≤≤Ä Å
idProfileTo≤≤Å å
==≤≤ç è
idProfileTo≤≤ë ú
select≤≤ù £
Friends≤≤§ ´
)≤≤´ ¨
.≤≤¨ ≠
First≤≤≠ ≤
(≤≤≤ ≥
)≤≤≥ ¥
;≤≤¥ µ
context
≥≥ 
.
≥≥ 
Friends
≥≥ #
.
≥≥# $
Remove
≥≥$ *
(
≥≥* +
friendsDelete
≥≥+ 8
)
≥≥8 9
;
≥≥9 :
context
¥¥ 
.
¥¥ 
SaveChanges
¥¥ '
(
¥¥' (
)
¥¥( )
;
¥¥) *
status
µµ 
=
µµ 
true
µµ !
;
µµ! "
}
∂∂ 
}
∑∑ 
catch
∏∏ 
(
∏∏ 
DbUpdateException
∏∏ $
)
∏∏$ %
{
ππ 
status
∫∫ 
=
∫∫ 
false
∫∫ 
;
∫∫ 
}
ªª 
catch
ºº 
(
ºº '
InvalidOperationException
ºº ,
)
ºº, -
{
ΩΩ 
status
ææ 
=
ææ 
false
ææ 
;
ææ 
}
øø 
return
¿¿ 
status
¿¿ 
;
¿¿ 
}
¡¡ 	
public
ÃÃ 
bool
ÃÃ 
FriendshipExist
ÃÃ #
(
ÃÃ# $
int
ÃÃ$ '#
idProfileActualPlayer
ÃÃ( =
,
ÃÃ= >
int
ÃÃ? B"
idProfilePlayerFound
ÃÃC W
)
ÃÃW X
{
ÕÕ 	
bool
ŒŒ 
existFriendship
ŒŒ  
=
ŒŒ! "
false
ŒŒ# (
;
ŒŒ( )
using
œœ 
(
œœ "
OpenCodeChemsContext
œœ &
context
œœ' .
=
œœ/ 0
new
œœ1 4"
OpenCodeChemsContext
œœ5 I
(
œœI J
)
œœJ K
)
œœK L
{
–– 
int
—— "
existInIdProfileFrom
—— (
=
——) *
(
——+ ,
from
——, 0
Friends
——1 8
in
——9 ;
context
——< C
.
——C D
Friends
——D K
where
——L Q
Friends
——R Y
.
——Y Z
idProfileFrom
——Z g
.
——g h
Equals
——h n
(
——n o$
idProfileActualPlayer——o Ñ
)——Ñ Ö
&&——Ü à
Friends——â ê
.——ê ë
idProfileTo——ë ú
.——ú ù
Equals——ù £
(——£ §$
idProfilePlayerFound——§ ∏
)——∏ π
select——∫ ¿
Friends——¡ »
)——» …
.——…  
Count——  œ
(——œ –
)——– —
;——— “
if
““ 
(
““ "
existInIdProfileFrom
““ (
>
““) *
$num
““+ ,
)
““, -
{
”” 
existFriendship
‘‘ #
=
‘‘$ %
true
‘‘& *
;
‘‘* +
}
’’ 
int
÷÷  
existInIdProfileTo
÷÷ &
=
÷÷' (
(
÷÷) *
from
÷÷* .
Friends
÷÷/ 6
in
÷÷7 9
context
÷÷: A
.
÷÷A B
Friends
÷÷B I
where
÷÷J O
Friends
÷÷P W
.
÷÷W X
idProfileTo
÷÷X c
.
÷÷c d
Equals
÷÷d j
(
÷÷j k$
idProfileActualPlayer÷÷k Ä
)÷÷Ä Å
&&÷÷Ç Ñ
Friends÷÷Ö å
.÷÷å ç
idProfileFrom÷÷ç ö
.÷÷ö õ
Equals÷÷õ °
(÷÷° ¢$
idProfilePlayerFound÷÷¢ ∂
)÷÷∂ ∑
select÷÷∏ æ
Friends÷÷ø ∆
)÷÷∆ «
.÷÷« »
Count÷÷» Õ
(÷÷Õ Œ
)÷÷Œ œ
;÷÷œ –
if
◊◊ 
(
◊◊  
existInIdProfileTo
◊◊ &
>
◊◊' (
$num
◊◊) *
)
◊◊* +
{
ÿÿ 
existFriendship
ŸŸ #
=
ŸŸ$ %
true
ŸŸ& *
;
ŸŸ* +
}
⁄⁄ 
}
€€ 
return
‹‹ 
existFriendship
‹‹ "
;
‹‹" #
}
›› 	
public
ËË 
List
ËË 
<
ËË 
string
ËË 
>
ËË 

GetFriends
ËË &
(
ËË& '
int
ËË' *
	idProfile
ËË+ 4
)
ËË4 5
{
ÈÈ 	
List
ÍÍ 
<
ÍÍ 
string
ÍÍ 
>
ÍÍ 
friendsObtained
ÍÍ (
=
ÍÍ) *
new
ÍÍ+ .
List
ÍÍ/ 3
<
ÍÍ3 4
string
ÍÍ4 :
>
ÍÍ: ;
(
ÍÍ; <
)
ÍÍ< =
;
ÍÍ= >
List
ÎÎ 
<
ÎÎ 
string
ÎÎ 
>
ÎÎ 
friendsIdFrom
ÎÎ &
=
ÎÎ' (
new
ÎÎ) ,
List
ÎÎ- 1
<
ÎÎ1 2
string
ÎÎ2 8
>
ÎÎ8 9
(
ÎÎ9 :
)
ÎÎ: ;
;
ÎÎ; <
List
ÏÏ 
<
ÏÏ 
string
ÏÏ 
>
ÏÏ 
friendsIdTo
ÏÏ $
=
ÏÏ$ %
new
ÏÏ& )
List
ÏÏ* .
<
ÏÏ. /
string
ÏÏ/ 5
>
ÏÏ5 6
(
ÏÏ6 7
)
ÏÏ7 8
;
ÏÏ8 9
try
ÌÌ 
{
ÓÓ 
using
ÔÔ 
(
ÔÔ "
OpenCodeChemsContext
ÔÔ +
context
ÔÔ, 3
=
ÔÔ4 5
new
ÔÔ6 9"
OpenCodeChemsContext
ÔÔ: N
(
ÔÔN O
)
ÔÔO P
)
ÔÔP Q
{
 
friendsIdFrom
ÒÒ !
=
ÒÒ" #
(
ÒÒ$ %
from
ÒÒ% )
Friends
ÒÒ* 1
in
ÒÒ2 4
context
ÒÒ5 <
.
ÒÒ< =
Friends
ÒÒ= D
join
ÒÒE I
Profiles
ÒÒJ R
in
ÒÒS U
context
ÒÒV ]
.
ÒÒ] ^
Profile
ÒÒ^ e
on
ÒÒf h
Friends
ÒÒi p
.
ÒÒp q
idProfileTo
ÒÒq |
equalsÒÒ} É
ProfilesÒÒÑ å
.ÒÒå ç
	idProfileÒÒç ñ
whereÒÒó ú
FriendsÒÒù §
.ÒÒ§ •
idProfileFromÒÒ• ≤
==ÒÒ≥ µ
	idProfileÒÒ∂ ø
whereÒÒ¿ ≈
FriendsÒÒ∆ Õ
.ÒÒÕ Œ
statusÒÒŒ ‘
==ÒÒ’ ◊
trueÒÒÿ ‹
selectÒÒ› „
ProfilesÒÒ‰ Ï
.ÒÒÏ Ì
nicknameÒÒÌ ı
)ÒÒı ˆ
.ÒÒˆ ˜
ToListÒÒ˜ ˝
(ÒÒ˝ ˛
)ÒÒ˛ ˇ
;ÒÒˇ Ä
friendsIdTo
ÚÚ 
=
ÚÚ  !
(
ÚÚ" #
from
ÚÚ# '
Friends
ÚÚ( /
in
ÚÚ0 2
context
ÚÚ3 :
.
ÚÚ: ;
Friends
ÚÚ; B
join
ÚÚC G
Profiles
ÚÚH P
in
ÚÚQ S
context
ÚÚT [
.
ÚÚ[ \
Profile
ÚÚ\ c
on
ÚÚd f
Friends
ÚÚg n
.
ÚÚn o
idProfileFrom
ÚÚo |
equalsÚÚ} É
ProfilesÚÚÑ å
.ÚÚå ç
	idProfileÚÚç ñ
whereÚÚó ú
FriendsÚÚù §
.ÚÚ§ •
idProfileToÚÚ• ∞
==ÚÚ± ≥
	idProfileÚÚ¥ Ω
whereÚÚæ √
FriendsÚÚƒ À
.ÚÚÀ Ã
statusÚÚÃ “
==ÚÚ” ’
trueÚÚ÷ ⁄
selectÚÚ€ ·
ProfilesÚÚ‚ Í
.ÚÚÍ Î
nicknameÚÚÎ Û
)ÚÚÛ Ù
.ÚÚÙ ı
ToListÚÚı ˚
(ÚÚ˚ ¸
)ÚÚ¸ ˝
;ÚÚ˝ ˛
}
ÛÛ 
foreach
ÙÙ 
(
ÙÙ 
var
ÙÙ 
friendIdFrom
ÙÙ (
in
ÙÙ) +
friendsIdFrom
ÙÙ, 9
)
ÙÙ9 :
{
ıı 
friendsObtained
ˆˆ #
.
ˆˆ# $
Add
ˆˆ$ '
(
ˆˆ' (
friendIdFrom
ˆˆ( 4
)
ˆˆ4 5
;
ˆˆ5 6
}
˜˜ 
foreach
¯¯ 
(
¯¯ 
var
¯¯ 

friendIdTo
¯¯ &
in
¯¯' )
friendsIdTo
¯¯* 5
)
¯¯5 6
{
˘˘ 
friendsObtained
˙˙ #
.
˙˙# $
Add
˙˙$ '
(
˙˙' (

friendIdTo
˙˙( 2
)
˙˙2 3
;
˙˙3 4
}
˚˚ 
}
¸¸ 
catch
˝˝ 
(
˝˝ '
InvalidOperationException
˝˝ ,
)
˝˝, -
{
˛˛ 
friendsObtained
ˇˇ 
=
ˇˇ  !
null
ˇˇ" &
;
ˇˇ& '
}
ÄÄ 
return
ÅÅ 
friendsObtained
ÅÅ "
;
ÅÅ" #
}
ÇÇ 	
public
çç 
List
çç 
<
çç 
string
çç 
>
çç  
GetFriendsRequests
çç .
(
çç. /
int
çç/ 2
	idProfile
çç3 <
)
çç< =
{
éé 	
List
èè 
<
èè 
string
èè 
>
èè 
friendsRequests
èè (
=
èè) *
null
èè+ /
;
èè/ 0
try
êê 
{
ëë 
using
íí 
(
íí "
OpenCodeChemsContext
íí +
context
íí, 3
=
íí4 5
new
íí6 9"
OpenCodeChemsContext
íí: N
(
ííN O
)
ííO P
)
ííP Q
{
ìì 
friendsRequests
îî #
=
îî$ %
(
îî& '
from
îî' +
Friends
îî, 3
in
îî4 6
context
îî7 >
.
îî> ?
Friends
îî? F
join
îîG K
Profiles
îîL T
in
îîU W
context
îîX _
.
îî_ `
Profile
îî` g
on
îîh j
Friends
îîk r
.
îîr s
idProfileFromîîs Ä
equalsîîÅ á
Profilesîîà ê
.îîê ë
	idProfileîîë ö
whereîîõ †
Friendsîî° ®
.îî® ©
idProfileToîî© ¥
==îîµ ∑
	idProfileîî∏ ¡
whereîî¬ «
Friendsîî» œ
.îîœ –
statusîî– ÷
==îî◊ Ÿ
falseîî⁄ ﬂ
selectîî‡ Ê
ProfilesîîÁ Ô
.îîÔ 
nicknameîî ¯
)îî¯ ˘
.îî˘ ˙
ToListîî˙ Ä
(îîÄ Å
)îîÅ Ç
;îîÇ É
}
ïï 
}
ññ 
catch
óó 
(
óó '
InvalidOperationException
óó ,
)
óó, -
{
òò 
friendsRequests
ôô 
=
ôô  !
null
ôô" &
;
ôô& '
}
öö 
return
õõ 
friendsRequests
õõ "
;
õõ" #
}
úú 	
public
®® 
Profile
®® "
GetProfileByNickname
®® +
(
®®+ ,
string
®®, 2
nickname
®®3 ;
)
®®; <
{
©© 
Profile
™™ 
profileObteined
™™ #
=
™™$ %
null
™™& *
;
™™* +
try
´´ 
{
¨¨ 
using
≠≠ 	
(
≠≠	 
"
OpenCodeChemsContext
≠≠
 
context
≠≠ &
=
≠≠' (
new
≠≠) ,"
OpenCodeChemsContext
≠≠- A
(
≠≠A B
)
≠≠B C
)
≠≠C D
{
ÆÆ 
profileObteined
ØØ 
=
ØØ 
(
ØØ 
from
ØØ 
Profile
ØØ $
in
ØØ% '
context
ØØ( /
.
ØØ/ 0
Profile
ØØ0 7
where
ØØ8 =
Profile
ØØ> E
.
ØØE F
nickname
ØØF N
==
ØØO Q
nickname
ØØR Z
select
ØØ[ a
Profile
ØØb i
)
ØØi j
.
ØØj k
First
ØØk p
(
ØØp q
)
ØØq r
;
ØØr s
context
∞∞ 
.
∞∞ 
SaveChanges
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞ 
}
±± 
}
≤≤ 
catch
≥≥ 
(
≥≥	 

DbUpdateException
≥≥
 
)
≥≥ 
{
¥¥ 
profileObteined
µµ 
=
µµ  !
null
µµ" &
;
µµ& '
}
∂∂ 
catch
∑∑ 
(
∑∑ '
InvalidOperationException
∑∑ ,
)
∑∑, -
{
∏∏ 
profileObteined
ππ 
=
ππ  !
null
ππ" &
;
ππ& '
}
∫∫ 
return
ªª 
profileObteined
ªª "
;
ªª" #
}
ºº 
public
»» 
bool
»» 
DeleteFriend
»»  
(
»»  !
Friends
»»! (
friendsForDelete
»») 9
)
»»9 :
{
…… 	
bool
   
status
   
=
   
false
   
;
    
int
ÀÀ #
idProfileActualPlayer
ÀÀ %
=
ÀÀ& '
friendsForDelete
ÀÀ( 8
.
ÀÀ8 9
idProfileFrom
ÀÀ9 F
;
ÀÀF G
int
ÃÃ 
idProfileFriend
ÃÃ 
=
ÃÃ  !
friendsForDelete
ÃÃ" 2
.
ÃÃ2 3
idProfileTo
ÃÃ3 >
;
ÃÃ> ?
try
ÕÕ 
{
ŒŒ 
using
œœ 
(
œœ "
OpenCodeChemsContext
œœ *
context
œœ+ 2
=
œœ3 4
new
œœ5 8"
OpenCodeChemsContext
œœ9 M
(
œœM N
)
œœN O
)
œœO P
{
–– 
var
——  
friendDeleteIdFrom
—— *
=
——+ ,
(
——- .
from
——. 2
Friends
——3 :
in
——; =
context
——> E
.
——E F
Friends
——F M
where
——N S
Friends
——T [
.
——[ \
idProfileFrom
——\ i
==
——j l$
idProfileActualPlayer——m Ç
&&——É Ö
Friends——Ü ç
.——ç é
idProfileTo——é ô
==——ö ú
idProfileFriend——ù ¨
&&——≠ Ø
Friends——∞ ∑
.——∑ ∏
status——∏ æ
==——ø ¡
true——¬ ∆
select——« Õ
Friends——Œ ’
)——’ ÷
.——÷ ◊
First——◊ ‹
(——‹ ›
)——› ﬁ
;——ﬁ ﬂ
context
““ 
.
““ 
Friends
““ #
.
““# $
Remove
““$ *
(
““* + 
friendDeleteIdFrom
““+ =
)
““= >
;
““> ?
context
”” 
.
”” 
SaveChanges
”” '
(
””' (
)
””( )
;
””) *
status
‘‘ 
=
‘‘ 
true
‘‘ !
;
‘‘! "
}
÷÷ 
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
DbUpdateException
ÿÿ $
)
ÿÿ$ %
{
ŸŸ 
status
⁄⁄ 
=
⁄⁄ 
false
⁄⁄ 
;
⁄⁄ 
}
€€ 
catch
‹‹ 
(
‹‹ '
InvalidOperationException
‹‹ ,
)
‹‹, -
{
›› 
status
ﬁﬁ 
=
ﬁﬁ 
false
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 
return
‡‡ 
status
‡‡ 
;
‡‡ 
}
·· 	
public
ÍÍ 
bool
ÍÍ #
DeleteInvitatedPlayer
ÍÍ )
(
ÍÍ) *
string
ÍÍ* 0
username
ÍÍ1 9
)
ÍÍ9 :
{
ÎÎ 	
bool
ÏÏ 
status
ÏÏ 
=
ÏÏ 
false
ÏÏ 
;
ÏÏ  
try
ÌÌ 
{
ÌÌ 
using
ÓÓ 
(
ÓÓ "
OpenCodeChemsContext
ÓÓ +
context
ÓÓ, 3
=
ÓÓ4 5
new
ÓÓ6 9"
OpenCodeChemsContext
ÓÓ: N
(
ÓÓN O
)
ÓÓO P
)
ÓÓP Q
{
ÔÔ 
var
 
invitatedPlayer
 '
=
( )
(
* +
from
+ /
Users
0 5
in
6 8
context
9 @
.
@ A
User
A E
where
F K
Users
L Q
.
Q R
username
R Z
==
[ ]
username
^ f
select
g m
Users
n s
)
s t
.
t u
First
u z
(
z {
)
{ |
;
| }
context
ÒÒ 
.
ÒÒ 
User
ÒÒ  
.
ÒÒ  !
Remove
ÒÒ! '
(
ÒÒ' (
invitatedPlayer
ÒÒ( 7
)
ÒÒ7 8
;
ÒÒ8 9
context
ÚÚ 
.
ÚÚ 
SaveChanges
ÚÚ '
(
ÚÚ' (
)
ÚÚ( )
;
ÚÚ) *
status
ÛÛ 
=
ÛÛ 
true
ÛÛ !
;
ÛÛ! "
}
ÙÙ 
}
ıı 
catch
ˆˆ 
(
ˆˆ 
DbUpdateException
ˆˆ $
)
ˆˆ$ %
{
˜˜ 
status
¯¯ 
=
¯¯ 
false
¯¯ 
;
¯¯ 
}
˘˘ 
catch
˙˙ 
(
˙˙ '
InvalidOperationException
˙˙ ,
)
˙˙, -
{
˚˚ 
status
¸¸ 
=
¸¸ 
false
¸¸ 
;
¸¸ 
}
˝˝ 
return
˛˛ 
status
˛˛ 
;
˛˛ 
}
ˇˇ 	
public
àà 
bool
àà 

AddVictory
àà 
(
àà 
string
àà %
nickname
àà& .
)
àà. /
{
ââ 	
bool
ää 
status
ää 
;
ää 
try
ãã 
{
åå 
using
çç 
(
çç "
OpenCodeChemsContext
çç +
context
çç, 3
=
çç4 5
new
çç6 9"
OpenCodeChemsContext
çç: N
(
ççN O
)
ççO P
)
ççP Q
{
éé 
var
èè 
profiles
èè  
=
èè! "
(
èè# $
from
èè$ (
Profile
èè) 0
in
èè1 3
context
èè4 ;
.
èè; <
Profile
èè< C
where
èèD I
Profile
èèJ Q
.
èèQ R
nickname
èèR Z
==
èè[ ]
nickname
èè^ f
select
èèg m
Profile
èèn u
)
èèu v
.
èèv w
First
èèw |
(
èè| }
)
èè} ~
;
èè~ 
profiles
êê 
.
êê 
	victories
êê &
=
êê' (
profiles
êê) 1
.
êê1 2
	victories
êê2 ;
++
êê< >
;
êê> ?
context
ëë 
.
ëë 
SaveChanges
ëë '
(
ëë' (
)
ëë( )
;
ëë) *
status
íí 
=
íí 
true
íí !
;
íí! "
}
ìì 
}
îî 
catch
ïï 
(
ïï 
DbUpdateException
ïï $
)
ïï$ %
{
ññ 
status
óó 
=
óó 
false
óó 
;
óó 
}
òò 
catch
ôô 
(
ôô '
InvalidOperationException
ôô +
)
ôô+ ,
{
öö 
status
õõ 
=
õõ 
false
õõ 
;
õõ 
}
úú 
return
ùù 
status
ùù 
;
ùù 
}
ûû 	
public
ßß 
bool
ßß 
	AddDefeat
ßß 
(
ßß 
string
ßß $
nickname
ßß% -
)
ßß- .
{
®® 	
bool
©© 
status
©© 
;
©© 
try
™™ 
{
´´ 
using
¨¨ 
(
¨¨ "
OpenCodeChemsContext
¨¨ +
context
¨¨, 3
=
¨¨4 5
new
¨¨6 9"
OpenCodeChemsContext
¨¨: N
(
¨¨N O
)
¨¨O P
)
¨¨P Q
{
≠≠ 
var
ÆÆ 
profiles
ÆÆ  
=
ÆÆ! "
(
ÆÆ# $
from
ÆÆ$ (
Profile
ÆÆ) 0
in
ÆÆ1 3
context
ÆÆ4 ;
.
ÆÆ; <
Profile
ÆÆ< C
where
ÆÆD I
Profile
ÆÆJ Q
.
ÆÆQ R
nickname
ÆÆR Z
==
ÆÆ[ ]
nickname
ÆÆ^ f
select
ÆÆg m
Profile
ÆÆn u
)
ÆÆu v
.
ÆÆv w
First
ÆÆw |
(
ÆÆ| }
)
ÆÆ} ~
;
ÆÆ~ 
profiles
ØØ 
.
ØØ 
defeats
ØØ $
=
ØØ% &
profiles
ØØ' /
.
ØØ/ 0
defeats
ØØ0 7
++
ØØ8 :
;
ØØ: ;
context
∞∞ 
.
∞∞ 
SaveChanges
∞∞ '
(
∞∞' (
)
∞∞( )
;
∞∞) *
status
±± 
=
±± 
true
±± !
;
±±! "
}
≤≤ 
}
≥≥ 
catch
¥¥ 
(
¥¥ 
DbUpdateException
¥¥ $
)
¥¥$ %
{
µµ 
status
∂∂ 
=
∂∂ 
false
∂∂ 
;
∂∂ 
}
∑∑ 
catch
∏∏ 
(
∏∏ '
InvalidOperationException
∏∏ +
)
∏∏+ ,
{
ππ 
status
∫∫ 
=
∫∫ 
false
∫∫ 
;
∫∫ 
}
ªª 
return
ºº 
status
ºº 
;
ºº 
}
ΩΩ 	
public
   
bool
   
RestorePassword
   #
(
  # $
string
  $ *
email
  + 0
,
  0 1
string
  2 8
newHashedPassword
  9 J
)
  J K
{
ÀÀ 	
bool
ÃÃ 
status
ÃÃ 
=
ÃÃ 
false
ÃÃ 
;
ÃÃ  
try
ÕÕ 
{
ŒŒ 
using
œœ 
(
œœ "
OpenCodeChemsContext
œœ *
context
œœ+ 2
=
œœ3 4
new
œœ5 8"
OpenCodeChemsContext
œœ9 M
(
œœM N
)
œœN O
)
œœO P
{
–– 
var
—— 
users
—— 
=
—— 
(
——  !
from
——! %
User
——& *
in
——+ -
context
——. 5
.
——5 6
User
——6 :
where
——; @
User
——A E
.
——E F
email
——F K
==
——L N
email
——O T
select
——V \
User
——] a
)
——a b
.
——b c
First
——c h
(
——h i
)
——i j
;
——j k
users
““ 
.
““ 
password
““ "
=
““# $
newHashedPassword
““% 6
;
““6 7
context
”” 
.
”” 
SaveChanges
”” '
(
””' (
)
””( )
;
””) *
status
‘‘ 
=
‘‘ 
true
‘‘ !
;
‘‘! "
}
’’ 
}
÷÷ 
catch
◊◊ 
(
◊◊ 
DbUpdateException
◊◊ $
)
◊◊$ %
{
ÿÿ 
status
ŸŸ 
=
ŸŸ 
false
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
catch
€€ 
(
€€ '
InvalidOperationException
€€ +
)
€€+ ,
{
‹‹ 
status
›› 
=
›› 
false
›› 
;
›› 
}
ﬁﬁ 
return
ﬂﬂ 
status
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
public
ÁÁ 
bool
ÁÁ 
SearchFriends
ÁÁ !
(
ÁÁ! "
Friends
ÁÁ" )
friends
ÁÁ* 1
)
ÁÁ1 2
{
ËË 	
bool
ÈÈ 
status
ÈÈ 
=
ÈÈ 
false
ÈÈ 
;
ÈÈ  
int
ÍÍ #
idProfileActualPlayer
ÍÍ %
=
ÍÍ& '
friends
ÍÍ( /
.
ÍÍ/ 0
idProfileFrom
ÍÍ0 =
;
ÍÍ= >
int
ÎÎ 
idProfileFriend
ÎÎ 
=
ÎÎ  !
friends
ÎÎ" )
.
ÎÎ) *
idProfileTo
ÎÎ* 5
;
ÎÎ5 6
using
ÏÏ 
(
ÏÏ "
OpenCodeChemsContext
ÏÏ &
context
ÏÏ' .
=
ÏÏ/ 0
new
ÏÏ1 4"
OpenCodeChemsContext
ÏÏ5 I
(
ÏÏI J
)
ÏÏJ K
)
ÏÏK L
{
ÌÌ 
int
ÓÓ 
friendshipExist
ÓÓ #
=
ÓÓ$ %
(
ÓÓ& '
from
ÓÓ' +
Friends
ÓÓ, 3
in
ÓÓ4 6
context
ÓÓ7 >
.
ÓÓ> ?
Friends
ÓÓ? F
where
ÓÓG L
Friends
ÓÓM T
.
ÓÓT U
idProfileFrom
ÓÓU b
==
ÓÓc e#
idProfileActualPlayer
ÓÓf {
&&
ÓÓ| ~
FriendsÓÓ Ü
.ÓÓÜ á
idProfileToÓÓá í
==ÓÓì ï
idProfileFriendÓÓñ •
&&ÓÓ¶ ®
FriendsÓÓ© ∞
.ÓÓ∞ ±
statusÓÓ± ∑
==ÓÓ∏ ∫
trueÓÓª ø
selectÓÓ¿ ∆
FriendsÓÓ« Œ
)ÓÓŒ œ
.ÓÓœ –
CountÓÓ– ’
(ÓÓ’ ÷
)ÓÓ÷ ◊
;ÓÓ◊ ÿ
if
ÔÔ 
(
ÔÔ 
friendshipExist
ÔÔ "
>
ÔÔ# $
$num
ÔÔ% &
)
ÔÔ& '
{
 
status
ÒÒ 
=
ÒÒ 
true
ÒÒ !
;
ÒÒ! "
}
ÚÚ 
}
ÛÛ 
return
ÙÙ 
status
ÙÙ 
;
ÙÙ 
}
ıı 	
}
˜˜ 
}¯¯ á0
YC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\Models\OpenCodeCHemsContext.cs
	namespace 	
OpenCodeChems
 
. 

DataAccess "
{ 
public 
class  
OpenCodeChemsContext "
:" #
	DbContext$ -
{ 
public 
DbSet	 
< 
User 
> 
User 
{ 
get 
;  
set! $
;$ %
}& '
public 
DbSet	 
< 
Profile 
> 
Profile 
{  !
get" %
;% &
set' *
;* +
}, -
public   
DbSet  	 
<   
Friends   
>   
Friends   
{    !
get  " %
;  % &
set  ' *
;  * +
}  , -
	protected'' 
override'' 
void'' 
OnConfiguring'' '
(''' (#
DbContextOptionsBuilder''( ?
optionsBuilder''@ N
)''N O
{(( 
optionsBuilder)) 
.)) 
UseSqlServer)) 
()) 
$str	)) ï
)
))ï ñ
;
))ñ ó
}** 
},, 
public00 
class00 
User00 
{11 
public:: 
User::	 
(:: 
string:: 
username:: 
,:: 
string:: %
password::& .
,::. /
string::0 6
name::7 ;
,::; <
string::= C
email::D I
)::I J
{;; 
this<< 
.<< 
username<< 
=<< 
username<< 
;<< 
this== 
.== 
password== 
=== 
password== 
;== 
this>> 
.>> 
name>> 
=>> 
name>> 
;>> 
this?? 
.?? 
email?? 
=?? 
email?? 
;?? 
}@@ 
[FF 
KeyFF 
]FF 
publicGG 
stringGG	 
usernameGG 
{GG 
getGG 
;GG 
setGG  #
;GG# $
}GG% &
publicLL 
stringLL	 
passwordLL 
{LL 
getLL 
;LL 
setLL  #
;LL# $
}LL% &
publicQQ 
stringQQ	 
nameQQ 
{QQ 
getQQ 
;QQ 
setQQ 
;QQ  
}QQ! "
publicVV 
stringVV	 
emailVV 
{VV 
getVV 
;VV 
setVV  
;VV  !
}VV" #
}XX 
public]] 	
class]]
 
Profile]] 
{^^ 
publicgg 
Profilegg 
(gg 
stringgg 
nicknamegg &
,gg& '
intgg( +
	victoriesgg, 5
,gg5 6
intgg7 :
defeatsgg; B
,ggB C
intggD G
imageProfileggH T
,ggT U
stringggV \
usernamegg] e
)gge f
{hh 
thisii
 
.ii 
nicknameii 
=ii 
nicknameii "
;ii" #
thisjj
 
.jj 
	victoriesjj 
=jj 
	victoriesjj $
;jj$ %
thiskk
 
.kk 
defeatskk 
=kk 
defeatskk  
;kk  !
thisll
 
.ll 
imageProfilell 
=ll 
imageProfilell *
;ll* +
thismm
 
.mm 
usernamemm 
=mm 
usernamemm "
;mm" #
}nn 
[uu 
Keyuu 
]uu 
publicvv 
intvv	 
	idProfilevv 
{vv 
getvv 
;vv 
setvv !
;vv! "
}vv# $
public{{ 
string{{	 
nickname{{ 
{{{ 
get{{ 
;{{ 
set{{  #
;{{# $
}{{% &
public
ÄÄ 
int
ÄÄ	 
	victories
ÄÄ 
{
ÄÄ 
get
ÄÄ 
;
ÄÄ 
set
ÄÄ !
;
ÄÄ! "
}
ÄÄ# $
public
ÖÖ 
int
ÖÖ	 
defeats
ÖÖ 
{
ÖÖ 
get
ÖÖ 
;
ÖÖ 
set
ÖÖ 
;
ÖÖ  
}
ÖÖ! "
public
ää 
int
ää	 
imageProfile
ää 
{
ää 
get
ää 
;
ää  
set
ää! $
;
ää$ %
}
ää& '
public
êê 
string
êê	 
username
êê 
{
êê 
get
êê 
;
êê 
set
êê  #
;
êê# $
}
êê& '
}
ëë 
public
ññ 
class
ññ 
Friends
ññ 
{
óó 
public
ûû 
Friends
ûû	 
(
ûû 
int
ûû 
idProfileFrom
ûû "
,
ûû" #
int
ûû$ '
idProfileTo
ûû( 3
,
ûû3 4
bool
ûû5 9
status
ûû: @
)
ûû@ A
{
üü 
this
†† 
.
†† 
idProfileFrom
†† 
=
†† 
idProfileFrom
†† %
;
††% &
this
°° 
.
°° 
idProfileTo
°° 
=
°° 
idProfileTo
°° !
;
°°! "
this
¢¢ 
.
¢¢ 
status
¢¢ 
=
¢¢ 
status
¢¢ 
;
¢¢ 
}
££ 
[
®® 
Key
®® 
]
®® 
public
©© 
int
©©	 
idProfileFrom
©© 
{
©© 
get
©©  
;
©©  !
set
©©" %
;
©©% &
}
©©' (
public
ÆÆ 
int
ÆÆ	 
idProfileTo
ÆÆ 
{
ÆÆ 
get
ÆÆ 
;
ÆÆ 
set
ÆÆ  #
;
ÆÆ# $
}
ÆÆ% &
public
≥≥ 
bool
≥≥	 
status
≥≥ 
{
≥≥ 
get
≥≥ 
;
≥≥ 
set
≥≥ 
;
≥≥  
}
≥≥! "
}
¥¥ 
}∂∂ Ñò
EC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\Network.cs
	namespace 	
OpenCodeChems
 
. 
Server 
. 
Network &
{ 
public 

class 
Network 
: 
Node 
{ 
private 
int 
DEFAULT_PORT  
=! "
$num# '
;' (
private 
string 
ADDRESS 
=  
$str! ,
;, -
private 
int 
MAX_PLAYERS 
=  !
$num" %
;% &
private 
int 
PEERID 
= 
$num 
; 
private 
UserManagement 
USER_MANAGEMENT .
=/ 0
new1 4
UserManagement5 C
(C D
)D E
;E F
private 
LineEdit 

ipLineEdit #
;# $
private 
LineEdit 
portLineEdit %
;% &
private 
TextEdit 
logBlock !
;! "
private 
RichTextLabel 
	listening '
;' (
private 
Button 
connectButton $
;$ %
private 
AcceptDialog 
dialog #
;# $
private 

Dictionary 
< 
string !
,! "
RoomGame# +
>+ ,
rooms- 2
;2 3
private   

Dictionary   
<   
int   
,   
string    &
>  & '

roomOwners  ( 2
;  2 3
private!! 
List!! 
<!! 
int!! 
>!! 
clientsConected!! )
;!!) *
private"" 

Dictionary"" 
<"" 
int"" 
,"" 
string""  &
>""& '
playersData""( 3
;""3 4
private$$ 

Dictionary$$ 
<$$ 
int$$ 
,$$ 
string$$  &
>$$& '
playersLanguage$$( 7
;$$7 8
private%% 
static%% 

Encryption%% !
PASSWORD_HASHER%%" 1
=%%2 3
new%%4 7

Encryption%%8 B
(%%B C
)%%C D
;%%D E
public** 
override** 
void** 
_Ready** #
(**# $
)**$ %
{++ 	

roomOwners,, 
=,, 
new,, 

Dictionary,, '
<,,' (
int,,( +
,,,+ ,
string,,- 3
>,,3 4
(,,4 5
),,5 6
;,,6 7
clientsConected-- 
=-- 
new-- !
List--" &
<--& '
int--' *
>--* +
(--+ ,
)--, -
;--- .
playersData.. 
=.. 
new.. 

Dictionary.. (
<..( )
int..) ,
,.., -
string... 4
>..4 5
(..5 6
)..6 7
;..7 8
playersLanguage// 
=// 
new// !

Dictionary//" ,
<//, -
int//- 0
,//0 1
string//2 8
>//8 9
(//9 :
)//: ;
;//; <
dialog00 
=00 
	GetParent00 
(00 
)00  
.00  !
GetNode00! (
<00( )
AcceptDialog00) 5
>005 6
(006 7
$str007 M
)00M N
;00N O
rooms11 
=11 
new11 

Dictionary11 "
<11" #
string11# )
,11) *
RoomGame11+ 3
>113 4
(114 5
)115 6
;116 7

ipLineEdit22 
=22 
	GetParent22 "
(22" #
)22# $
.22$ %
GetNode22% ,
<22, -
LineEdit22- 5
>225 6
(226 7
$str227 C
)22C D
;22D E
portLineEdit33 
=33 
	GetParent33 $
(33$ %
)33% &
.33& '
GetNode33' .
<33. /
LineEdit33/ 7
>337 8
(338 9
$str339 I
)33I J
;33J K
logBlock44 
=44 
	GetParent44  
(44  !
)44! "
.44" #
GetNode44# *
<44* +
TextEdit44+ 3
>443 4
(444 5
$str445 G
)44G H
;44H I
	listening55 
=55 
	GetParent55 !
(55! "
)55" #
.55# $
GetNode55$ +
<55+ ,
RichTextLabel55, 9
>559 :
(55: ;
$str55; S
)55S T
;55T U
connectButton66 
=66 
	GetParent66 %
(66% &
)66& '
.66' (
GetNode66( /
<66/ 0
Button660 6
>666 7
(667 8
$str668 H
)66H I
;66I J

ipLineEdit77 
.77 
Text77 
=77 
(77 
ADDRESS77 &
)77& '
;77' (
portLineEdit88 
.88 
Text88 
=88 
(88  !
DEFAULT_PORT88! -
.88- .
ToString88. 6
(886 7
)887 8
)888 9
;889 :
}:: 	
private<< 
void<< 
PlayerConnected<< $
(<<$ %
int<<% (
peerId<<) /
)<</ 0
{== 	
logBlock>> 
.>> 
InsertTextAtCursor>> '
(>>' (
$">>( *
$str>>* 4
{>>4 5
peerId>>5 ;
}>>; <
$str>>< H
">>H I
)>>I J
;>>J K
clientsConected?? 
.?? 
Add?? 
(??  
peerId??  &
)??& '
;??' (
playersData@@ 
.@@ 
Add@@ 
(@@ 
peerId@@ "
,@@" #
$str@@$ *
)@@* +
;@@+ ,
playersLanguageAA 
.AA 
AddAA 
(AA  
peerIdAA  &
,AA& '
$strAA( ,
)AA, -
;AA- .
}BB 	
privateEE 
voidEE 
PlayerDisconnectedEE '
(EE' (
intEE( +
peerIdEE, 2
)EE2 3
{FF 	
logBlockGG 
.GG 
InsertTextAtCursorGG '
(GG' (
$"GG( *
$strGG* 4
{GG4 5
peerIdGG5 ;
}GG; <
$strGG< K
"GGK L
)GGL M
;GGM N
ProfileHH 
profileForDeleteHH $
=HH% &
USER_MANAGEMENTHH' 6
.HH6 7 
GetProfileByUsernameHH7 K
(HHK L
peerIdHHL R
.HHR S
ToStringHHS [
(HH[ \
)HH\ ]
)HH] ^
;HH^ _
ifII 
(II 
profileForDeleteII  
!=II! #
nullII$ (
)II( )
{JJ 
USER_MANAGEMENTKK 
.KK  !
DeleteInvitatedPlayerKK  5
(KK5 6
profileForDeleteKK6 F
.KKF G
usernameKKG O
)KKO P
;KKP Q
}LL 
clientsConectedMM 
.MM 
RemoveMM "
(MM" #
peerIdMM# )
)MM) *
;MM* +
ifNN 
(NN 

roomOwnersNN 
.NN 
ContainsKeyNN &
(NN& '
peerIdNN' -
)NN- .
)NN. /
{OO 
stringPP 
roomNamePP 
=PP  !

roomOwnersPP" ,
[PP, -
peerIdPP- 3
]PP3 4
;PP4 5
logBlockQQ 
.QQ 
InsertTextAtCursorQQ +
(QQ+ ,
$"QQ, .
{QQ. /
peerIdQQ/ 5
}QQ5 6
$strQQ6 E
{QQE F
roomNameQQF N
}QQN O
$strQQO Q
"QQQ R
)QQR S
;QQS T
	EraseRoomRR 
(RR 
roomNameRR "
)RR" #
;RR# $

roomOwnersSS 
.SS 
RemoveSS !
(SS! "
peerIdSS" (
)SS( )
;SS) *
playersDataTT 
.TT 
RemoveTT "
(TT" #
peerIdTT# )
)TT) *
;TT* +
}VV 
playersDataWW 
.WW 
RemoveWW 
(WW 
peerIdWW %
)WW% &
;WW& '
playersLanguageXX 
.XX 
RemoveXX "
(XX" #
peerIdXX# )
)XX) *
;XX* +
DisJoinPlayerYY 
(YY 
peerIdYY  
)YY  !
;YY! "
}ZZ 	
private`` 
void`` 
_on_Button_pressed`` '
(``' (
)``( )
{aa 	
stringbb 
	ipAddressbb 
=bb 

ipLineEditbb )
.bb) *
Textbb* .
;bb. /
stringcc 
portcc 
=cc 
portLineEditcc &
.cc& '
Textcc' +
;cc+ ,

Validationdd 
validationsdd "
=dd# $
newdd% (

Validationdd) 3
(dd3 4
)dd4 5
;dd5 6
ifee 
(ee 
validationsee 
.ee 

ValidateIpee &
(ee& '
	ipAddressee' 0
)ee0 1
&&ee2 4
validationsee5 @
.ee@ A
ValidatePorteeA M
(eeM N
porteeN R
)eeR S
)eeS T
{ff 
ADDRESSgg 
=gg 
	ipAddressgg #
;gg# $
DEFAULT_PORThh 
=hh 
Int32hh $
.hh$ %
Parsehh% *
(hh* +
porthh+ /
)hh/ 0
;hh0 1
connectButtonii 
.ii 
Disabledii &
=ii' (
trueii) -
;ii- .
logBlockjj 
.jj 
InsertTextAtCursorjj +
(jj+ ,
$strjj, P
)jjP Q
;jjQ R
varkk 
serverkk 
=kk 
newkk  $
NetworkedMultiplayerENetkk! 9
(kk9 :
)kk: ;
;kk; <
varll 
resultll 
=ll 
serverll #
.ll# $
CreateServerll$ 0
(ll0 1
DEFAULT_PORTll1 =
,ll= >
MAX_PLAYERSll? J
)llJ K
;llK L
ifmm 
(mm 
resultmm 
==mm 
$nummm 
)mm  
{nn 
GetTreeoo 
(oo 
)oo 
.oo 
NetworkPeeroo )
=oo* +
serveroo, 2
;oo2 3
logBlockpp 
.pp 
InsertTextAtCursorpp /
(pp/ 0
$"pp0 2
$strpp2 F
{ppF G
ADDRESSppG N
}ppN O
$strppO P
{ppP Q
DEFAULT_PORTppQ ]
}pp] ^
$strpp^ a
"ppa b
)ppb c
;ppc d
logBlockqq 
.qq 
InsertTextAtCursorqq /
(qq/ 0
$"qq0 2
{qq2 3
GetTreeqq3 :
(qq: ;
)qq; <
.qq< =
NetworkPeerqq= H
}qqH I
$strqqI K
"qqK L
)qqL M
;qqM N
	listeningrr 
.rr 
Textrr "
=rr# $
$"rr% '
{rr' (
ADDRESSrr( /
}rr/ 0
$strrr0 1
{rr1 2
DEFAULT_PORTrr2 >
}rr> ?
"rr? @
;rr@ A
}ss 
logBlocktt 
.tt 
InsertTextAtCursortt +
(tt+ ,
$"tt, .
$strtt. @
{tt@ A
GetTreettA H
(ttH I
)ttI J
.ttJ K
IsNetworkServerttK Z
(ttZ [
)tt[ \
}tt\ ]
$strtt] _
"tt_ `
)tt` a
;tta b
logBlockuu 
.uu 
InsertTextAtCursoruu +
(uu+ ,
$"uu, .
$struu. >
{uu> ?
GetTreeuu? F
(uuF G
)uuG H
.uuH I
GetNetworkUniqueIduuI [
(uu[ \
)uu\ ]
}uu] ^
$struu^ `
"uu` a
)uua b
;uub c
GetTreevv 
(vv 
)vv 
.vv 
Connectvv !
(vv! "
$strvv" :
,vv: ;
thisvv< @
,vv@ A
nameofvvB H
(vvH I
PlayerConnectedvvI X
)vvX Y
)vvY Z
;vvZ [
GetTreeww 
(ww 
)ww 
.ww 
Connectww !
(ww! "
$strww" =
,ww= >
thisww? C
,wwC D
nameofwwE K
(wwK L
PlayerDisconnectedwwL ^
)ww^ _
)ww_ `
;ww` a
}xx 
elseyy 
{zz 
dialog{{ 
.{{ 

DialogText{{ !
={{" #
$str{{$ =
;{{= >
dialog|| 
.|| 
Visible|| 
=||  
true||! %
;||% &
}}} 
} 	
private
ÅÅ 
int
ÅÅ 
GetPlayerIdInRoom
ÅÅ %
(
ÅÅ% &
string
ÅÅ& ,
roomName
ÅÅ- 5
,
ÅÅ5 6
string
ÅÅ7 =

playerName
ÅÅ> H
)
ÅÅH I
{
ÇÇ 	
int
ÉÉ 
idRoom
ÉÉ 
=
ÉÉ 
-
ÉÉ 
$num
ÉÉ 
;
ÉÉ 
if
ÑÑ 
(
ÑÑ 
rooms
ÑÑ 
.
ÑÑ 
ContainsKey
ÑÑ !
(
ÑÑ! "
roomName
ÑÑ" *
)
ÑÑ* +
)
ÑÑ+ ,
{
ÖÖ 
List
ÜÜ 
<
ÜÜ 
int
ÜÜ 
>
ÜÜ 
playersInRoom
ÜÜ '
=
ÜÜ( )
rooms
ÜÜ* /
[
ÜÜ/ 0
roomName
ÜÜ0 8
]
ÜÜ8 9
.
ÜÜ9 :
members
ÜÜ: A
;
ÜÜA B
bool
áá 
status
áá 
=
áá 
false
áá #
;
áá# $
for
àà 
(
àà 
int
àà 
c
àà 
=
àà 
$num
àà 
;
àà 
c
àà  !
<
àà" #
playersInRoom
àà$ 1
.
àà1 2
Count
àà2 7
&&
àà8 :
!
àà; <
status
àà< B
;
ààB C
c
ààD E
++
ààE G
)
ààG H
{
ââ 
int
ää 
id
ää 
=
ää 
playersInRoom
ää *
[
ää* +
c
ää+ ,
]
ää, -
;
ää- .
if
ãã 
(
ãã 
playersData
ãã #
.
ãã# $
ContainsKey
ãã$ /
(
ãã/ 0
id
ãã0 2
)
ãã2 3
)
ãã3 4
{
åå 
if
çç 
(
çç 
playersData
çç '
[
çç' (
id
çç( *
]
çç* +
==
çç, .

playerName
çç/ 9
)
çç9 :
{
éé 
status
èè "
=
èè# $
true
èè% )
;
èè) *
idRoom
êê "
=
êê# $
id
êê% '
;
êê' (
}
íí 
}
ìì 
}
îî 
}
ïï 
return
óó 
idRoom
óó 
;
óó 
}
òò 	
private
öö 
void
öö 
	EraseRoom
öö 
(
öö 
string
öö %
code
öö& *
)
öö* +
{
õõ 	
if
úú 
(
úú 
rooms
úú 
.
úú 
ContainsKey
úú !
(
úú! "
code
úú" &
)
úú& '
)
úú' (
{
ùù 
List
ûû 
<
ûû 
int
ûû 
>
ûû 
playersInRoom
ûû '
=
ûû( )
rooms
ûû* /
[
ûû/ 0
code
ûû0 4
]
ûû4 5
.
ûû5 6
members
ûû6 =
;
ûû= >
for
üü 
(
üü 
int
üü 
c
üü 
=
üü 
$num
üü 
;
üü 
c
üü  !
<
üü" #
playersInRoom
üü$ 1
.
üü1 2
Count
üü2 7
;
üü7 8
c
üü9 :
++
üü: <
)
üü< =
{
†† 
int
°° 
senderId
°°  
=
°°! "
playersInRoom
°°# 0
[
°°0 1
c
°°1 2
]
°°2 3
;
°°3 4
logBlock
¢¢ 
.
¢¢  
InsertTextAtCursor
¢¢ /
(
¢¢/ 0
$"
¢¢0 2
$str
¢¢2 9
{
¢¢9 :
senderId
¢¢: B
}
¢¢B C
$str
¢¢C Q
{
¢¢Q R
code
¢¢R V
}
¢¢V W
$str
¢¢W Y
"
¢¢Y Z
)
¢¢Z [
;
¢¢[ \
RpcId
££ 
(
££ 
senderId
££ "
,
££" #
$str
££$ .
)
££. /
;
££/ 0
}
§§ 
rooms
•• 
.
•• 
Remove
•• 
(
•• 
code
•• !
)
••! "
;
••" #
}
¶¶ 
}
ßß 	
[
©© 	
Master
©©	 
]
©© 
private
™™ 
void
™™ 
LoginRequest
™™ !
(
™™! "
string
™™" (
username
™™) 1
,
™™1 2
string
™™3 9
password
™™: B
)
™™B C
{
´´ 	
int
¨¨ 
senderId
¨¨ 
=
¨¨ 
GetTree
¨¨ "
(
¨¨" #
)
¨¨# $
.
¨¨$ %
GetRpcSenderId
¨¨% 3
(
¨¨3 4
)
¨¨4 5
;
¨¨5 6
if
≠≠ 
(
≠≠ 
USER_MANAGEMENT
≠≠ 
.
≠≠  
Login
≠≠  %
(
≠≠% &
username
≠≠& .
,
≠≠. /
password
≠≠0 8
)
≠≠8 9
)
≠≠9 :
{
ÆÆ 
RpcId
∞∞ 
(
∞∞ 
senderId
∞∞ 
,
∞∞ 
$str
∞∞  0
)
∞∞0 1
;
∞∞1 2
logBlock
±± 
.
±±  
InsertTextAtCursor
±± +
(
±±+ ,
$"
±±, .
$str
±±. 9
{
±±9 :
senderId
±±: B
}
±±B C
$str
±±C ]
"
±±] ^
)
±±^ _
;
±±_ `
}
≤≤ 
else
≥≥ 
{
¥¥ 
RpcId
µµ 
(
µµ 
senderId
µµ 
,
µµ 
$str
µµ  -
)
µµ- .
;
µµ. /
logBlock
∂∂ 
.
∂∂  
InsertTextAtCursor
∂∂ +
(
∂∂+ ,
$"
∂∂, .
$str
∂∂. 9
{
∂∂9 :
senderId
∂∂: B
}
∂∂B C
$str
∂∂C W
"
∂∂W X
)
∂∂X Y
;
∂∂Y Z
}
∑∑ 
}
ππ 	
private
ªª 
void
ªª 
DisJoinPlayer
ªª "
(
ªª" #
int
ªª# &
senderId
ªª' /
)
ªª/ 0
{
ºº 	
foreach
ΩΩ 
(
ΩΩ 
KeyValuePair
ΩΩ !
<
ΩΩ! "
string
ΩΩ" (
,
ΩΩ( )
RoomGame
ΩΩ* 2
>
ΩΩ2 3
roomName
ΩΩ4 <
in
ΩΩ= ?
rooms
ΩΩ@ E
)
ΩΩE F
{
ææ 
DeletePlayer
øø 
(
øø 
roomName
øø %
.
øø% &
Key
øø& )
)
øø) *
;
øø* +
}
¿¿ 
}
¡¡ 	
[
√√ 	
Master
√√	 
]
√√ 
private
ƒƒ 
void
ƒƒ 
DeletePlayer
ƒƒ !
(
ƒƒ! "
string
ƒƒ" (
nameRoom
ƒƒ) 1
)
ƒƒ1 2
{
≈≈ 	
int
∆∆ 
senderId
∆∆ 
=
∆∆ 
GetTree
∆∆ "
(
∆∆" #
)
∆∆# $
.
∆∆$ %
GetRpcSenderId
∆∆% 3
(
∆∆3 4
)
∆∆4 5
;
∆∆5 6
if
«« 
(
«« 

roomOwners
«« 
.
«« 
ContainsKey
«« &
(
««& '
senderId
««' /
)
««/ 0
)
««0 1
{
»» 
	EraseRoom
…… 
(
…… 

roomOwners
…… $
[
……$ %
senderId
……% -
]
……- .
)
……. /
;
……/ 0

roomOwners
   
.
   
Remove
   !
(
  ! "
senderId
  " *
)
  * +
;
  + ,
}
ÃÃ 
if
ÕÕ 
(
ÕÕ 
rooms
ÕÕ 
.
ÕÕ 
ContainsKey
ÕÕ !
(
ÕÕ! "
nameRoom
ÕÕ" *
)
ÕÕ* +
)
ÕÕ+ ,
{
ŒŒ 
if
œœ 
(
œœ 
rooms
œœ 
[
œœ 
nameRoom
œœ "
]
œœ" #
.
œœ# $
Exist
œœ$ )
(
œœ) *
senderId
œœ* 2
)
œœ2 3
)
œœ3 4
{
–– 
rooms
—— 
[
—— 
nameRoom
—— "
]
——" #
.
——# $
RemovePlayer
——$ 0
(
——0 1
senderId
——1 9
)
——9 :
;
——: ;
UpdateClientsRoom
““ %
(
““% &
nameRoom
““& .
)
““. /
;
““/ 0
}
”” 
}
‘‘ 
}
’’ 	
[
ÁÁ 	
Master
ÁÁ	 
]
ÁÁ 
private
ËË 
void
ËË !
RegisterUserRequest
ËË (
(
ËË( )
string
ËË) /
name
ËË0 4
,
ËË4 5
string
ËË6 <
email
ËË= B
,
ËËB C
string
ËËD J
username
ËËK S
,
ËËS T
string
ËËU [
hashPassword
ËË\ h
,
ËËh i
string
ËËj p
nickname
ËËq y
,
ËËy z
int
ËË{ ~
imageProfileËË ã
,ËËã å
intËËç ê
	victoriesËËë ö
,ËËö õ
intËËú ü
defeatsËË† ß
)ËËß ®
{
ÈÈ 	
int
ÍÍ 
senderId
ÍÍ 
=
ÍÍ 
GetTree
ÍÍ "
(
ÍÍ" #
)
ÍÍ# $
.
ÍÍ$ %
GetRpcSenderId
ÍÍ% 3
(
ÍÍ3 4
)
ÍÍ4 5
;
ÍÍ5 6
try
ÎÎ 
{
ÏÏ 
User
ÌÌ 
newUser
ÌÌ 
=
ÌÌ 
new
ÌÌ "
User
ÌÌ# '
(
ÌÌ' (
username
ÌÌ( 0
,
ÌÌ0 1
hashPassword
ÌÌ2 >
,
ÌÌ> ?
name
ÌÌ@ D
,
ÌÌD E
email
ÌÌF K
)
ÌÌK L
;
ÌÌL M
Profile
ÓÓ 

newProfile
ÓÓ "
=
ÓÓ# $
new
ÓÓ% (
Profile
ÓÓ) 0
(
ÓÓ0 1
nickname
ÓÓ1 9
,
ÓÓ9 :
	victories
ÓÓ; D
,
ÓÓD E
defeats
ÓÓF M
,
ÓÓM N
imageProfile
ÓÓO [
,
ÓÓ[ \
username
ÓÓ] e
)
ÓÓe f
;
ÓÓf g
if
ÔÔ 
(
ÔÔ 
USER_MANAGEMENT
ÔÔ #
.
ÔÔ# $
RegisterUser
ÔÔ$ 0
(
ÔÔ0 1
newUser
ÔÔ1 8
)
ÔÔ8 9
)
ÔÔ9 :
{
 
if
ÒÒ 
(
ÒÒ 
USER_MANAGEMENT
ÒÒ '
.
ÒÒ' (
RegisterProfile
ÒÒ( 7
(
ÒÒ7 8

newProfile
ÒÒ8 B
)
ÒÒB C
)
ÒÒC D
{
ÚÚ 
RpcId
ÛÛ 
(
ÛÛ 
senderId
ÛÛ &
,
ÛÛ& '
$str
ÛÛ( ;
)
ÛÛ; <
;
ÛÛ< =
logBlock
ÙÙ  
.
ÙÙ  ! 
InsertTextAtCursor
ÙÙ! 3
(
ÙÙ3 4
$"
ÙÙ4 6
$str
ÙÙ6 A
{
ÙÙA B
senderId
ÙÙB J
}
ÙÙJ K
$str
ÙÙK i
"
ÙÙi j
)
ÙÙj k
;
ÙÙk l
}
ıı 
}
ˆˆ 
else
˜˜ 
{
¯¯ 
RpcId
˘˘ 
(
˘˘ 
senderId
˘˘ "
,
˘˘" #
$str
˘˘$ 2
)
˘˘2 3
;
˘˘3 4
logBlock
˙˙ 
.
˙˙  
InsertTextAtCursor
˙˙ /
(
˙˙/ 0
$"
˙˙0 2
$str
˙˙2 =
{
˙˙= >
senderId
˙˙> F
}
˙˙F G
$str
˙˙G _
"
˙˙_ `
)
˙˙` a
;
˙˙a b
}
˚˚ 
}
¸¸ 
catch
˝˝ 
(
˝˝ 
DbUpdateException
˝˝ $
)
˝˝$ %
{
˛˛ 
RpcId
ˇˇ 
(
ˇˇ 
senderId
ˇˇ 
,
ˇˇ 
$str
ˇˇ  .
)
ˇˇ. /
;
ˇˇ/ 0
}
ÄÄ 
}
ÇÇ 	
[
ÑÑ 	
Master
ÑÑ	 
]
ÑÑ 
private
ÖÖ 
void
ÖÖ $
EmailRegisteredRequest
ÖÖ +
(
ÖÖ+ ,
string
ÖÖ, 2
email
ÖÖ3 8
)
ÖÖ8 9
{
ÜÜ 	
int
áá 
senderId
áá 
=
áá 
GetTree
áá "
(
áá" #
)
áá# $
.
áá$ %
GetRpcSenderId
áá% 3
(
áá3 4
)
áá4 5
;
áá5 6
if
àà 
(
àà 
USER_MANAGEMENT
àà 
.
àà  
EmailRegistered
àà  /
(
àà/ 0
email
àà0 5
)
àà5 6
)
àà6 7
{
ââ 
RpcId
ää 
(
ää 
senderId
ää 
,
ää 
$str
ää  3
)
ää3 4
;
ää4 5
logBlock
ãã 
.
ãã  
InsertTextAtCursor
ãã +
(
ãã+ ,
$"
ãã, .
$str
ãã. E
{
ããE F
senderId
ããF N
}
ããN O
$str
ããO _
"
ãã_ `
)
ãã` a
;
ããa b
}
åå 
else
çç 
{
éé 
RpcId
èè 
(
èè 
senderId
èè 
,
èè 
$str
èè  6
)
èè6 7
;
èè7 8
logBlock
êê 
.
êê  
InsertTextAtCursor
êê +
(
êê+ ,
$"
êê, .
$str
êê. E
{
êêE F
senderId
êêF N
}
êêN O
$str
êêO \
"
êê\ ]
)
êê] ^
;
êê^ _
}
ëë 
}
íí 	
[
ìì 	
Master
ìì	 
]
ìì 
private
îî 
void
îî '
UsernameRegisteredRequest
îî .
(
îî. /
string
îî/ 5
username
îî6 >
)
îî> ?
{
ïï 	
int
ññ 
senderId
ññ 
=
ññ 
GetTree
ññ "
(
ññ" #
)
ññ# $
.
ññ$ %
GetRpcSenderId
ññ% 3
(
ññ3 4
)
ññ4 5
;
ññ5 6
if
óó 
(
óó 
USER_MANAGEMENT
óó 
.
óó   
UsernameRegistered
óó  2
(
óó2 3
username
óó3 ;
)
óó; <
)
óó< =
{
òò 
RpcId
ôô 
(
ôô 
senderId
ôô 
,
ôô 
$str
ôô  6
)
ôô6 7
;
ôô7 8
logBlock
öö 
.
öö  
InsertTextAtCursor
öö +
(
öö+ ,
$"
öö, .
$str
öö. H
{
ööH I
senderId
ööI Q
}
ööQ R
$str
ööR b
"
ööb c
)
ööc d
;
ööd e
}
õõ 
else
úú 
{
ùù 
RpcId
ûû 
(
ûû 
senderId
ûû 
,
ûû 
$str
ûû  9
)
ûû9 :
;
ûû: ;
logBlock
üü 
.
üü  
InsertTextAtCursor
üü +
(
üü+ ,
$"
üü, .
$str
üü. H
{
üüH I
senderId
üüI Q
}
üüQ R
$str
üüR _
"
üü_ `
)
üü` a
;
üüa b
}
†† 
}
°° 	
[
¢¢ 	
Master
¢¢	 
]
¢¢ 
private
££ 
void
££ '
NicknameRegisteredRequest
££ .
(
££. /
string
££/ 5
nickname
££6 >
)
££> ?
{
§§ 	
int
•• 
senderId
•• 
=
•• 
GetTree
•• "
(
••" #
)
••# $
.
••$ %
GetRpcSenderId
••% 3
(
••3 4
)
••4 5
;
••5 6
if
¶¶ 
(
¶¶ 
USER_MANAGEMENT
¶¶ 
.
¶¶   
NicknameRegistered
¶¶  2
(
¶¶2 3
nickname
¶¶3 ;
)
¶¶; <
)
¶¶< =
{
ßß 
RpcId
®® 
(
®® 
senderId
®® 
,
®® 
$str
®®  6
)
®®6 7
;
®®7 8
logBlock
©© 
.
©©  
InsertTextAtCursor
©© +
(
©©+ ,
$"
©©, .
$str
©©. H
{
©©H I
senderId
©©I Q
}
©©Q R
$str
©©R b
"
©©b c
)
©©c d
;
©©d e
}
™™ 
else
´´ 
{
¨¨ 
RpcId
≠≠ 
(
≠≠ 
senderId
≠≠ 
,
≠≠ 
$str
≠≠  9
)
≠≠9 :
;
≠≠: ;
logBlock
ÆÆ 
.
ÆÆ  
InsertTextAtCursor
ÆÆ +
(
ÆÆ+ ,
$"
ÆÆ, .
$str
ÆÆ. H
{
ÆÆH I
senderId
ÆÆI Q
}
ÆÆQ R
$str
ÆÆR _
"
ÆÆ_ `
)
ÆÆ` a
;
ÆÆa b
}
ØØ 
}
∞∞ 	
[
¥¥ 	
Master
¥¥	 
]
¥¥ 
private
µµ 
void
µµ )
GetProfileByUsernameRequest
µµ 0
(
µµ0 1
string
µµ1 7
username
µµ8 @
)
µµ@ A
{
∂∂ 	
int
∑∑ 
senderId
∑∑ 
=
∑∑ 
GetTree
∑∑ "
(
∑∑" #
)
∑∑# $
.
∑∑$ %
GetRpcSenderId
∑∑% 3
(
∑∑3 4
)
∑∑4 5
;
∑∑5 6
Profile
∏∏ 
profileObtained
∏∏ #
=
∏∏$ %
USER_MANAGEMENT
∏∏& 5
.
∏∏5 6"
GetProfileByUsername
∏∏6 J
(
∏∏J K
username
∏∏K S
)
∏∏S T
;
∏∏T U
if
ππ 
(
ππ 
profileObtained
ππ 
!=
ππ  "
null
ππ# '
)
ππ' (
{
∫∫ 
int
ªª 
	idProfile
ªª 
=
ªª 
profileObtained
ªª  /
.
ªª/ 0
	idProfile
ªª0 9
;
ªª9 :
string
ºº 
nickname
ºº 
=
ºº  !
profileObtained
ºº" 1
.
ºº1 2
nickname
ºº2 :
;
ºº: ;
string
ΩΩ 
usernameObtained
ΩΩ '
=
ΩΩ( )
profileObtained
ΩΩ* 9
.
ΩΩ9 :
username
ΩΩ: B
;
ΩΩB C
int
ææ 
	victories
ææ 
=
ææ 
profileObtained
ææ  /
.
ææ/ 0
	victories
ææ0 9
;
ææ9 :
int
øø 
defeats
øø 
=
øø 
profileObtained
øø -
.
øø- .
defeats
øø. 5
;
øø5 6
int
¿¿ 
imageProfile
¿¿  
=
¿¿! "
profileObtained
¿¿# 2
.
¿¿2 3
imageProfile
¿¿3 ?
;
¿¿? @
RpcId
¡¡ 
(
¡¡ 
senderId
¡¡ 
,
¡¡ 
$str
¡¡  ;
,
¡¡; <
	idProfile
¡¡= F
,
¡¡F G
nickname
¡¡H P
,
¡¡P Q
	victories
¡¡R [
,
¡¡[ \
defeats
¡¡] d
,
¡¡d e
imageProfile
¡¡f r
,
¡¡r s
usernameObtained¡¡t Ñ
)¡¡Ñ Ö
;¡¡Ö Ü
logBlock
¬¬ 
.
¬¬  
InsertTextAtCursor
¬¬ +
(
¬¬+ ,
$"
¬¬, .
$str
¬¬. 3
{
¬¬3 4
senderId
¬¬4 <
}
¬¬< =
$str
¬¬= G
{
¬¬G H
	idProfile
¬¬H Q
}
¬¬Q R
$str
¬¬R \
"
¬¬\ ]
)
¬¬] ^
;
¬¬^ _
}
√√ 
else
ƒƒ 
{
≈≈ 
RpcId
∆∆ 
(
∆∆ 
senderId
∆∆ 
,
∆∆ 
$str
∆∆  >
)
∆∆> ?
;
∆∆? @
logBlock
«« 
.
««  
InsertTextAtCursor
«« +
(
««+ ,
$"
««, .
$str
««. 3
{
««3 4
senderId
««4 <
}
««< =
$str
««= K
{
««K L
username
««L T
}
««T U
$str
««U _
"
««_ `
)
««` a
;
««a b
}
»» 
}
…… 	
[
ÀÀ 	
Master
ÀÀ	 
]
ÀÀ 
private
ÃÃ 
void
ÃÃ 

UpdateData
ÃÃ 
(
ÃÃ  
string
ÃÃ  &
nickname
ÃÃ' /
)
ÃÃ/ 0
{
ÕÕ 	
int
ŒŒ 
senderId
ŒŒ 
=
ŒŒ 
GetTree
ŒŒ "
(
ŒŒ" #
)
ŒŒ# $
.
ŒŒ$ %
GetRpcSenderId
ŒŒ% 3
(
ŒŒ3 4
)
ŒŒ4 5
;
ŒŒ5 6
playersData
œœ 
[
œœ 
senderId
œœ  
]
œœ  !
=
œœ" #
nickname
œœ$ ,
;
œœ, -
}
–– 	
[
‘‘ 	
Master
‘‘	 
]
‘‘ 
private
’’ 
void
’’ 
UpdateLanguage
’’ #
(
’’# $
string
’’$ *
lang
’’+ /
)
’’/ 0
{
÷÷ 	
int
◊◊ 
senderId
◊◊ 
=
◊◊ 
GetTree
◊◊ "
(
◊◊" #
)
◊◊# $
.
◊◊$ %
GetRpcSenderId
◊◊% 3
(
◊◊3 4
)
◊◊4 5
;
◊◊5 6
playersLanguage
ÿÿ 
[
ÿÿ 
senderId
ÿÿ $
]
ÿÿ$ %
=
ÿÿ& '
lang
ÿÿ( ,
;
ÿÿ, -
}
ŸŸ 	
[
€€ 	
Master
€€	 
]
€€ 
private
‹‹ 
void
‹‹ 
	UpdateRol
‹‹ 
(
‹‹ 
string
‹‹ %
rol
‹‹& )
,
‹‹) *
string
‹‹+ 1
nameRoom
‹‹2 :
)
‹‹: ;
{
›› 	
int
ﬁﬁ 
senderId
ﬁﬁ 
=
ﬁﬁ 
GetTree
ﬁﬁ "
(
ﬁﬁ" #
)
ﬁﬁ# $
.
ﬁﬁ$ %
GetRpcSenderId
ﬁﬁ% 3
(
ﬁﬁ3 4
)
ﬁﬁ4 5
;
ﬁﬁ5 6
if
ﬂﬂ 
(
ﬂﬂ 
rooms
ﬂﬂ 
.
ﬂﬂ 
ContainsKey
ﬂﬂ !
(
ﬂﬂ! "
nameRoom
ﬂﬂ" *
)
ﬂﬂ* +
)
ﬂﬂ+ ,
{
‡‡ 
if
·· 
(
·· 
rooms
·· 
[
·· 
nameRoom
·· "
]
··" #
.
··# $
	CanChange
··$ -
(
··- .
rol
··. 1
,
··1 2
senderId
··3 ;
)
··; <
)
··< =
{
‚‚ 
UpdateClientsRoom
„„ %
(
„„% &
nameRoom
„„& .
)
„„. /
;
„„/ 0
}
‰‰ 
else
ÂÂ 
{
ÊÊ 
RpcId
ÁÁ 
(
ÁÁ 
senderId
ÁÁ "
,
ÁÁ" #
$str
ÁÁ$ 2
)
ÁÁ2 3
;
ÁÁ3 4
}
ËË 
}
ÈÈ 
}
ÍÍ 	
private
ÏÏ 
bool
ÏÏ 
ValidRoomName
ÏÏ "
(
ÏÏ" #
string
ÏÏ# )
name
ÏÏ* .
)
ÏÏ. /
{
ÌÌ 	
string
ÓÓ 
ivalidCharacters
ÓÓ #
=
ÓÓ$ %
$str
ÓÓ& A
;
ÓÓA B
bool
ÔÔ 
status
ÔÔ 
=
ÔÔ 
true
ÔÔ 
;
ÔÔ 
foreach
 
(
 
char
 
	character
 "
in
# %
ivalidCharacters
& 6
)
6 7
{
ÒÒ 
foreach
ÚÚ 
(
ÚÚ 
char
ÚÚ 
itemName
ÚÚ %
in
ÚÚ& (
name
ÚÚ) -
)
ÚÚ- .
{
ÛÛ 
if
ÙÙ 
(
ÙÙ 
	character
ÙÙ  
==
ÙÙ! #
itemName
ÙÙ$ ,
)
ÙÙ, -
{
ıı 
status
ˆˆ 
=
ˆˆ  
false
ˆˆ! &
;
ˆˆ& '
}
˜˜ 
}
¯¯ 
}
˘˘ 
if
˚˚ 
(
˚˚ 
name
˚˚ 
.
˚˚ 
Length
˚˚ 
>
˚˚ 
$num
˚˚ 
)
˚˚  
{
¸¸ 
status
˝˝ 
=
˝˝ 
false
˝˝ 
;
˝˝ 
}
˛˛ 
return
ˇˇ 
status
ˇˇ 
;
ˇˇ 
}
ÄÄ 	
[
ÇÇ 	
Master
ÇÇ	 
]
ÇÇ 
private
ÉÉ 
void
ÉÉ 

CreateRoom
ÉÉ 
(
ÉÉ  
string
ÉÉ  &
code
ÉÉ' +
)
ÉÉ+ ,
{
ÑÑ 	
int
ÖÖ 
senderId
ÖÖ 
=
ÖÖ 
GetTree
ÖÖ "
(
ÖÖ" #
)
ÖÖ# $
.
ÖÖ$ %
GetRpcSenderId
ÖÖ% 3
(
ÖÖ3 4
)
ÖÖ4 5
;
ÖÖ5 6
if
ÜÜ 
(
ÜÜ 
rooms
ÜÜ 
.
ÜÜ 
ContainsKey
ÜÜ !
(
ÜÜ! "
code
ÜÜ" &
)
ÜÜ& '
||
ÜÜ( *
!
ÜÜ+ ,
ValidRoomName
ÜÜ, 9
(
ÜÜ9 :
code
ÜÜ: >
)
ÜÜ> ?
)
ÜÜ? @
{
áá 
RpcId
àà 
(
àà 
senderId
àà 
,
àà 
$str
àà  0
)
àà0 1
;
àà1 2
logBlock
ââ 
.
ââ  
InsertTextAtCursor
ââ +
(
ââ+ ,
$"
ââ, .
$str
ââ. 3
{
ââ3 4
senderId
ââ4 <
}
ââ< =
$str
ââ= K
{
ââK L
code
ââL P
}
ââP Q
$str
ââQ X
"
ââX Y
)
ââY Z
;
ââZ [
}
ää 
else
ãã 
{
åå 
RoomGame
çç 
hostRoom
çç !
=
çç" #
new
çç$ '
RoomGame
çç( 0
(
çç0 1
)
çç1 2
;
çç2 3
hostRoom
éé 
.
éé 
	AddPlayer
éé "
(
éé" #
senderId
éé# +
)
éé+ ,
;
éé, -
Random
èè 
randomClass
èè "
=
èè# $
new
èè% (
Random
èè) /
(
èè/ 0
)
èè0 1
;
èè1 2
hostRoom
êê 
.
êê 
SceneNumber
êê $
=
êê% &
randomClass
êê' 2
.
êê2 3
Next
êê3 7
(
êê7 8
$num
êê8 9
,
êê9 :
$num
êê; <
)
êê< =
;
êê= >
hostRoom
ëë 
.
ëë 
GenerateBoard
ëë &
(
ëë& '
)
ëë' (
;
ëë( )
rooms
íí 
.
íí 
Add
íí 
(
íí 
code
íí 
,
íí 
hostRoom
íí  (
)
íí( )
;
íí) *

roomOwners
ìì 
.
ìì 
Add
ìì 
(
ìì 
senderId
ìì '
,
ìì' (
code
ìì) -
)
ìì- .
;
ìì. /
logBlock
îî 
.
îî  
InsertTextAtCursor
îî +
(
îî+ ,
$"
îî, .
$str
îî. 3
{
îî3 4
senderId
îî4 <
}
îî< =
$str
îî= F
{
îîF G
code
îîG K
}
îîK L
$str
îîL S
"
îîS T
)
îîT U
;
îîU V
RpcId
ïï 
(
ïï 
senderId
ïï 
,
ïï 
$str
ïï  4
,
ïï4 5
code
ïï6 :
)
ïï: ;
;
ïï; <
logBlock
ññ 
.
ññ  
InsertTextAtCursor
ññ +
(
ññ+ ,
$"
ññ, .
$str
ññ. P
{
ññP Q
senderId
ññQ Y
}
ññY Z
$str
ññZ \
"
ññ\ ]
)
ññ] ^
;
ññ^ _
logBlock
óó 
.
óó  
InsertTextAtCursor
óó +
(
óó+ ,
$str
óó, C
)
óóC D
;
óóD E
foreach
òò 
(
òò 
int
òò 
number
òò #
in
òò$ &
hostRoom
òò' /
.
òò/ 0
boardNumbers
òò0 <
)
òò< =
{
ôô 
logBlock
öö 
.
öö  
InsertTextAtCursor
öö /
(
öö/ 0
$"
öö0 2
{
öö2 3
number
öö3 9
}
öö9 :
$str
öö: <
"
öö< =
)
öö= >
;
öö> ?
}
õõ 
logBlock
úú 
.
úú  
InsertTextAtCursor
úú +
(
úú+ ,
$str
úú, 0
)
úú0 1
;
úú1 2
}
ûû 
}
üü 	
private
¢¢ 
List
¢¢ 
<
¢¢ 
string
¢¢ 
>
¢¢ 
GetRedPlayers
¢¢ *
(
¢¢* +
string
¢¢+ 1
nameRoom
¢¢2 :
)
¢¢: ;
{
££ 	
List
§§ 
<
§§ 
string
§§ 
>
§§ 

redPlayers
§§ $
=
§§% &
new
§§' *
List
§§+ /
<
§§/ 0
string
§§0 6
>
§§6 7
(
§§7 8
)
§§8 9
;
§§9 :
if
•• 
(
•• 
rooms
•• 
.
•• 
ContainsKey
•• !
(
••! "
nameRoom
••" *
)
••* +
)
••+ ,
{
¶¶ 
foreach
ßß 
(
ßß 
int
ßß 
id
ßß 
in
ßß  "
rooms
ßß# (
[
ßß( )
nameRoom
ßß) 1
]
ßß1 2
.
ßß2 3

redPlayers
ßß3 =
)
ßß= >
{
®® 

redPlayers
©© 
.
©© 
Add
©© "
(
©©" #
playersData
©©# .
[
©©. /
id
©©/ 1
]
©©1 2
)
©©2 3
;
©©3 4
}
™™ 
}
´´ 
return
¨¨ 

redPlayers
¨¨ 
;
¨¨ 
}
ÆÆ 	
private
ØØ 
List
ØØ 
<
ØØ 
string
ØØ 
>
ØØ 
GetBluePlayers
ØØ +
(
ØØ+ ,
string
ØØ, 2
nameRoom
ØØ3 ;
)
ØØ; <
{
∞∞ 	
List
±± 
<
±± 
string
±± 
>
±± 
bluePlayers
±± %
=
±±& '
new
±±( +
List
±±, 0
<
±±0 1
string
±±1 7
>
±±7 8
(
±±8 9
)
±±9 :
;
±±: ;
if
≤≤ 
(
≤≤ 
rooms
≤≤ 
.
≤≤ 
ContainsKey
≤≤ !
(
≤≤! "
nameRoom
≤≤" *
)
≤≤* +
)
≤≤+ ,
{
≥≥ 
foreach
¥¥ 
(
¥¥ 
int
¥¥ 
id
¥¥ 
in
¥¥  "
rooms
¥¥# (
[
¥¥( )
nameRoom
¥¥) 1
]
¥¥1 2
.
¥¥2 3
bluePlayers
¥¥3 >
)
¥¥> ?
{
µµ 
bluePlayers
∂∂ 
.
∂∂  
Add
∂∂  #
(
∂∂# $
playersData
∂∂$ /
[
∂∂/ 0
id
∂∂0 2
]
∂∂2 3
)
∂∂3 4
;
∂∂4 5
}
∑∑ 
}
∏∏ 
return
ππ 
bluePlayers
ππ 
;
ππ  
}
ªª 	
private
ææ 
string
ææ 
GetRedSpyMaster
ææ &
(
ææ& '
string
ææ' -
nameRoom
ææ. 6
)
ææ6 7
{
øø 	
string
¿¿ 
redSpyMaster
¿¿ 
=
¿¿  !
null
¿¿" &
;
¿¿& '
if
¡¡ 
(
¡¡ 
rooms
¡¡ 
.
¡¡ 
ContainsKey
¡¡  
(
¡¡  !
nameRoom
¡¡! )
)
¡¡) *
)
¡¡* +
{
¬¬ 
if
√√ 
(
√√ 
playersData
√√ 
.
√√  
ContainsKey
√√  +
(
√√+ ,
rooms
√√, 1
[
√√1 2
nameRoom
√√2 :
]
√√: ;
.
√√; <
redSpyMaster
√√< H
)
√√H I
)
√√I J
{
ƒƒ 
redSpyMaster
≈≈  
=
≈≈! "
playersData
≈≈# .
[
≈≈. /
rooms
≈≈/ 4
[
≈≈4 5
nameRoom
≈≈5 =
]
≈≈= >
.
≈≈> ?
redSpyMaster
≈≈? K
]
≈≈K L
;
≈≈L M
}
∆∆ 
}
«« 
return
»» 
redSpyMaster
»» 
;
»»  
}
…… 	
private
ÀÀ 
string
ÀÀ 
GetBlueSpyMaster
ÀÀ '
(
ÀÀ' (
string
ÀÀ( .
nameRoom
ÀÀ/ 7
)
ÀÀ7 8
{
ÃÃ 	
string
ÕÕ 
blueSpyMaster
ÕÕ  
=
ÕÕ! "
null
ÕÕ# '
;
ÕÕ' (
if
ŒŒ 
(
ŒŒ 
rooms
ŒŒ 
.
ŒŒ 
ContainsKey
ŒŒ  
(
ŒŒ  !
nameRoom
ŒŒ! )
)
ŒŒ) *
)
ŒŒ* +
{
œœ 
if
–– 
(
–– 
playersData
–– 
.
––  
ContainsKey
––  +
(
––+ ,
rooms
––, 1
[
––1 2
nameRoom
––2 :
]
––: ;
.
––; <
blueSpyMaster
––< I
)
––I J
)
––J K
{
—— 
blueSpyMaster
““ !
=
““" #
playersData
““$ /
[
““/ 0
rooms
““0 5
[
““5 6
nameRoom
““6 >
]
““> ?
.
““? @
blueSpyMaster
““@ M
]
““M N
;
““N O
}
”” 
}
‘‘ 
return
’’ 
blueSpyMaster
’’  
;
’’  !
}
÷÷ 	
[
ÿÿ 	
Master
ÿÿ	 
]
ÿÿ 
private
ŸŸ 
void
ŸŸ 
UpdateClientsRoom
ŸŸ &
(
ŸŸ& '
string
ŸŸ' -
nameRoom
ŸŸ. 6
)
ŸŸ6 7
{
⁄⁄ 	
if
€€ 
(
€€ 
rooms
€€ 
.
€€ 
ContainsKey
€€ !
(
€€! "
nameRoom
€€" *
)
€€* +
)
€€+ ,
{
‹‹ 
List
›› 
<
›› 
int
›› 
>
›› 
playersInRoom
›› '
=
››( )
rooms
››* /
[
››/ 0
nameRoom
››0 8
]
››8 9
.
››9 :
members
››: A
;
››A B
for
ﬁﬁ 
(
ﬁﬁ 
int
ﬁﬁ 
c
ﬁﬁ 
=
ﬁﬁ 
$num
ﬁﬁ 
;
ﬁﬁ 
c
ﬁﬁ  !
<
ﬁﬁ" #
playersInRoom
ﬁﬁ$ 1
.
ﬁﬁ1 2
Count
ﬁﬁ2 7
;
ﬁﬁ7 8
c
ﬁﬁ9 :
++
ﬁﬁ: <
)
ﬁﬁ< =
{
ﬂﬂ 
int
‡‡ 
master
‡‡ 
=
‡‡  
playersInRoom
‡‡! .
[
‡‡. /
c
‡‡/ 0
]
‡‡0 1
;
‡‡1 2
string
·· 
redSpyMaster
·· '
=
··( )
GetRedSpyMaster
··* 9
(
··9 :
nameRoom
··: B
)
··B C
;
··C D
string
‚‚ 
blueSpyMaster
‚‚ (
=
‚‚) *
GetBlueSpyMaster
‚‚+ ;
(
‚‚; <
nameRoom
‚‚< D
)
‚‚D E
;
‚‚E F
List
‰‰ 
<
‰‰ 
string
‰‰ 
>
‰‰  

redPlayers
‰‰! +
=
‰‰, -
GetRedPlayers
‰‰. ;
(
‰‰; <
nameRoom
‰‰< D
)
‰‰D E
;
‰‰E F
List
ÂÂ 
<
ÂÂ 
string
ÂÂ 
>
ÂÂ  
bluePlayers
ÂÂ! ,
=
ÂÂ- .
GetBluePlayers
ÂÂ/ =
(
ÂÂ= >
nameRoom
ÂÂ> F
)
ÂÂF G
;
ÂÂG H
RpcId
ÁÁ 
(
ÁÁ 
master
ÁÁ  
,
ÁÁ  !
$str
ÁÁ" .
,
ÁÁ. /
redSpyMaster
ÁÁ0 <
,
ÁÁ< =
blueSpyMaster
ÁÁ> K
,
ÁÁK L

redPlayers
ÁÁM W
,
ÁÁW X
bluePlayers
ÁÁY d
)
ÁÁd e
;
ÁÁe f
}
ËË 
logBlock
ÈÈ 
.
ÈÈ  
InsertTextAtCursor
ÈÈ +
(
ÈÈ+ ,
$str
ÈÈ, 0
)
ÈÈ0 1
;
ÈÈ1 2
}
ÍÍ 
}
ÎÎ 	
[
ÌÌ 	
Master
ÌÌ	 
]
ÌÌ 
private
ÓÓ 
void
ÓÓ 
BanPlayerInRoom
ÓÓ $
(
ÓÓ$ %
string
ÓÓ% +
roomName
ÓÓ, 4
,
ÓÓ4 5
string
ÓÓ6 <

playerName
ÓÓ= G
)
ÓÓG H
{
ÔÔ 	
int
 
senderId
 
=
 
GetTree
 "
(
" #
)
# $
.
$ %
GetRpcSenderId
% 3
(
3 4
)
4 5
;
5 6
if
ÒÒ 
(
ÒÒ 
rooms
ÒÒ 
.
ÒÒ 
ContainsKey
ÒÒ !
(
ÒÒ! "
roomName
ÒÒ" *
)
ÒÒ* +
)
ÒÒ+ ,
{
ÚÚ 
int
ÛÛ 
uniqueId
ÛÛ 
=
ÛÛ 
GetPlayerIdInRoom
ÛÛ 0
(
ÛÛ0 1
roomName
ÛÛ1 9
,
ÛÛ9 :

playerName
ÛÛ; E
)
ÛÛE F
;
ÛÛF G
if
ÙÙ 
(
ÙÙ 
uniqueId
ÙÙ 
!=
ÙÙ 
-
ÙÙ  !
$num
ÙÙ! "
&&
ÙÙ# %
!
ÙÙ& '

roomOwners
ÙÙ' 1
.
ÙÙ1 2
ContainsKey
ÙÙ2 =
(
ÙÙ= >
uniqueId
ÙÙ> F
)
ÙÙF G
)
ÙÙG H
{
ıı 
rooms
ˆˆ 
[
ˆˆ 
roomName
ˆˆ "
]
ˆˆ" #
.
ˆˆ# $
	BanPlayer
ˆˆ$ -
(
ˆˆ- .
uniqueId
ˆˆ. 6
)
ˆˆ6 7
;
ˆˆ7 8
RpcId
˜˜ 
(
˜˜ 
uniqueId
˜˜ "
,
˜˜" #
$str
˜˜$ ,
)
˜˜, -
;
˜˜- .
UpdateClientsRoom
¯¯ %
(
¯¯% &
roomName
¯¯& .
)
¯¯. /
;
¯¯/ 0
}
˘˘ 
else
˙˙ 
{
˚˚ 
RpcId
¸¸ 
(
¸¸ 
senderId
¸¸ "
,
¸¸" #
$str
¸¸$ -
)
¸¸- .
;
¸¸. /
}
˝˝ 
}
˛˛ 
else
ˇˇ 
{
ÄÄ 
RpcId
ÅÅ 
(
ÅÅ 
senderId
ÅÅ 
,
ÅÅ 
$str
ÅÅ  )
)
ÅÅ) *
;
ÅÅ* +
}
ÇÇ 
}
ÉÉ 	
[
ÖÖ 	
Master
ÖÖ	 
]
ÖÖ 
private
ÜÜ 
void
ÜÜ 
BanPermission
ÜÜ "
(
ÜÜ" #
)
ÜÜ# $
{
áá 	
int
àà 
senderId
àà 
=
àà 
GetTree
àà "
(
àà" #
)
àà# $
.
àà$ %
GetRpcSenderId
àà% 3
(
àà3 4
)
àà4 5
;
àà5 6
if
ââ 
(
ââ 

roomOwners
ââ 
.
ââ 
ContainsKey
ââ &
(
ââ& '
senderId
ââ' /
)
ââ/ 0
)
ââ0 1
{
ää 
RpcId
ãã 
(
ãã 
senderId
ãã 
,
ãã 
$str
ãã  5
)
ãã5 6
;
ãã6 7
}
åå 
}
çç 	
[
èè 	
Master
èè	 
]
èè 
private
êê 
void
êê 
JoinRoom
êê 
(
êê 
string
êê $
code
êê% )
)
êê) *
{
ëë 	
int
íí 
senderId
íí 
=
íí 
GetTree
íí "
(
íí" #
)
íí# $
.
íí$ %
GetRpcSenderId
íí% 3
(
íí3 4
)
íí4 5
;
íí5 6
if
ìì 
(
ìì 
rooms
ìì 
.
ìì 
ContainsKey
ìì !
(
ìì! "
code
ìì" &
)
ìì& '
)
ìì' (
{
îî 
if
ïï 
(
ïï 
rooms
ïï 
[
ïï 
code
ïï 
]
ïï 
.
ïï  
CanJoin
ïï  '
(
ïï' (
senderId
ïï( 0
)
ïï0 1
)
ïï1 2
{
ññ 
rooms
óó 
[
óó 
code
óó 
]
óó 
.
óó  
	AddPlayer
óó  )
(
óó) *
senderId
óó* 2
)
óó2 3
;
óó3 4
RpcId
òò 
(
òò 
senderId
òò "
,
òò" #
$str
òò$ 6
,
òò6 7
code
òò8 <
)
òò< =
;
òò= >
logBlock
ôô 
.
ôô  
InsertTextAtCursor
ôô /
(
ôô/ 0
$"
ôô0 2
$str
ôô2 7
{
ôô7 8
senderId
ôô8 @
}
ôô@ A
$str
ôôA J
{
ôôJ K
code
ôôK O
}
ôôO P
$str
ôôP W
"
ôôW X
)
ôôX Y
;
ôôY Z
}
öö 
else
õõ 
{
úú 
RpcId
ùù 
(
ùù 
senderId
ùù "
,
ùù" #
$str
ùù$ 2
)
ùù2 3
;
ùù3 4
logBlock
ûû 
.
ûû  
InsertTextAtCursor
ûû /
(
ûû/ 0
$"
ûû0 2
$str
ûû2 7
{
ûû7 8
senderId
ûû8 @
}
ûû@ A
$str
ûûA P
{
ûûP Q
code
ûûQ U
}
ûûU V
$str
ûûV ]
"
ûû] ^
)
ûû^ _
;
ûû_ `
}
üü 
}
°° 
else
¢¢ 
{
££ 
RpcId
§§ 
(
§§ 
senderId
§§ 
,
§§ 
$str
§§  .
)
§§. /
;
§§/ 0
logBlock
•• 
.
••  
InsertTextAtCursor
•• +
(
••+ ,
$"
••, .
$str
••. 3
{
••3 4
senderId
••4 <
}
••< =
$str
••= L
{
••L M
code
••M Q
}
••Q R
$str
••R Y
"
••Y Z
)
••Z [
;
••[ \
}
¶¶ 
}
ßß 	
[
©© 	
Master
©©	 
]
©© 
private
™™ 
void
™™ "
PasswordExistRequest
™™ )
(
™™) *
string
™™* 0
username
™™1 9
,
™™9 :
string
™™; A
hashPassword
™™B N
)
™™N O
{
´´ 	
int
¨¨ 
senderId
¨¨ 
=
¨¨ 
GetTree
¨¨ "
(
¨¨" #
)
¨¨# $
.
¨¨$ %
GetRpcSenderId
¨¨% 3
(
¨¨3 4
)
¨¨4 5
;
¨¨5 6
if
≠≠ 
(
≠≠ 
USER_MANAGEMENT
≠≠ 
.
≠≠  
PasswordExist
≠≠  -
(
≠≠- .
username
≠≠. 6
,
≠≠6 7
hashPassword
≠≠8 D
)
≠≠D E
)
≠≠E F
{
ÆÆ 
RpcId
ØØ 
(
ØØ 
senderId
ØØ 
,
ØØ 
$str
ØØ  1
)
ØØ1 2
;
ØØ2 3
logBlock
∞∞ 
.
∞∞  
InsertTextAtCursor
∞∞ +
(
∞∞+ ,
$"
∞∞, .
$str
∞∞. C
{
∞∞C D
senderId
∞∞D L
}
∞∞L M
$str
∞∞M Z
"
∞∞Z [
)
∞∞[ \
;
∞∞\ ]
}
±± 
else
≤≤ 
{
≥≥ 
RpcId
¥¥ 
(
¥¥ 
senderId
¥¥ 
,
¥¥ 
$str
¥¥  3
)
¥¥3 4
;
¥¥4 5
logBlock
µµ 
.
µµ  
InsertTextAtCursor
µµ +
(
µµ+ ,
$"
µµ, .
$str
µµ. C
{
µµC D
senderId
µµD L
}
µµL M
$str
µµM ]
"
µµ] ^
)
µµ^ _
;
µµ_ `
}
∂∂ 
}
∑∑ 	
[
ππ 	
Master
ππ	 
]
ππ 
private
∫∫ 
void
∫∫ %
EditUserPasswordRequest
∫∫ ,
(
∫∫, -
string
∫∫- 3
username
∫∫4 <
,
∫∫< =
string
∫∫> D
newHashedPassword
∫∫E V
)
∫∫V W
{
ªª 	
int
ºº 
senderId
ºº 
=
ºº 
GetTree
ºº "
(
ºº" #
)
ºº# $
.
ºº$ %
GetRpcSenderId
ºº% 3
(
ºº3 4
)
ºº4 5
;
ºº5 6
if
ΩΩ 
(
ΩΩ 
USER_MANAGEMENT
ΩΩ 
.
ΩΩ  
EditUserPassword
ΩΩ  0
(
ΩΩ0 1
username
ΩΩ1 9
,
ΩΩ9 :
newHashedPassword
ΩΩ; L
)
ΩΩL M
)
ΩΩM N
{
ææ 
RpcId
øø 
(
øø 
senderId
øø 
,
øø 
$str
øø  8
)
øø8 9
;
øø9 :
logBlock
¿¿ 
.
¿¿  
InsertTextAtCursor
¿¿ +
(
¿¿+ ,
$"
¿¿, .
$str
¿¿. C
{
¿¿C D
senderId
¿¿D L
}
¿¿L M
$str
¿¿M _
"
¿¿_ `
)
¿¿` a
;
¿¿a b
}
¡¡ 
else
¬¬ 
{
√√ 
RpcId
ƒƒ 
(
ƒƒ 
senderId
ƒƒ 
,
ƒƒ 
$str
ƒƒ  ;
)
ƒƒ; <
;
ƒƒ< =
logBlock
≈≈ 
.
≈≈  
InsertTextAtCursor
≈≈ +
(
≈≈+ ,
$"
≈≈, .
$str
≈≈. C
{
≈≈C D
senderId
≈≈D L
}
≈≈L M
$str
≈≈M b
"
≈≈b c
)
≈≈c d
;
≈≈d e
}
∆∆ 
}
«« 	
[
»» 	
Master
»»	 
]
»» 
private
…… 
void
…… !
EditNicknameRequest
…… (
(
……( )
string
……) /
username
……0 8
,
……8 9
string
……: @
nickname
……A I
)
……I J
{
   	
int
ÀÀ 
senderId
ÀÀ 
=
ÀÀ 
GetTree
ÀÀ "
(
ÀÀ" #
)
ÀÀ# $
.
ÀÀ$ %
GetRpcSenderId
ÀÀ% 3
(
ÀÀ3 4
)
ÀÀ4 5
;
ÀÀ5 6
if
ÃÃ 
(
ÃÃ 
USER_MANAGEMENT
ÃÃ 
.
ÃÃ  !
EditProfileNickname
ÃÃ  3
(
ÃÃ3 4
username
ÃÃ4 <
,
ÃÃ< =
nickname
ÃÃ> F
)
ÃÃF G
)
ÃÃG H
{
ÕÕ 
RpcId
ŒŒ 
(
ŒŒ 
senderId
ŒŒ 
,
ŒŒ 
$str
ŒŒ  8
)
ŒŒ8 9
;
ŒŒ9 :
logBlock
œœ 
.
œœ  
InsertTextAtCursor
œœ +
(
œœ+ ,
$"
œœ, .
$str
œœ. C
{
œœC D
senderId
œœD L
}
œœL M
$str
œœM _
"
œœ_ `
)
œœ` a
;
œœa b
}
–– 
else
—— 
{
““ 
RpcId
”” 
(
”” 
senderId
”” 
,
”” 
$str
””  ;
)
””; <
;
””< =
logBlock
‘‘ 
.
‘‘  
InsertTextAtCursor
‘‘ +
(
‘‘+ ,
$"
‘‘, .
$str
‘‘. C
{
‘‘C D
senderId
‘‘D L
}
‘‘L M
$str
‘‘M b
"
‘‘b c
)
‘‘c d
;
‘‘d e
}
’’ 
}
÷÷ 	
[
◊◊ 	
Master
◊◊	 
]
◊◊ 
private
ÿÿ 
void
ÿÿ %
EditImageProfileRequest
ÿÿ ,
(
ÿÿ, -
string
ÿÿ- 3
username
ÿÿ4 <
,
ÿÿ< =
int
ÿÿ> A
imageProfile
ÿÿB N
)
ÿÿN O
{
ŸŸ 	
int
⁄⁄ 
senderId
⁄⁄ 
=
⁄⁄ 
GetTree
⁄⁄ "
(
⁄⁄" #
)
⁄⁄# $
.
⁄⁄$ %
GetRpcSenderId
⁄⁄% 3
(
⁄⁄3 4
)
⁄⁄4 5
;
⁄⁄5 6
if
€€ 
(
€€ 
USER_MANAGEMENT
€€ 
.
€€  
EditProfileImage
€€  0
(
€€0 1
username
€€1 9
,
€€9 :
imageProfile
€€; G
)
€€G H
)
€€H I
{
‹‹ 
RpcId
›› 
(
›› 
senderId
›› 
,
›› 
$str
››  <
)
››< =
;
››= >
logBlock
ﬁﬁ 
.
ﬁﬁ  
InsertTextAtCursor
ﬁﬁ +
(
ﬁﬁ+ ,
$"
ﬁﬁ, .
$str
ﬁﬁ. H
{
ﬁﬁH I
senderId
ﬁﬁI Q
}
ﬁﬁQ R
$str
ﬁﬁR d
"
ﬁﬁd e
)
ﬁﬁe f
;
ﬁﬁf g
}
ﬂﬂ 
else
‡‡ 
{
·· 
RpcId
‚‚ 
(
‚‚ 
senderId
‚‚ 
,
‚‚ 
$str
‚‚  ?
)
‚‚? @
;
‚‚@ A
logBlock
„„ 
.
„„  
InsertTextAtCursor
„„ +
(
„„+ ,
$"
„„, .
$str
„„. H
{
„„H I
senderId
„„I Q
}
„„Q R
$str
„„R g
"
„„g h
)
„„h i
;
„„i j
}
‰‰ 
}
ÂÂ 	
[
ÊÊ 	
Master
ÊÊ	 
]
ÊÊ 
private
ÁÁ 
void
ÁÁ 
AddFriendRequest
ÁÁ %
(
ÁÁ% &
int
ÁÁ& )
idProfileFrom
ÁÁ* 7
,
ÁÁ7 8
int
ÁÁ9 <
idProfileTo
ÁÁ= H
,
ÁÁH I
bool
ÁÁJ N
status
ÁÁO U
)
ÁÁU V
{
ËË 	
int
ÈÈ 
senderId
ÈÈ 
=
ÈÈ 
GetTree
ÈÈ "
(
ÈÈ" #
)
ÈÈ# $
.
ÈÈ$ %
GetRpcSenderId
ÈÈ% 3
(
ÈÈ3 4
)
ÈÈ4 5
;
ÈÈ5 6
Friends
ÎÎ 
friendRequest
ÎÎ !
=
ÎÎ" #
new
ÎÎ$ '
Friends
ÎÎ( /
(
ÎÎ/ 0
idProfileFrom
ÎÎ0 =
,
ÎÎ= >
idProfileTo
ÎÎ? J
,
ÎÎJ K
status
ÎÎL R
)
ÎÎR S
;
ÎÎS T
if
ÏÏ 
(
ÏÏ 
USER_MANAGEMENT
ÏÏ 
.
ÏÏ  
	AddFriend
ÏÏ  )
(
ÏÏ) *
friendRequest
ÏÏ* 7
)
ÏÏ7 8
)
ÏÏ8 9
{
ÌÌ 
RpcId
ÓÓ 
(
ÓÓ 
senderId
ÓÓ 
,
ÓÓ 
$str
ÓÓ  5
)
ÓÓ5 6
;
ÓÓ6 7
logBlock
ÔÔ 
.
ÔÔ  
InsertTextAtCursor
ÔÔ +
(
ÔÔ+ ,
$"
ÔÔ, .
$str
ÔÔ. 3
{
ÔÔ3 4
senderId
ÔÔ4 <
}
ÔÔ< =
$str
ÔÔ= W
"
ÔÔW X
)
ÔÔX Y
;
ÔÔY Z
}
 
else
ÒÒ 
{
ÚÚ 
RpcId
ÛÛ 
(
ÛÛ 
senderId
ÛÛ 
,
ÛÛ 
$str
ÛÛ  8
)
ÛÛ8 9
;
ÛÛ9 :
logBlock
ÙÙ 
.
ÙÙ  
InsertTextAtCursor
ÙÙ +
(
ÙÙ+ ,
$"
ÙÙ, .
$str
ÙÙ. 3
{
ÙÙ3 4
senderId
ÙÙ4 <
}
ÙÙ< =
$str
ÙÙ= Y
"
ÙÙY Z
)
ÙÙZ [
;
ÙÙ[ \
}
ıı 
}
ˆˆ 	
[
˜˜ 	
Master
˜˜	 
]
˜˜ 
private
¯¯ 
void
¯¯ $
FriendshipExistRequest
¯¯ +
(
¯¯+ ,
int
¯¯, /
idProfileFrom
¯¯0 =
,
¯¯= >
int
¯¯? B
idProfileTo
¯¯C N
)
¯¯N O
{
˘˘ 	
int
˙˙ 
senderId
˙˙ 
=
˙˙ 
GetTree
˙˙ "
(
˙˙" #
)
˙˙# $
.
˙˙$ %
GetRpcSenderId
˙˙% 3
(
˙˙3 4
)
˙˙4 5
;
˙˙5 6
if
˚˚ 
(
˚˚ 
USER_MANAGEMENT
˚˚ 
.
˚˚  
FriendshipExist
˚˚  /
(
˚˚/ 0
idProfileFrom
˚˚0 =
,
˚˚= >
idProfileTo
˚˚? J
)
˚˚J K
)
˚˚K L
{
¸¸ 
RpcId
˝˝ 
(
˝˝ 
senderId
˝˝ 
,
˝˝ 
$str
˝˝  ;
)
˝˝; <
;
˝˝< =
logBlock
˛˛ 
.
˛˛  
InsertTextAtCursor
˛˛ +
(
˛˛+ ,
$"
˛˛, .
$str
˛˛. L
{
˛˛L M
idProfileFrom
˛˛M Z
}
˛˛Z [
$str
˛˛[ `
{
˛˛` a
idProfileTo
˛˛a l
}
˛˛l m
$str
˛˛m o
"
˛˛o p
)
˛˛p q
;
˛˛q r
}
ˇˇ 
else
ÄÄ 
{
ÅÅ 
RpcId
ÇÇ 
(
ÇÇ 
senderId
ÇÇ 
,
ÇÇ 
$str
ÇÇ  8
)
ÇÇ8 9
;
ÇÇ9 :
logBlock
ÉÉ 
.
ÉÉ  
InsertTextAtCursor
ÉÉ +
(
ÉÉ+ ,
$"
ÉÉ, .
$str
ÉÉ. I
{
ÉÉI J
idProfileFrom
ÉÉJ W
}
ÉÉW X
$str
ÉÉX ]
{
ÉÉ] ^
idProfileTo
ÉÉ^ i
}
ÉÉi j
$str
ÉÉj l
"
ÉÉl m
)
ÉÉm n
;
ÉÉn o
}
ÑÑ 
}
ÖÖ 	
[
ÜÜ 	
Master
ÜÜ	 
]
ÜÜ 
private
áá 
void
áá 
GetFriendsRequest
áá &
(
áá& '
int
áá' *
	idProfile
áá+ 4
)
áá4 5
{
àà 	
int
ââ 
senderId
ââ 
=
ââ 
GetTree
ââ "
(
ââ" #
)
ââ# $
.
ââ$ %
GetRpcSenderId
ââ% 3
(
ââ3 4
)
ââ4 5
;
ââ5 6
List
ää 
<
ää 
string
ää 
>
ää 
friendsObtainded
ää )
=
ää* +
USER_MANAGEMENT
ää, ;
.
ää; <

GetFriends
ää< F
(
ääF G
	idProfile
ääG P
)
ääP Q
;
ääQ R
if
ãã 
(
ãã 
friendsObtainded
ãã  
!=
ãã! #
null
ãã$ (
)
ãã( )
{
åå 
RpcId
çç 
(
çç 
senderId
çç 
,
çç 
$str
çç  1
,
çç1 2
friendsObtainded
çç3 C
)
ççC D
;
ççD E
logBlock
éé 
.
éé  
InsertTextAtCursor
éé +
(
éé+ ,
$"
éé, .
$str
éé. 9
{
éé9 :
senderId
éé: B
}
ééB C
$str
ééC N
"
ééN O
)
ééO P
;
ééP Q
}
èè 
else
êê 
{
ëë 
RpcId
íí 
(
íí 
senderId
íí 
,
íí 
$str
íí  4
)
íí4 5
;
íí5 6
logBlock
ìì 
.
ìì  
InsertTextAtCursor
ìì +
(
ìì+ ,
$"
ìì, .
$str
ìì. 9
{
ìì9 :
senderId
ìì: B
}
ììB C
$str
ììC R
"
ììR S
)
ììS T
;
ììT U
}
îî 
}
ïï 	
[
ññ 	
Master
ññ	 
]
ññ 
private
óó 
void
óó '
GetFriendsRequestsRequest
óó .
(
óó. /
int
óó/ 2
	idProfile
óó3 <
)
óó< =
{
òò 	
int
ôô 
senderId
ôô 
=
ôô 
GetTree
ôô "
(
ôô" #
)
ôô# $
.
ôô$ %
GetRpcSenderId
ôô% 3
(
ôô3 4
)
ôô4 5
;
ôô5 6
List
öö 
<
öö 
string
öö 
>
öö &
friendsRequestsObtainded
öö 1
=
öö2 3
USER_MANAGEMENT
öö4 C
.
ööC D 
GetFriendsRequests
ööD V
(
ööV W
	idProfile
ööW `
)
öö` a
;
ööa b
if
õõ 
(
õõ &
friendsRequestsObtainded
õõ (
!=
õõ) +
null
õõ, 0
)
õõ0 1
{
úú 
RpcId
ùù 
(
ùù 
senderId
ùù 
,
ùù 
$str
ùù  9
,
ùù9 :&
friendsRequestsObtainded
ùù; S
)
ùùS T
;
ùùT U
logBlock
ûû 
.
ûû  
InsertTextAtCursor
ûû +
(
ûû+ ,
$"
ûû, .
$str
ûû. B
{
ûûB C
senderId
ûûC K
}
ûûK L
$str
ûûL W
"
ûûW X
)
ûûX Y
;
ûûY Z
}
üü 
else
†† 
{
°° 
RpcId
¢¢ 
(
¢¢ 
senderId
¢¢ 
,
¢¢ 
$str
¢¢  <
)
¢¢< =
;
¢¢= >
logBlock
££ 
.
££  
InsertTextAtCursor
££ +
(
££+ ,
$"
££, .
$str
££. B
{
££B C
senderId
££C K
}
££K L
$str
££L [
"
££[ \
)
££\ ]
;
££] ^
}
§§ 
}
•• 	
[
¶¶ 	
Master
¶¶	 
]
¶¶ 
private
ßß 
void
ßß )
GetProfileByNicknameRequest
ßß 0
(
ßß0 1
string
ßß1 7
nickname
ßß8 @
)
ßß@ A
{
®® 	
int
©© 
senderId
©© 
=
©© 
GetTree
©© "
(
©©" #
)
©©# $
.
©©$ %
GetRpcSenderId
©©% 3
(
©©3 4
)
©©4 5
;
©©5 6
Profile
™™ 
profileObtained
™™ #
=
™™$ %
USER_MANAGEMENT
™™& 5
.
™™5 6"
GetProfileByNickname
™™6 J
(
™™J K
nickname
™™K S
)
™™S T
;
™™T U
if
´´ 
(
´´ 
profileObtained
´´ 
!=
´´  "
null
´´# '
)
´´' (
{
¨¨ 
int
≠≠ 
	idProfile
≠≠ 
=
≠≠ 
profileObtained
≠≠  /
.
≠≠/ 0
	idProfile
≠≠0 9
;
≠≠9 :
string
ÆÆ 
nicknameObtained
ÆÆ '
=
ÆÆ( )
profileObtained
ÆÆ* 9
.
ÆÆ9 :
nickname
ÆÆ: B
;
ÆÆB C
string
ØØ 
username
ØØ 
=
ØØ  !
profileObtained
ØØ" 1
.
ØØ1 2
username
ØØ2 :
;
ØØ: ;
int
∞∞ 
	victories
∞∞ 
=
∞∞ 
profileObtained
∞∞  /
.
∞∞/ 0
	victories
∞∞0 9
;
∞∞9 :
int
±± 
defeats
±± 
=
±± 
profileObtained
±± -
.
±±- .
defeats
±±. 5
;
±±5 6
int
≤≤ 
imageProfile
≤≤  
=
≤≤! "
profileObtained
≤≤# 2
.
≤≤2 3
imageProfile
≤≤3 ?
;
≤≤? @
RpcId
≥≥ 
(
≥≥ 
senderId
≥≥ 
,
≥≥ 
$str
≥≥  ;
,
≥≥; <
	idProfile
≥≥= F
,
≥≥F G
nicknameObtained
≥≥H X
,
≥≥X Y
	victories
≥≥Z c
,
≥≥c d
defeats
≥≥e l
,
≥≥l m
imageProfile
≥≥n z
,
≥≥z {
username≥≥| Ñ
)≥≥Ñ Ö
;≥≥Ö Ü
logBlock
¥¥ 
.
¥¥  
InsertTextAtCursor
¥¥ +
(
¥¥+ ,
$"
¥¥, .
$str
¥¥. 3
{
¥¥3 4
senderId
¥¥4 <
}
¥¥< =
$str
¥¥= G
{
¥¥G H
	idProfile
¥¥H Q
}
¥¥Q R
$str
¥¥R \
"
¥¥\ ]
)
¥¥] ^
;
¥¥^ _
}
µµ 
else
∂∂ 
{
∑∑ 
RpcId
∏∏ 
(
∏∏ 
senderId
∏∏ 
,
∏∏ 
$str
∏∏  >
)
∏∏> ?
;
∏∏? @
logBlock
ππ 
.
ππ  
InsertTextAtCursor
ππ +
(
ππ+ ,
$"
ππ, .
$str
ππ. 3
{
ππ3 4
senderId
ππ4 <
}
ππ< =
$str
ππ= K
{
ππK L
nickname
ππL T
}
ππT U
$str
ππU _
"
ππ_ `
)
ππ` a
;
ππa b
}
∫∫ 
}
ªª 	
[
ºº 	
Master
ºº	 
]
ºº 
private
ΩΩ 
void
ΩΩ !
AcceptFriendRequest
ΩΩ (
(
ΩΩ( )
int
ΩΩ) ,
idProfileFrom
ΩΩ- :
,
ΩΩ: ;
int
ΩΩ< ?
idProfileTo
ΩΩ@ K
,
ΩΩK L
bool
ΩΩM Q
status
ΩΩR X
)
ΩΩX Y
{
ææ 	
int
øø 
senderId
øø 
=
øø 
GetTree
øø "
(
øø" #
)
øø# $
.
øø$ %
GetRpcSenderId
øø% 3
(
øø3 4
)
øø4 5
;
øø5 6
Friends
¿¿ 
friendAccepted
¿¿ "
=
¿¿# $
new
¿¿% (
Friends
¿¿) 0
(
¿¿0 1
idProfileFrom
¿¿1 >
,
¿¿> ?
idProfileTo
¿¿@ K
,
¿¿K L
status
¿¿M S
)
¿¿S T
;
¿¿T U
if
¡¡ 
(
¡¡ 
USER_MANAGEMENT
¡¡ 
.
¡¡  
AcceptFriend
¡¡  ,
(
¡¡, -
friendAccepted
¡¡- ;
)
¡¡; <
)
¡¡< =
{
¬¬ 
RpcId
√√ 
(
√√ 
senderId
√√ 
,
√√ 
$str
√√  8
)
√√8 9
;
√√9 :
logBlock
ƒƒ 
.
ƒƒ  
InsertTextAtCursor
ƒƒ +
(
ƒƒ+ ,
$"
ƒƒ, .
$str
ƒƒ. 3
{
ƒƒ3 4
senderId
ƒƒ4 <
}
ƒƒ< =
$str
ƒƒ= W
{
ƒƒW X
idProfileTo
ƒƒX c
}
ƒƒc d
$str
ƒƒd f
"
ƒƒf g
)
ƒƒg h
;
ƒƒh i
}
≈≈ 
else
∆∆ 
{
«« 
RpcId
»» 
(
»» 
senderId
»» 
,
»» 
$str
»»  ;
)
»»; <
;
»»< =
logBlock
…… 
.
……  
InsertTextAtCursor
…… +
(
……+ ,
$"
……, .
$str
……. 3
{
……3 4
senderId
……4 <
}
……< =
$str
……= \
{
……\ ]
idProfileTo
……] h
}
……h i
$str
……i k
"
……k l
)
……l m
;
……m n
}
   
}
ÀÀ 	
[
ÃÃ 	
Master
ÃÃ	 
]
ÃÃ 
private
ÕÕ 
void
ÕÕ 
DenyFriendRequest
ÕÕ &
(
ÕÕ& '
int
ÕÕ' *
idProfileFrom
ÕÕ+ 8
,
ÕÕ8 9
int
ÕÕ: =
idProfileTo
ÕÕ> I
,
ÕÕI J
bool
ÕÕK O
status
ÕÕP V
)
ÕÕV W
{
ŒŒ 	
int
œœ 
senderId
œœ 
=
œœ 
GetTree
œœ "
(
œœ" #
)
œœ# $
.
œœ$ %
GetRpcSenderId
œœ% 3
(
œœ3 4
)
œœ4 5
;
œœ5 6
Friends
–– 
friendAccepted
–– "
=
––# $
new
––% (
Friends
––) 0
(
––0 1
idProfileFrom
––1 >
,
––> ?
idProfileTo
––@ K
,
––K L
status
––M S
)
––S T
;
––T U
if
—— 
(
—— 
USER_MANAGEMENT
—— 
.
——  

DenyFriend
——  *
(
——* +
friendAccepted
——+ 9
)
——9 :
)
——: ;
{
““ 
RpcId
”” 
(
”” 
senderId
”” 
,
”” 
$str
””  6
)
””6 7
;
””7 8
logBlock
‘‘ 
.
‘‘  
InsertTextAtCursor
‘‘ +
(
‘‘+ ,
$"
‘‘, .
$str
‘‘. 3
{
‘‘3 4
senderId
‘‘4 <
}
‘‘< =
$str
‘‘= U
{
‘‘U V
idProfileTo
‘‘V a
}
‘‘a b
$str
‘‘b d
"
‘‘d e
)
‘‘e f
;
‘‘f g
}
’’ 
else
÷÷ 
{
◊◊ 
RpcId
ÿÿ 
(
ÿÿ 
senderId
ÿÿ 
,
ÿÿ 
$str
ÿÿ  9
)
ÿÿ9 :
;
ÿÿ: ;
logBlock
ŸŸ 
.
ŸŸ  
InsertTextAtCursor
ŸŸ +
(
ŸŸ+ ,
$"
ŸŸ, .
$str
ŸŸ. 3
{
ŸŸ3 4
senderId
ŸŸ4 <
}
ŸŸ< =
$str
ŸŸ= Z
{
ŸŸZ [
idProfileTo
ŸŸ[ f
}
ŸŸf g
$str
ŸŸg i
"
ŸŸi j
)
ŸŸj k
;
ŸŸk l
}
⁄⁄ 
}
€€ 	
[
‹‹ 	
Master
‹‹	 
]
‹‹ 
private
›› 
void
›› !
DeleteFriendRequest
›› (
(
››( )
int
››) ,#
idProfileActualPlayer
››- B
,
››B C
int
››D G
idProfileFriend
››H W
,
››W X
bool
››Y ]
status
››^ d
)
››d e
{
ﬁﬁ 	
int
ﬂﬂ 
senderId
ﬂﬂ 
=
ﬂﬂ 
GetTree
ﬂﬂ "
(
ﬂﬂ" #
)
ﬂﬂ# $
.
ﬂﬂ$ %
GetRpcSenderId
ﬂﬂ% 3
(
ﬂﬂ3 4
)
ﬂﬂ4 5
;
ﬂﬂ5 6
Friends
‡‡ 
friendDelete
‡‡  
=
‡‡! "
new
‡‡# &
Friends
‡‡' .
(
‡‡. /#
idProfileActualPlayer
‡‡/ D
,
‡‡D E
idProfileFriend
‡‡F U
,
‡‡U V
status
‡‡W ]
)
‡‡] ^
;
‡‡^ _
if
·· 
(
·· 
USER_MANAGEMENT
·· 
.
··  
SearchFriends
··  -
(
··- .
friendDelete
··. :
)
··: ;
)
··; <
{
‚‚ 
if
„„ 
(
„„ 
USER_MANAGEMENT
„„ #
.
„„# $
DeleteFriend
„„$ 0
(
„„0 1
friendDelete
„„1 =
)
„„= >
)
„„> ?
{
‰‰ 
RpcId
ÂÂ 
(
ÂÂ 
senderId
ÂÂ "
,
ÂÂ" #
$str
ÂÂ$ <
)
ÂÂ< =
;
ÂÂ= >
logBlock
ÊÊ 
.
ÊÊ  
InsertTextAtCursor
ÊÊ /
(
ÊÊ/ 0
$"
ÊÊ0 2
$str
ÊÊ2 7
{
ÊÊ7 8
senderId
ÊÊ8 @
}
ÊÊ@ A
$str
ÊÊA P
{
ÊÊP Q
idProfileFriend
ÊÊQ `
}
ÊÊ` a
$str
ÊÊa c
"
ÊÊc d
)
ÊÊd e
;
ÊÊe f
}
ÁÁ 
else
ËË 
{
ÈÈ 
RpcId
ÍÍ 
(
ÍÍ 
senderId
ÍÍ "
,
ÍÍ" #
$str
ÍÍ$ ?
)
ÍÍ? @
;
ÍÍ@ A
logBlock
ÎÎ 
.
ÎÎ  
InsertTextAtCursor
ÎÎ /
(
ÎÎ/ 0
$"
ÎÎ0 2
$str
ÎÎ2 7
{
ÎÎ7 8
senderId
ÎÎ8 @
}
ÎÎ@ A
$str
ÎÎA V
{
ÎÎV W
idProfileFriend
ÎÎW f
}
ÎÎf g
$str
ÎÎg i
"
ÎÎi j
)
ÎÎj k
;
ÎÎk l
}
ÏÏ 
}
ÌÌ 
else
ÓÓ 
{
ÔÔ 
friendDelete
 
.
 
idProfileFrom
 *
=
+ ,
idProfileFriend
- <
;
< =
friendDelete
ÒÒ 
.
ÒÒ 
idProfileTo
ÒÒ (
=
ÒÒ) *#
idProfileActualPlayer
ÒÒ+ @
;
ÒÒ@ A
friendDelete
ÚÚ 
.
ÚÚ 
status
ÚÚ #
=
ÚÚ$ %
status
ÚÚ& ,
;
ÚÚ, -
if
ÛÛ 
(
ÛÛ 
USER_MANAGEMENT
ÛÛ #
.
ÛÛ# $
DeleteFriend
ÛÛ$ 0
(
ÛÛ0 1
friendDelete
ÛÛ1 =
)
ÛÛ= >
)
ÛÛ> ?
{
ÙÙ 
RpcId
ıı 
(
ıı 
senderId
ıı "
,
ıı" #
$str
ıı$ <
)
ıı< =
;
ıı= >
logBlock
ˆˆ 
.
ˆˆ  
InsertTextAtCursor
ˆˆ /
(
ˆˆ/ 0
$"
ˆˆ0 2
$str
ˆˆ2 7
{
ˆˆ7 8
senderId
ˆˆ8 @
}
ˆˆ@ A
$str
ˆˆA P
{
ˆˆP Q
idProfileFriend
ˆˆQ `
}
ˆˆ` a
$str
ˆˆa c
"
ˆˆc d
)
ˆˆd e
;
ˆˆe f
}
˜˜ 
else
¯¯ 
{
˘˘ 
RpcId
˙˙ 
(
˙˙ 
senderId
˙˙ "
,
˙˙" #
$str
˙˙$ ?
)
˙˙? @
;
˙˙@ A
logBlock
˚˚ 
.
˚˚  
InsertTextAtCursor
˚˚ /
(
˚˚/ 0
$"
˚˚0 2
$str
˚˚2 7
{
˚˚7 8
senderId
˚˚8 @
}
˚˚@ A
$str
˚˚A V
{
˚˚V W
idProfileFriend
˚˚W f
}
˚˚f g
$str
˚˚g i
"
˚˚i j
)
˚˚j k
;
˚˚k l
}
¸¸ 
}
˝˝ 
}
˛˛ 	
[
ˇˇ 	
Master
ˇˇ	 
]
ˇˇ 
private
ÄÄ 
void
ÄÄ *
RegisterUserInvitatedRequest
ÄÄ 1
(
ÄÄ1 2
)
ÄÄ2 3
{
ÅÅ 	
int
ÇÇ 
senderId
ÇÇ 
=
ÇÇ 
GetTree
ÇÇ "
(
ÇÇ" #
)
ÇÇ# $
.
ÇÇ$ %
GetRpcSenderId
ÇÇ% 3
(
ÇÇ3 4
)
ÇÇ4 5
;
ÇÇ5 6
try
ÉÉ 
{
ÑÑ 
string
ÖÖ 
hashPassword
ÖÖ #
=
ÖÖ$ %
PASSWORD_HASHER
ÖÖ& 5
.
ÖÖ5 6
ComputeSHA256Hash
ÖÖ6 G
(
ÖÖG H
senderId
ÖÖH P
.
ÖÖP Q
ToString
ÖÖQ Y
(
ÖÖY Z
)
ÖÖZ [
)
ÖÖ[ \
;
ÖÖ\ ]
string
ÜÜ 
username
ÜÜ 
=
ÜÜ  !
senderId
ÜÜ" *
.
ÜÜ* +
ToString
ÜÜ+ 3
(
ÜÜ3 4
)
ÜÜ4 5
;
ÜÜ5 6
string
áá 
name
áá 
=
áá 
$str
áá (
+
áá) *
senderId
áá+ 3
.
áá3 4
ToString
áá4 <
(
áá< =
)
áá= >
;
áá> ?
string
àà 
email
àà 
=
àà 
senderId
àà '
.
àà' (
ToString
àà( 0
(
àà0 1
)
àà1 2
+
àà3 4
$str
àà5 A
;
ààA B
string
ââ 
nickname
ââ 
=
ââ  !
$str
ââ" ,
+
ââ- .
senderId
ââ/ 7
.
ââ7 8
ToString
ââ8 @
(
ââ@ A
)
ââA B
;
ââB C
int
ää 
	victories
ää 
=
ää 
$num
ää  !
;
ää! "
int
ãã 
defeats
ãã 
=
ãã 
$num
ãã 
;
ãã  
int
åå 
imageProfile
åå  
=
åå! "
$num
åå# $
;
åå$ %
User
çç 
newUser
çç 
=
çç 
new
çç "
User
çç# '
(
çç' (
username
çç( 0
,
çç0 1
hashPassword
çç2 >
,
çç> ?
name
çç@ D
,
ççD E
email
ççF K
)
ççK L
;
ççL M
Profile
éé 

newProfile
éé "
=
éé# $
new
éé% (
Profile
éé) 0
(
éé0 1
nickname
éé1 9
,
éé9 :
	victories
éé; D
,
ééD E
defeats
ééF M
,
ééM N
imageProfile
ééO [
,
éé[ \
username
éé] e
)
éée f
;
ééf g
if
èè 
(
èè 
USER_MANAGEMENT
èè #
.
èè# $
RegisterUser
èè$ 0
(
èè0 1
newUser
èè1 8
)
èè8 9
)
èè9 :
{
êê 
if
ëë 
(
ëë 
USER_MANAGEMENT
ëë '
.
ëë' (
RegisterProfile
ëë( 7
(
ëë7 8

newProfile
ëë8 B
)
ëëB C
)
ëëC D
{
íí 
RpcId
ìì 
(
ìì 
senderId
ìì &
,
ìì& '
$str
ìì( D
,
ììD E
username
ììF N
)
ììN O
;
ììO P
logBlock
îî  
.
îî  ! 
InsertTextAtCursor
îî! 3
(
îî3 4
$"
îî4 6
$str
îî6 A
{
îîA B
senderId
îîB J
}
îîJ K
$str
îîK v
"
îîv w
)
îîw x
;
îîx y
}
ïï 
}
ññ 
else
óó 
{
òò 
RpcId
ôô 
(
ôô 
senderId
ôô "
,
ôô" #
$str
ôô$ ;
)
ôô; <
;
ôô< =
logBlock
öö 
.
öö  
InsertTextAtCursor
öö /
(
öö/ 0
$"
öö0 2
$str
öö2 =
{
öö= >
senderId
öö> F
}
ööF G
$str
ööG l
"
ööl m
)
ööm n
;
öön o
}
õõ 
}
úú 
catch
ùù 
(
ùù 
DbUpdateException
ùù $
)
ùù$ %
{
ûû 
RpcId
üü 
(
üü 
senderId
üü 
,
üü 
$str
üü  7
)
üü7 8
;
üü8 9
logBlock
†† 
.
††  
InsertTextAtCursor
†† +
(
††+ ,
$"
††, .
$str
††. 9
{
††9 :
senderId
††: B
}
††B C
$str
††C h
"
††h i
)
††i j
;
††j k
}
°° 
}
££ 	
[
§§ 	
Master
§§	 
]
§§ 
private
•• 
void
•• *
DeleteInvitatedPlayerRequest
•• 1
(
••1 2
string
••2 8
username
••9 A
)
••A B
{
¶¶ 	
int
ßß 
senderId
ßß 
=
ßß 
GetTree
ßß "
(
ßß" #
)
ßß# $
.
ßß$ %
GetRpcSenderId
ßß% 3
(
ßß3 4
)
ßß4 5
;
ßß5 6
if
®® 
(
®® 
USER_MANAGEMENT
®® 
.
®®  #
DeleteInvitatedPlayer
®®  5
(
®®5 6
username
®®6 >
)
®®> ?
)
®®? @
{
©© 
RpcId
™™ 
(
™™ 
senderId
™™ 
,
™™ 
$str
™™  A
)
™™A B
;
™™B C
logBlock
´´ 
.
´´  
InsertTextAtCursor
´´ +
(
´´+ ,
$"
´´, .
$str
´´. B
{
´´B C
senderId
´´C K
}
´´K L
$str
´´L e
"
´´e f
)
´´f g
;
´´g h
}
¨¨ 
else
≠≠ 
{
ÆÆ 
RpcId
ØØ 
(
ØØ 
senderId
ØØ 
,
ØØ 
$str
ØØ  ;
)
ØØ; <
;
ØØ< =
logBlock
∞∞ 
.
∞∞  
InsertTextAtCursor
∞∞ +
(
∞∞+ ,
$"
∞∞, .
$str
∞∞. B
{
∞∞B C
senderId
∞∞C K
}
∞∞K L
$str
∞∞L `
"
∞∞` a
)
∞∞a b
;
∞∞b c
}
±± 
}
≤≤ 	
[
≥≥ 	
Master
≥≥	 
]
≥≥ 
private
¥¥ 
void
¥¥ 
AddVictoryRequest
¥¥ &
(
¥¥& '
string
¥¥' -
nickname
¥¥. 6
)
¥¥6 7
{
µµ 	
int
∂∂ 
senderId
∂∂ 
=
∂∂ 
GetTree
∂∂ "
(
∂∂" #
)
∂∂# $
.
∂∂$ %
GetRpcSenderId
∂∂% 3
(
∂∂3 4
)
∂∂4 5
;
∂∂5 6
if
∑∑ 
(
∑∑ 
USER_MANAGEMENT
∑∑ 
.
∑∑  

AddVictory
∑∑  *
(
∑∑* +
nickname
∑∑+ 3
)
∑∑3 4
)
∑∑4 5
{
∏∏ 
RpcId
ππ 
(
ππ 
senderId
ππ 
,
ππ 
$str
ππ  6
)
ππ6 7
;
ππ7 8
logBlock
∫∫ 
.
∫∫  
InsertTextAtCursor
∫∫ +
(
∫∫+ ,
$"
∫∫, .
$str
∫∫. D
{
∫∫D E
senderId
∫∫E M
}
∫∫M N
$str
∫∫N `
"
∫∫` a
)
∫∫a b
;
∫∫b c
}
ªª 
else
ºº 
{
ΩΩ 
RpcId
ææ 
(
ææ 
senderId
ææ 
,
ææ 
$str
ææ  0
)
ææ0 1
;
ææ1 2
logBlock
øø 
.
øø  
InsertTextAtCursor
øø +
(
øø+ ,
$"
øø, .
$str
øø. D
{
øøD E
senderId
øøE M
}
øøM N
$str
øøN c
"
øøc d
)
øød e
;
øøe f
}
¿¿ 
}
¡¡ 	
[
¬¬ 	
Master
¬¬	 
]
¬¬ 
private
√√ 
void
√√ 
AddDefeatRequest
√√ %
(
√√% &
string
√√& ,
nickname
√√- 5
)
√√5 6
{
ƒƒ 	
int
≈≈ 
senderId
≈≈ 
=
≈≈ 
GetTree
≈≈ "
(
≈≈" #
)
≈≈# $
.
≈≈$ %
GetRpcSenderId
≈≈% 3
(
≈≈3 4
)
≈≈4 5
;
≈≈5 6
if
∆∆ 
(
∆∆ 
USER_MANAGEMENT
∆∆ 
.
∆∆  
	AddDefeat
∆∆  )
(
∆∆) *
nickname
∆∆* 2
)
∆∆2 3
)
∆∆3 4
{
«« 
RpcId
»» 
(
»» 
senderId
»» 
,
»» 
$str
»»  5
)
»»5 6
;
»»6 7
logBlock
…… 
.
……  
InsertTextAtCursor
…… +
(
……+ ,
$"
……, .
$str
……. B
{
……B C
senderId
……C K
}
……K L
$str
……L ^
"
……^ _
)
……_ `
;
……` a
}
   
else
ÀÀ 
{
ÃÃ 
RpcId
ÕÕ 
(
ÕÕ 
senderId
ÕÕ 
,
ÕÕ 
$str
ÕÕ  /
)
ÕÕ/ 0
;
ÕÕ0 1
logBlock
ŒŒ 
.
ŒŒ  
InsertTextAtCursor
ŒŒ +
(
ŒŒ+ ,
$"
ŒŒ, .
$str
ŒŒ. B
{
ŒŒB C
senderId
ŒŒC K
}
ŒŒK L
$str
ŒŒL a
"
ŒŒa b
)
ŒŒb c
;
ŒŒc d
}
œœ 
}
–– 	
[
”” 	
Master
””	 
]
”” 
private
‘‘ 
void
‘‘ 
AddSceneRoom
‘‘ !
(
‘‘! "
string
‘‘" (
nameRom
‘‘) 0
,
‘‘0 1
int
‘‘2 5
number
‘‘6 <
)
‘‘< =
{
’’ 	
int
÷÷ 
senderId
÷÷ 
=
÷÷ 
GetTree
÷÷ "
(
÷÷" #
)
÷÷# $
.
÷÷$ %
GetRpcSenderId
÷÷% 3
(
÷÷3 4
)
÷÷4 5
;
÷÷5 6
if
◊◊ 
(
◊◊ 
rooms
◊◊ 
.
◊◊ 
ContainsKey
◊◊ !
(
◊◊! "
nameRom
◊◊" )
)
◊◊) *
)
◊◊* +
{
ÿÿ 
RpcId
ŸŸ 
(
ŸŸ 
senderId
ŸŸ 
,
ŸŸ 
$str
ŸŸ  '
)
ŸŸ' (
;
ŸŸ( )
rooms
⁄⁄ 
[
⁄⁄ 
nameRom
⁄⁄ 
]
⁄⁄ 
.
⁄⁄ 
SceneNumber
⁄⁄ *
=
⁄⁄+ ,
number
⁄⁄- 3
;
⁄⁄3 4
}
‹‹ 
}
›› 	
[
ﬂﬂ 	
Master
ﬂﬂ	 
]
ﬂﬂ 
private
‡‡ 
void
‡‡ 
CanStart
‡‡ 
(
‡‡ 
)
‡‡ 
{
·· 	
int
‚‚ 
senderId
‚‚ 
=
‚‚ 
GetTree
‚‚ "
(
‚‚" #
)
‚‚# $
.
‚‚$ %
GetRpcSenderId
‚‚% 3
(
‚‚3 4
)
‚‚4 5
;
‚‚5 6
if
„„ 
(
„„ 

roomOwners
„„ 
.
„„ 
ContainsKey
„„ &
(
„„& '
senderId
„„' /
)
„„/ 0
)
„„0 1
{
‰‰ 
string
ÂÂ 
nameRoom
ÂÂ 
=
ÂÂ  !

roomOwners
ÂÂ" ,
[
ÂÂ, -
senderId
ÂÂ- 5
]
ÂÂ5 6
;
ÂÂ6 7
if
ÊÊ 
(
ÊÊ 
rooms
ÊÊ 
[
ÊÊ 
nameRoom
ÊÊ "
]
ÊÊ" #
.
ÊÊ# $
CanStart
ÊÊ$ ,
(
ÊÊ, -
)
ÊÊ- .
)
ÊÊ. /
{
ÁÁ 
RpcId
ËË 
(
ËË 
senderId
ËË "
,
ËË" #
$str
ËË$ +
)
ËË+ ,
;
ËË, -
}
ÈÈ 
else
ÍÍ 
{
ÎÎ 
RpcId
ÏÏ 
(
ÏÏ 
senderId
ÏÏ "
,
ÏÏ" #
$str
ÏÏ$ -
)
ÏÏ- .
;
ÏÏ. /
}
ÌÌ 
}
ÓÓ 
}
ÔÔ 	
[
ÒÒ 	
Master
ÒÒ	 
]
ÒÒ 
private
ÚÚ 
void
ÚÚ 
IAmOwner
ÚÚ 
(
ÚÚ 
string
ÚÚ $
roomName
ÚÚ% -
)
ÚÚ- .
{
ÛÛ 	
int
ÙÙ 
senderId
ÙÙ 
=
ÙÙ 
GetTree
ÙÙ "
(
ÙÙ" #
)
ÙÙ# $
.
ÙÙ$ %
GetRpcSenderId
ÙÙ% 3
(
ÙÙ3 4
)
ÙÙ4 5
;
ÙÙ5 6
if
ıı 
(
ıı 

roomOwners
ıı 
.
ıı 
ContainsKey
ıı &
(
ıı& '
senderId
ıı' /
)
ıı/ 0
)
ıı0 1
{
ˆˆ 
if
˜˜ 
(
˜˜ 

roomOwners
˜˜ 
[
˜˜ 
senderId
˜˜ '
]
˜˜' (
==
˜˜) +
roomName
˜˜, 4
)
˜˜4 5
{
¯¯ 
RpcId
˘˘ 
(
˘˘ 
senderId
˘˘ "
,
˘˘" #
$str
˘˘$ /
)
˘˘/ 0
;
˘˘0 1
}
˙˙ 
}
˚˚ 
}
¸¸ 	
[
˛˛ 	
Master
˛˛	 
]
˛˛ 
private
ˇˇ 
void
ˇˇ 

UpdateGame
ˇˇ 
(
ˇˇ  
string
ˇˇ  &
roomCode
ˇˇ' /
)
ˇˇ/ 0
{
ÄÄ 	
if
ÅÅ 
(
ÅÅ 
rooms
ÅÅ 
.
ÅÅ 
ContainsKey
ÅÅ !
(
ÅÅ! "
roomCode
ÅÅ" *
)
ÅÅ* +
)
ÅÅ+ ,
{
ÇÇ 
List
ÉÉ 
<
ÉÉ 
int
ÉÉ 
>
ÉÉ 
playersInRoom
ÉÉ '
=
ÉÉ( )
rooms
ÉÉ* /
[
ÉÉ/ 0
roomCode
ÉÉ0 8
]
ÉÉ8 9
.
ÉÉ9 :
members
ÉÉ: A
;
ÉÉA B
for
ÑÑ 
(
ÑÑ 
int
ÑÑ 
c
ÑÑ 
=
ÑÑ 
$num
ÑÑ 
;
ÑÑ 
c
ÑÑ 
<
ÑÑ 
playersInRoom
ÑÑ "
.
ÑÑ" #
Count
ÑÑ# (
;
ÑÑ( )
c
ÑÑ* +
++
ÑÑ+ -
)
ÑÑ- .
{
ÖÖ 
int
ÜÜ 
senderId
ÜÜ  
=
ÜÜ! "
playersInRoom
ÜÜ# 0
[
ÜÜ0 1
c
ÜÜ1 2
]
ÜÜ2 3
;
ÜÜ3 4
List
áá 
<
áá 
string
áá 
>
áá  
words
áá! &
=
áá' ("
GenerateWordsInBoard
áá) =
(
áá= >
roomCode
áá> F
,
ááF G
playersLanguage
ááH W
[
ááW X
senderId
ááX `
]
áá` a
)
ááa b
;
ááb c
logBlock
àà 
.
àà  
InsertTextAtCursor
àà /
(
àà/ 0
$"
àà0 2
$str
àà2 [
{
àà[ \
senderId
àà\ d
}
ààd e
$str
ààe g
"
ààg h
)
ààh i
;
àài j
RpcId
ââ 
(
ââ 
senderId
ââ "
,
ââ" #
$str
ââ$ <
,
ââ< =
words
ââ> C
)
ââC D
;
ââD E
}
ää 
}
ãã 
}
åå 	
private
èè 
List
èè 
<
èè 
string
èè 
>
èè  "
GenerateWordsInBoard
èè! 5
(
èè5 6
string
èè6 <
nameRoom
èè= E
,
èèE F
string
èèG M
lang
èèN R
)
èèR S
{
êê 
string
ëë 
path
ëë 
=
ëë 
$str
ëë 
;
ëë 
Godot
íí 
.
íí 
File
íí 

cardValues
íí !
=
íí" #
new
íí$ '
Godot
íí( -
.
íí- .
File
íí. 2
(
íí2 3
)
íí3 4
;
íí4 5
List
ìì 
<
ìì 
string
ìì 
>
ìì 
listGameElements
ìì )
=
ìì* +
new
ìì, /
List
ìì0 4
<
ìì4 5
string
ìì5 ;
>
ìì; <
(
ìì< =
)
ìì= >
;
ìì> ?
List
îî 
<
îî 
string
îî 
>
îî 
listAllElements
îî (
=
îî) *
new
îî+ .
List
îî/ 3
<
îî3 4
string
îî4 :
>
îî: ;
(
îî; <
)
îî< =
;
îî= >
if
ïï 
(
ïï 
lang
ïï 
==
ïï 
$str
ïï 
)
ïï 
{
ññ 
path
óó 
=
óó 
$str
óó 9
;
óó9 :
}
òò 
else
ôô 
{
öö 
path
õõ 
=
õõ 
$str
õõ <
;
õõ< =
}
úú 
try
ùù 
{
ûû 

cardValues
üü 
.
üü 
Open
üü 
(
üü  
path
üü  $
,
üü$ %
Godot
üü& +
.
üü+ ,
File
üü, 0
.
üü0 1
	ModeFlags
üü1 :
.
üü: ;
Read
üü; ?
)
üü? @
;
üü@ A
while
†† 
(
†† 
!
†† 

cardValues
†† "
.
††" #

EofReached
††# -
(
††- .
)
††. /
)
††/ 0
{
°° 
listAllElements
¢¢ #
.
¢¢# $
Add
¢¢$ '
(
¢¢' (

cardValues
¢¢( 2
.
¢¢2 3
GetLine
¢¢3 :
(
¢¢: ;
)
¢¢; <
.
¢¢< =
Trim
¢¢= A
(
¢¢A B
)
¢¢B C
)
¢¢C D
;
¢¢D E
}
££ 
}
§§ 
catch
•• 
(
•• #
FileNotFoundException
•• (
)
••( )
{
¶¶ 
logBlock
ßß 
.
ßß  
InsertTextAtCursor
ßß +
(
ßß+ ,
$str
ßß, 3
)
ßß3 4
;
ßß4 5
logBlock
®® 
.
®®  
InsertTextAtCursor
®® +
(
®®+ ,
$str
®®, <
)
®®< =
;
®®= >
}
™™ 
if
¨¨ 
(
¨¨ 
rooms
¨¨ 
.
¨¨ 
ContainsKey
¨¨ !
(
¨¨! "
nameRoom
¨¨" *
)
¨¨* +
)
¨¨+ ,
{
≠≠ 
logBlock
ÆÆ 
.
ÆÆ  
InsertTextAtCursor
ÆÆ +
(
ÆÆ+ ,
$str
ÆÆ, H
)
ÆÆH I
;
ÆÆI J
List
ØØ 
<
ØØ 
int
ØØ 
>
ØØ 
	positions
ØØ #
=
ØØ$ %
rooms
ØØ& +
[
ØØ+ ,
nameRoom
ØØ, 4
]
ØØ4 5
.
ØØ5 6
boardNumbers
ØØ6 B
;
ØØB C
for
∞∞ 
(
∞∞ 
int
∞∞ 
c
∞∞ 
=
∞∞ 
$num
∞∞ 
;
∞∞ 
c
∞∞  !
<
∞∞" #
$num
∞∞$ &
;
∞∞& '
c
∞∞( )
++
∞∞) +
)
∞∞+ ,
{
±± 
string
≤≤ 
word
≤≤ 
=
≤≤  !
listAllElements
≤≤" 1
[
≤≤1 2
	positions
≤≤2 ;
[
≤≤; <
c
≤≤< =
]
≤≤= >
]
≤≤> ?
;
≤≤? @
logBlock
≥≥ 
.
≥≥  
InsertTextAtCursor
≥≥ /
(
≥≥/ 0
$"
≥≥0 2
{
≥≥2 3
word
≥≥3 7
}
≥≥7 8
$str
≥≥8 9
"
≥≥9 :
)
≥≥: ;
;
≥≥; <
listGameElements
¥¥ $
.
¥¥$ %
Add
¥¥% (
(
¥¥( )
word
¥¥) -
)
¥¥- .
;
¥¥. /
}
µµ 
logBlock
∂∂ 
.
∂∂  
InsertTextAtCursor
∂∂ +
(
∂∂+ ,
$str
∂∂, 2
)
∂∂2 3
;
∂∂3 4
}
∑∑ 
return
ππ 
listGameElements
ππ #
;
ππ# $
}
∫∫ 	
[
ºº 	
Master
ºº	 
]
ºº 
private
ΩΩ 
void
ΩΩ 
BoardChange
ΩΩ  
(
ΩΩ  !
string
ΩΩ! '
nameRoom
ΩΩ( 0
)
ΩΩ0 1
{
ææ 	
rooms
øø 
[
øø 
nameRoom
øø 
]
øø 
.
øø 
gameStarted
øø '
=
øø( )
true
øø* .
;
øø. /
UpdateBoard
¿¿ 
(
¿¿ 
nameRoom
¿¿  
)
¿¿  !
;
¿¿! "
}
¡¡ 	
[
√√ 	
Master
√√	 
]
√√ 
private
ƒƒ 
void
ƒƒ 
UpdateBoard
ƒƒ  
(
ƒƒ  !
string
ƒƒ! '
roomCode
ƒƒ( 0
)
ƒƒ0 1
{
≈≈ 	
if
∆∆ 
(
∆∆ 
rooms
∆∆ 
.
∆∆ 
ContainsKey
∆∆ !
(
∆∆! "
roomCode
∆∆" *
)
∆∆* +
)
∆∆+ ,
{
«« 
List
»» 
<
»» 
int
»» 
>
»» 
playersInRoom
»» '
=
»»( )
rooms
»»* /
[
»»/ 0
roomCode
»»0 8
]
»»8 9
.
»»9 :
members
»»: A
;
»»A B
for
…… 
(
…… 
int
…… 
c
…… 
=
…… 
$num
…… 
;
…… 
c
……  !
<
……" #
playersInRoom
……$ 1
.
……1 2
Count
……2 7
;
……7 8
c
……9 :
++
……: <
)
……< =
{
   
int
ÀÀ 
senderId
ÀÀ  
=
ÀÀ! "
playersInRoom
ÀÀ# 0
[
ÀÀ0 1
c
ÀÀ1 2
]
ÀÀ2 3
;
ÀÀ3 4
logBlock
ÃÃ 
.
ÃÃ  
InsertTextAtCursor
ÃÃ /
(
ÃÃ/ 0
$"
ÃÃ0 2
$str
ÃÃ2 [
{
ÃÃ[ \
senderId
ÃÃ\ d
}
ÃÃd e
$str
ÃÃe g
"
ÃÃg h
)
ÃÃh i
;
ÃÃi j
RpcId
ÕÕ 
(
ÕÕ 
senderId
ÕÕ "
,
ÕÕ" #
$str
ÕÕ$ 1
,
ÕÕ1 2
rooms
ÕÕ3 8
[
ÕÕ8 9
roomCode
ÕÕ9 A
]
ÕÕA B
.
ÕÕB C
GetRol
ÕÕC I
(
ÕÕI J
senderId
ÕÕJ R
)
ÕÕR S
,
ÕÕS T
rooms
ÕÕU Z
[
ÕÕZ [
roomCode
ÕÕ[ c
]
ÕÕc d
.
ÕÕd e
SceneNumber
ÕÕe p
)
ÕÕp q
;
ÕÕq r
}
ŒŒ 
}
œœ 
}
–– 	
[
—— 	
Master
——	 
]
—— 
private
““ 
void
““ 
SendEmailRequest
““ %
(
““% &
string
““& ,
emailTo
““- 4
,
““4 5
string
““6 <
subject
““= D
,
““D E
string
““F L
body
““M Q
)
““Q R
{
”” 	
int
‘‘ 
senderId
‘‘ 
=
‘‘ 
GetTree
‘‘ "
(
‘‘" #
)
‘‘# $
.
‘‘$ %
GetRpcSenderId
‘‘% 3
(
‘‘3 4
)
‘‘4 5
;
‘‘5 6
var
’’ 

mailSender
’’ 
=
’’ 
GD
’’ 
.
’’  
Load
’’  $
(
’’$ %
$str
’’% C
)
’’C D
;
’’D E

mailSender
÷÷ 
.
÷÷ 
Call
÷÷ 
(
÷÷ 
$str
÷÷ '
,
÷÷' (
emailTo
÷÷) 0
,
÷÷0 1
subject
÷÷2 9
,
÷÷9 :
body
÷÷; ?
)
÷÷? @
;
÷÷@ A
RpcId
◊◊ 
(
◊◊ 
senderId
◊◊ 
,
◊◊ 
$str
◊◊ '
)
◊◊' (
;
◊◊( )
logBlock
ÿÿ 
.
ÿÿ  
InsertTextAtCursor
ÿÿ '
(
ÿÿ' (
$"
ÿÿ( *
$str
ÿÿ* <
{
ÿÿ< =
senderId
ÿÿ= E
}
ÿÿE F
$str
ÿÿF H
"
ÿÿH I
)
ÿÿI J
;
ÿÿJ K
}
ŸŸ 	
[
⁄⁄ 	
Master
⁄⁄	 
]
⁄⁄ 
private
€€ 
void
€€ $
RestorePasswordRequest
€€ +
(
€€+ ,
string
€€, 2
email
€€3 8
,
€€8 9
string
€€: @
newHashedPassword
€€A R
)
€€R S
{
‹‹ 	
int
›› 
senderId
›› 
=
›› 
GetTree
›› "
(
››" #
)
››# $
.
››$ %
GetRpcSenderId
››% 3
(
››3 4
)
››4 5
;
››5 6
if
ﬁﬁ 
(
ﬁﬁ 
USER_MANAGEMENT
ﬁﬁ 
.
ﬁﬁ  
RestorePassword
ﬁﬁ  /
(
ﬁﬁ/ 0
email
ﬁﬁ0 5
,
ﬁﬁ5 6
newHashedPassword
ﬁﬁ7 H
)
ﬁﬁH I
)
ﬁﬁI J
{
ﬂﬂ 
RpcId
‡‡ 
(
‡‡ 
senderId
‡‡ 
,
‡‡ 
$str
‡‡  ;
)
‡‡; <
;
‡‡< =
logBlock
·· 
.
··  
InsertTextAtCursor
·· +
(
··+ ,
$"
··, .
$str
··. C
{
··C D
senderId
··D L
}
··L M
$str
··M `
"
··` a
)
··a b
;
··b c
}
‚‚ 
else
„„ 
{
‰‰ 
RpcId
ÂÂ 
(
ÂÂ 
senderId
ÂÂ 
,
ÂÂ 
$str
ÂÂ  >
)
ÂÂ> ?
;
ÂÂ? @
logBlock
ÊÊ 
.
ÊÊ  
InsertTextAtCursor
ÊÊ +
(
ÊÊ+ ,
$"
ÊÊ, .
$str
ÊÊ. C
{
ÊÊC D
senderId
ÊÊD L
}
ÊÊL M
$str
ÊÊM c
"
ÊÊc d
)
ÊÊd e
;
ÊÊe f
}
ÁÁ 
}
ËË 	
}
ÈÈ 
}ÎÎ —ï
FC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\RoomGame.cs
	namespace 	
OpenCodeChems
 
. 
Server 
. 
Game #
{		 
public 

class 
RoomGame 
{ 
public 
bool 
gameStarted 
=  !
false" '
;' (
public 
int 
numberPlayers  
{! "
get" %
;% &
set& )
;) *
}* +
=, -
$num. /
;/ 0
public 
List 
< 
int 
> 
members  
{! "
get" %
;% &
set& )
;) *
}* +
=, -
new. 1
List2 6
<6 7
int7 :
>: ;
(; <
)< =
;= >
public 
List 
< 
int 
> 
	blackList "
{# $
get$ '
;' (
set( +
;+ ,
}, -
=. /
new0 3
List4 8
<8 9
int9 <
>< =
(= >
)> ?
;? @
public"" 
int"" 
redSpyMaster"" 
{""  !
get""! $
;""$ %
set""& )
;"") *
}""* +
="", -
	Constants"". 7
.""7 8
NULL_ROL""8 @
;""@ A
public&& 
int&& 
blueSpyMaster&&  
{&&! "
get&&" %
;&&% &
set&&' *
;&&* +
}&&+ ,
=&&- .
	Constants&&/ 8
.&&8 9
NULL_ROL&&9 A
;&&A B
public** 
List** 
<** 
int** 
>** 

redPlayers** #
{**$ %
get**% (
;**( )
set*** -
;**- .
}**. /
=**0 1
new**2 5
List**6 :
<**: ;
int**; >
>**> ?
(**? @
)**@ A
;**A B
public.. 
List.. 
<.. 
int.. 
>.. 
bluePlayers.. $
{..% &
get..& )
;..) *
set..+ .
;... /
}../ 0
=..1 2
new..3 6
List..7 ;
<..; <
int..< ?
>..? @
(..@ A
)..A B
;..B C
public22 
List22 
<22 
int22 
>22 
boardNumbers22 %
{22& '
get22' *
;22* +
set22+ .
;22. /
}22/ 0
=221 2
new223 6
List227 ;
<22; <
int22< ?
>22? @
(22@ A
)22A B
;22B C
public66 
int66 
SceneNumber66 
=66  
	Constants66! *
.66* +
NULL_ROL66+ 3
;663 4
public<< 
string<< 
GetRol<< 
(<< 
int<<  
uniqueId<<! )
)<<) *
{== 	
string>> 
rol>> 
=>> 
$str>> 
;>>  
if?? 
(?? 
uniqueId?? 
==?? 
redSpyMaster?? '
)??' (
{@@ 
rolAA 
=AA 
	ConstantsAA 
.AA  
RED_SPY_MASTERAA  .
;AA. /
}BB 
elseCC 
ifCC 
(CC 
uniqueIdCC 
==CC 
blueSpyMasterCC  -
)CC- .
{DD 
rolEE 
=EE 
	ConstantsEE 
.EE  
BLUE_SPY_MASTEREE  /
;EE/ 0
}FF 
elseGG 
ifGG 
(GG 

redPlayersGG 
.GG 
ContainsGG '
(GG' (
uniqueIdGG( 0
)GG0 1
)GG1 2
{HH 
rolII 
=II 
	ConstantsII 
.II  

RED_PLAYERII  *
;II* +
}JJ 
elseKK 
ifKK 
(KK 
bluePlayersKK 
.KK  
ContainsKK  (
(KK( )
uniqueIdKK) 1
)KK1 2
)KK2 3
{LL 
rolMM 
=MM 
	ConstantsMM 
.MM  
BLUE_PLAYERMM  +
;MM+ ,
}NN 
returnOO 
rolOO 
;OO 
}PP 	
publicUU 
voidUU 
	AddPlayerUU 
(UU 
intUU !
uniqueIdUU" *
)UU* +
{VV 	
AsignRandomRolWW 
(WW 
uniqueIdWW #
)WW# $
;WW$ %
ifXX 
(XX 
!XX 
membersXX 
.XX 
ContainsXX  
(XX  !
uniqueIdXX! )
)XX) *
)XX* +
{YY 
membersZZ 
.ZZ 
AddZZ 
(ZZ 
uniqueIdZZ $
)ZZ$ %
;ZZ% &
numberPlayers[[ 
=[[ 
members[[  '
.[[' (
Count[[( -
;[[- .
}\\ 
}]] 	
publicbb 
voidbb 
AsignRandomRolbb "
(bb" #
intbb# &
uniqueIdbb' /
)bb/ 0
{cc 	
Randomdd 
NumberGeneratordd "
=dd# $
newdd% (
Randomdd) /
(dd/ 0
)dd0 1
;dd1 2
intee 
numberee 
=ee 
NumberGeneratoree (
.ee( )
Nextee) -
(ee- .
$numee. /
,ee/ 0
$numee0 1
)ee1 2
%ee3 4
$numee5 6
;ee6 7
stringff 
rolff 
=ff 
	Constantsff "
.ff" #
ROLESff# (
[ff( )
numberff) /
]ff/ 0
;ff0 1
whilegg 
(gg 
!gg 
	CanChangegg 
(gg 
rolgg  
,gg  !
uniqueIdgg" *
)gg* +
)gg+ ,
{hh 
numberii 
=ii 
NumberGeneratorii (
.ii( )
Nextii) -
(ii- .
$numii. /
,ii/ 0
$numii0 1
)ii1 2
%ii3 4
$numii5 6
;ii6 7
roljj 
=jj 
	Constantsjj 
.jj  
ROLESjj  %
[jj% &
numberjj& ,
]jj, -
;jj- .
}kk 
}ll 	
publicqq 
voidqq 
RemovePlayerqq  
(qq  !
intqq! $
uniqueIdqq% -
)qq- .
{rr 	
ifss 
(ss 
membersss 
.ss 
Containsss 
(ss  
uniqueIdss  (
)ss( )
)ss) *
{tt 
	DeleteRoluu 
(uu 
uniqueIduu "
)uu" #
;uu# $
membersvv 
.vv 
Removevv 
(vv 
uniqueIdvv '
)vv' (
;vv( )
}ww 
}xx 	
public}} 
void}} 
	DeleteRol}} 
(}} 
int}} !
uniqueId}}" *
)}}* +
{~~ 	
if 
( 
Exist 
( 
uniqueId 
) 
) 
{
ÄÄ 
string
ÅÅ 
rol
ÅÅ 
=
ÅÅ 
GetRol
ÅÅ #
(
ÅÅ# $
uniqueId
ÅÅ$ ,
)
ÅÅ, -
;
ÅÅ- .
if
ÇÇ 
(
ÇÇ 
rol
ÇÇ 
==
ÇÇ 
	Constants
ÇÇ #
.
ÇÇ# $
RED_SPY_MASTER
ÇÇ$ 2
)
ÇÇ2 3
{
ÉÉ 
if
ÑÑ 
(
ÑÑ 
redSpyMaster
ÑÑ #
==
ÑÑ$ &
uniqueId
ÑÑ' /
)
ÑÑ/ 0
{
ÖÖ 
redSpyMaster
ÜÜ $
=
ÜÜ% &
	Constants
ÜÜ' 0
.
ÜÜ0 1
NULL_ROL
ÜÜ1 9
;
ÜÜ9 :
}
áá 
}
àà 
else
ââ 
if
ââ 
(
ââ 
rol
ââ 
==
ââ 
	Constants
ââ  )
.
ââ) *
BLUE_SPY_MASTER
ââ* 9
)
ââ: ;
{
ää 
if
ãã 
(
ãã 
blueSpyMaster
ãã $
==
ãã% '
uniqueId
ãã( 0
)
ãã0 1
{
åå 
blueSpyMaster
çç %
=
çç& '
	Constants
çç( 1
.
çç1 2
NULL_ROL
çç2 :
;
çç: ;
}
éé 
}
èè 
else
êê 
if
êê 
(
êê 
rol
êê 
==
êê 
	Constants
êê  )
.
êê) *

RED_PLAYER
êê* 4
)
êê4 5
{
ëë 
if
íí 
(
íí 

redPlayers
íí !
.
íí! "
Contains
íí" *
(
íí* +
uniqueId
íí+ 3
)
íí3 4
)
íí4 5
{
ìì 

redPlayers
îî "
.
îî" #
Remove
îî# )
(
îî) *
uniqueId
îî* 2
)
îî2 3
;
îî3 4
}
ïï 
}
ññ 
else
óó 
if
óó 
(
óó 
rol
óó 
==
óó 
	Constants
óó  )
.
óó) *
BLUE_PLAYER
óó* 5
)
óó5 6
{
òò 
if
ôô 
(
ôô 
bluePlayers
ôô "
.
ôô" #
Contains
ôô# +
(
ôô+ ,
uniqueId
ôô, 4
)
ôô4 5
)
ôô5 6
{
öö 
bluePlayers
õõ #
.
õõ# $
Remove
õõ$ *
(
õõ* +
uniqueId
õõ+ 3
)
õõ3 4
;
õõ4 5
}
úú 
}
ùù 
}
üü 
}
†† 	
public
¶¶ 
bool
¶¶ 
Exist
¶¶ 
(
¶¶ 
int
¶¶ 
uniqueId
¶¶ &
)
¶¶& '
{
ßß 	
return
®® 
members
®® 
.
®® 
Contains
®® #
(
®®# $
uniqueId
®®$ ,
)
®®, -
;
®®- .
}
©© 	
public
∞∞ 
bool
∞∞ 
	CanChange
∞∞ 
(
∞∞ 
string
∞∞ $
rol
∞∞% (
,
∞∞( )
int
∞∞* -
uniqueId
∞∞. 6
)
∞∞6 7
{
±± 	
bool
≤≤ 
status
≤≤ 
=
≤≤ 
false
≤≤ 
;
≤≤  
if
≥≥ 
(
≥≥ 
rol
≥≥ 
==
≥≥ 
	Constants
≥≥ 
.
≥≥  
RED_SPY_MASTER
≥≥  .
)
≥≥. /
{
¥¥ 
if
µµ 
(
µµ 
redSpyMaster
µµ 
==
µµ  "
	Constants
µµ# ,
.
µµ, -
NULL_ROL
µµ- 5
)
µµ5 6
{
∂∂ 
	DeleteRol
∑∑ 
(
∑∑ 
uniqueId
∑∑ &
)
∑∑& '
;
∑∑' (
redSpyMaster
∏∏  
=
∏∏! "
uniqueId
∏∏# +
;
∏∏+ ,
status
ππ 
=
ππ 
true
ππ !
;
ππ! "
}
∫∫ 
}
ªª 
else
ºº 
if
ºº 
(
ºº 
rol
ºº 
==
ºº 
	Constants
ºº $
.
ºº$ %
BLUE_SPY_MASTER
ºº% 4
)
ºº4 5
{
ΩΩ 
if
ææ 
(
ææ 
blueSpyMaster
ææ  
==
ææ! #
	Constants
ææ$ -
.
ææ- .
NULL_ROL
ææ. 6
)
ææ6 7
{
øø 
	DeleteRol
¿¿ 
(
¿¿ 
uniqueId
¿¿ &
)
¿¿& '
;
¿¿' (
status
¡¡ 
=
¡¡ 
true
¡¡ !
;
¡¡! "
blueSpyMaster
¬¬ !
=
¬¬" #
uniqueId
¬¬$ ,
;
¬¬, -
}
√√ 
}
ƒƒ 
else
≈≈ 
if
≈≈ 
(
≈≈ 
rol
≈≈ 
==
≈≈ 
	Constants
≈≈ $
.
≈≈$ %

RED_PLAYER
≈≈% /
)
≈≈/ 0
{
∆∆ 
if
«« 
(
«« 

redPlayers
«« 
.
«« 
Count
«« #
<
««$ %
	Constants
««& /
.
««/ 0
MAX_RED_PLAYERS
««0 ?
&&
««@ B
!
««C D

redPlayers
««D N
.
««N O
Contains
««O W
(
««W X
uniqueId
««X `
)
««` a
)
««a b
{
»» 
	DeleteRol
…… 
(
…… 
uniqueId
…… &
)
……& '
;
……' (

redPlayers
   
.
   
Add
   "
(
  " #
uniqueId
  # +
)
  + ,
;
  , -
status
ÀÀ 
=
ÀÀ 
true
ÀÀ !
;
ÀÀ! "
}
ÃÃ 
}
ÕÕ 
else
ŒŒ 
{
œœ 
if
–– 
(
–– 
bluePlayers
–– 
.
–– 
Count
–– $
<
––% &
	Constants
––' 0
.
––0 1
MAX_BLUE_PLAYERS
––1 A
&&
––B D
!
––E F
bluePlayers
––F Q
.
––Q R
Contains
––R Z
(
––Z [
uniqueId
––[ c
)
––c d
)
––d e
{
—— 
	DeleteRol
““ 
(
““ 
uniqueId
““ &
)
““& '
;
““' (
bluePlayers
”” 
.
””  
Add
””  #
(
””# $
uniqueId
””$ ,
)
””, -
;
””- .
status
‘‘ 
=
‘‘ 
true
‘‘ !
;
‘‘! "
}
’’ 
}
÷÷ 
return
ÿÿ 
status
ÿÿ 
;
ÿÿ 
}
ŸŸ 	
public
‡‡ 
bool
‡‡ 
CanJoin
‡‡ 
(
‡‡ 
int
‡‡ 
uniqueId
‡‡  (
)
‡‡( )
{
·· 	
bool
‚‚ 
status
‚‚ 
=
‚‚ 
false
‚‚ 
;
‚‚  
if
„„ 
(
„„ 
members
„„ 
.
„„ 
Count
„„ 
<
„„ 
	Constants
„„ (
.
„„( )
MAX_MEMBERS
„„) 4
)
„„4 5
{
‰‰ 
if
ÂÂ 
(
ÂÂ 
redSpyMaster
ÂÂ 
==
ÂÂ  "
	Constants
ÂÂ# ,
.
ÂÂ, -
NULL_ROL
ÂÂ- 5
)
ÂÂ5 6
{
ÊÊ 
status
ÁÁ 
=
ÁÁ 
true
ÁÁ !
;
ÁÁ! "
}
ËË 
else
ÈÈ 
if
ÈÈ 
(
ÈÈ 
blueSpyMaster
ÈÈ %
==
ÈÈ& (
	Constants
ÈÈ) 2
.
ÈÈ2 3
NULL_ROL
ÈÈ3 ;
)
ÈÈ; <
{
ÍÍ 
status
ÎÎ 
=
ÎÎ 
true
ÎÎ !
;
ÎÎ! "
}
ÏÏ 
else
ÌÌ 
if
ÌÌ 
(
ÌÌ 

redPlayers
ÌÌ "
.
ÌÌ" #
Count
ÌÌ# (
<
ÌÌ) *
	Constants
ÌÌ+ 4
.
ÌÌ4 5
MAX_RED_PLAYERS
ÌÌ5 D
)
ÌÌD E
{
ÓÓ 
status
ÔÔ 
=
ÔÔ 
true
ÔÔ !
;
ÔÔ! "
}
 
else
ÒÒ 
if
ÒÒ 
(
ÒÒ 
bluePlayers
ÒÒ #
.
ÒÒ# $
Count
ÒÒ$ )
<
ÒÒ* +
	Constants
ÒÒ, 5
.
ÒÒ5 6
MAX_BLUE_PLAYERS
ÒÒ6 F
)
ÒÒF G
{
ÚÚ 
status
ÛÛ 
=
ÛÛ 
true
ÛÛ !
;
ÛÛ! "
}
ÙÙ 
}
ıı 
if
˜˜ 
(
˜˜ 
status
˜˜ 
)
˜˜ 
{
¯¯ 
status
˙˙ 
&=
˙˙ 
!
˙˙ 
	blackList
˙˙ $
.
˙˙$ %
Contains
˙˙% -
(
˙˙- .
uniqueId
˙˙. 6
)
˙˙6 7
;
˙˙7 8
status
¸¸ 
=
¸¸ 
status
¸¸ 
&&
¸¸  "
!
¸¸# $
	blackList
¸¸$ -
.
¸¸- .
Contains
¸¸. 6
(
¸¸6 7
uniqueId
¸¸7 ?
)
¸¸? @
;
¸¸@ A
}
˛˛ 
status
ÄÄ 
&=
ÄÄ 
!
ÄÄ 
gameStarted
ÄÄ "
;
ÄÄ" #
return
ÇÇ 
status
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
public
àà 
void
àà 
	BanPlayer
àà 
(
àà 
int
àà !
uniqueId
àà" *
)
àà* +
{
ââ 	
RemovePlayer
ää 
(
ää 
uniqueId
ää !
)
ää! "
;
ää" #
	blackList
ãã 
.
ãã 
Add
ãã 
(
ãã 
uniqueId
ãã "
)
ãã" #
;
ãã# $
}
åå 	
public
ëë 
bool
ëë 
CanStart
ëë 
(
ëë 
)
ëë 
{
íí 	
bool
ìì 
redMasterReady
ìì 
=
ìì  !
false
ìì" '
;
ìì' (
bool
îî 
blueMasterReady
îî  
=
îî! "
false
îî# (
;
îî( )
bool
ïï 
redSpyReady
ïï 
=
ïï 
false
ïï $
;
ïï$ %
bool
ññ 
blueSpyReady
ññ 
=
ññ 
false
ññ  %
;
ññ% &
redMasterReady
òò 
=
òò 
redSpyMaster
òò )
!=
òò* ,
	Constants
òò- 6
.
òò6 7
NULL_ROL
òò7 ?
;
òò? @
blueMasterReady
ôô 
=
ôô 
blueSpyMaster
ôô +
!=
ôô, .
	Constants
ôô/ 8
.
ôô8 9
NULL_ROL
ôô9 A
;
ôôA B
redSpyReady
õõ 
=
õõ 
(
õõ 

redPlayers
õõ %
.
õõ% &
Count
õõ& +
>
õõ, -
$num
õõ. /
)
õõ/ 0
;
õõ0 1
blueSpyReady
úú 
=
úú 
(
úú 
bluePlayers
úú '
.
úú' (
Count
úú( -
>
úú. /
$num
úú0 1
)
úú1 2
;
úú2 3
bool
ûû 
status
ûû 
=
ûû 
redMasterReady
ûû (
&&
ûû) +
blueMasterReady
ûû, ;
&&
ûû< >
redSpyReady
ûû? J
&&
ûûK M
blueSpyReady
ûûN Z
;
ûûZ [
return
üü 
status
üü 
;
üü 
}
†† 	
public
§§ 
void
§§ 
GenerateBoard
§§ !
(
§§! "
)
§§" #
{
•• 	
Random
¶¶ 
randomClass
¶¶ 
=
¶¶  
new
¶¶! $
Random
¶¶% +
(
¶¶+ ,
)
¶¶, -
;
¶¶- .
List
ßß 
<
ßß 
int
ßß 
>
ßß 
fullList
ßß 
=
ßß  
new
ßß! $
List
ßß% )
<
ßß) *
int
ßß* -
>
ßß- .
(
ßß. /
)
ßß/ 0
;
ßß0 1
for
®® 
(
®® 
int
®® 
c
®® 
=
®® 
$num
®® 
;
®® 
c
®® 
<
®® 
$num
®®  
;
®®  !
c
®®" #
++
®®# %
)
®®% &
{
©© 
fullList
™™ 
.
™™ 
Add
™™ 
(
™™ 
c
™™ 
)
™™ 
;
™™  
}
´´ 
boardNumbers
≠≠ 
=
≠≠ 
fullList
≠≠ #
.
≠≠# $
OrderBy
≠≠$ +
(
≠≠+ ,
_
≠≠, -
=>
≠≠. 0
randomClass
≠≠1 <
.
≠≠< =
Next
≠≠= A
(
≠≠A B
)
≠≠B C
)
≠≠C D
.
≠≠D E
ToList
≠≠E K
(
≠≠K L
)
≠≠L M
;
≠≠M N
}
ØØ 	
}
±± 
}≥≥ ü1
MC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\Utils\Constants.cs
	namespace 	
OpenCodeChems
 
. 
Server 
. 
Standar &
{ 
public 

class 
	Constants 
{ 
public 
const 
int 
NULL_ROL !
=" #
-$ %
$num% &
;& '
public 
const 
string 
RED_SPY_MASTER *
=+ ,
$str- ;
;; <
public 
const 
string 
BLUE_SPY_MASTER +
=, -
$str. =
;= >
public 
const 
string 

RED_PLAYER &
=' (
$str) 4
;4 5
public 
const 
string 
BLUE_PLAYER '
=( )
$str* 6
;6 7
public   
static   
string   
[   
]   
ROLES    %
=  & '
{  ( )
RED_SPY_MASTER  ) 7
,  7 8

RED_PLAYER  9 C
,  C D
BLUE_SPY_MASTER  E T
,  T U
BLUE_PLAYER  V a
}  a b
;  b c
public$$ 
const$$ 
int$$ 
MAX_RED_PLAYERS$$ (
=$$) *
$num$$+ ,
;$$, -
public(( 
const(( 
int(( 
MAX_BLUE_PLAYERS(( )
=((* +
$num((, -
;((- .
public,, 
const,, 
int,, 
MAX_MEMBERS,, $
=,,% &
$num,,' (
;,,( )
public00 
const00 
int00 
BLUE00 
=00 
$num00  !
;00! "
public44 
const44 
int44 
RED44 
=44 
$num44  
;44  !
public88 
const88 
int88 
YELLOW88 
=88  !
$num88" #
;88# $
public<< 
const<< 
int<< 
BLACK<< 
=<<  
$num<<! "
;<<" #
public@@ 
int@@ 
[@@ 
]@@ 
KEY_BLUE_ONE@@ !
=@@" #
new@@$ '
int@@( +
[@@+ ,
]@@, -
{@@. /
$num@@/ 0
,@@0 1
$num@@1 2
,@@2 3
$num@@3 4
,@@4 5
$num@@5 6
,@@6 7
$num@@7 8
,@@8 9
$num@@9 :
,@@: ;
$num@@; <
,@@< =
$num@@= >
,@@> ?
$num@@? @
,@@@ A
$num@@A B
,@@B C
$num@@C D
,@@D E
$num@@E F
,@@F G
$num@@G H
,@@H I
$num@@I J
,@@J K
$num@@K L
,@@L M
$num@@M N
,@@N O
$num@@O P
,@@P Q
$num@@Q R
,@@R S
$num@@S T
,@@T U
$num@@U V
,@@V W
$num@@W X
,@@X Y
$num@@Y Z
,@@Z [
$num@@[ \
,@@\ ]
$num@@] ^
,@@^ _
$num@@_ `
}@@` a
;@@a b
publicDD 
intDD 
[DD 
]DD 
KEY_RED_ONEDD  
=DD! "
newDD# &
intDD' *
[DD* +
]DD+ ,
{DD- .
$numDD. /
,DD/ 0
$numDD0 1
,DD1 2
$numDD2 3
,DD3 4
$numDD4 5
,DD5 6
$numDD6 7
,DD7 8
$numDD8 9
,DD9 :
$numDD: ;
,DD; <
$numDD< =
,DD= >
$numDD> ?
,DD? @
$numDD@ A
,DDA B
$numDDB C
,DDC D
$numDDD E
,DDE F
$numDDF G
,DDG H
$numDDH I
,DDI J
$numDDJ K
,DDK L
$numDDL M
,DDM N
$numDDN O
,DDO P
$numDDP Q
,DDQ R
$numDDR S
,DDS T
$numDDT U
,DDU V
$numDDV W
,DDW X
$numDDX Y
,DDY Z
$numDDZ [
,DD[ \
$numDD\ ]
,DD] ^
$numDD^ _
}DD_ `
;DD` a
publicHH 
intHH 
[HH 
]HH 
KEY_RED_TWOHH  
=HH! "
newHH# &
intHH' *
[HH* +
]HH+ ,
{HH- .
$numHH. /
,HH/ 0
$numHH0 1
,HH1 2
$numHH2 3
,HH3 4
$numHH4 5
,HH5 6
$numHH6 7
,HH7 8
$numHH8 9
,HH9 :
$numHH: ;
,HH; <
$numHH< =
,HH= >
$numHH> ?
,HH? @
$numHH@ A
,HHA B
$numHHB C
,HHC D
$numHHD E
,HHE F
$numHHF G
,HHG H
$numHHH I
,HHI J
$numHHJ K
,HHK L
$numHHL M
,HHM N
$numHHN O
,HHO P
$numHHP Q
,HHQ R
$numHHR S
,HHS T
$numHHT U
,HHU V
$numHHV W
,HHW X
$numHHX Y
,HHY Z
$numHHZ [
,HH[ \
$numHH\ ]
,HH] ^
$numHH^ _
}HH_ `
;HH` a
publicLL 
intLL 
[LL 
]LL 
KEY_BLUE_TWOLL !
=LL" #
newLL$ '
intLL( +
[LL+ ,
]LL, -
{LL. /
$numLL/ 0
,LL0 1
$numLL1 2
,LL2 3
$numLL3 4
,LL4 5
$numLL5 6
,LL6 7
$numLL7 8
,LL8 9
$numLL9 :
,LL: ;
$numLL; <
,LL< =
$numLL= >
,LL> ?
$numLL? @
,LL@ A
$numLLA B
,LLB C
$numLLC D
,LLD E
$numLLE F
,LLF G
$numLLG H
,LLH I
$numLLI J
,LLJ K
$numLLK L
,LLL M
$numLLM N
,LLN O
$numLLO P
,LLP Q
$numLLQ R
,LLR S
$numLLS T
,LLT U
$numLLU V
,LLV W
$numLLW X
,LLX Y
$numLLY Z
,LLZ [
$numLL[ \
,LL\ ]
$numLL] ^
,LL^ _
$numLL_ `
}LL` a
;LLa b
}MM 
}OO ç	
NC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\Utils\Encryption.cs
	namespace 	
OpenCodeChems
 
. 
Server 
. 
Utils $
{ 
public

 

class

 

Encryption

 
{ 
public 
string 
ComputeSHA256Hash '
(' (
string( .
text/ 3
)3 4
{ 	
using 
( 
var 
sha256 
= 
new  #
SHA256Managed$ 1
(1 2
)2 3
)3 4
{ 
return 
BitConverter #
.# $
ToString$ ,
(, -
sha256- 3
.3 4
ComputeHash4 ?
(? @
Encoding@ H
.H I
UTF8I M
.M N
GetBytesN V
(V W
textW [
)[ \
)\ ]
)] ^
.^ _
Replace_ f
(f g
$strg j
,j k
$strl n
)n o
;o p
} 
} 	
} 
}  
NC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Scripts\Utils\Validation.cs
	namespace 	
OpenCodeChems
 
. 
Server 
. 
Utils $
{ 
public 
class 

Validation 
{ 
public 
bool	 

ValidateIp 
( 
string 
address  '
)' (
{ 
bool 
status 
= 
true 
; 
var 
ipParts 
= 
address 
. 
Split 
( 
$str "
)" #
;# $
if 
( 
ipParts 
. 
Length 
!= 
$num 
) 
{ 
status 

= 
false 
; 
} 
foreach 

( 
var 
part 
in 
ipParts 
)  
{ 
if 
( 
part 
. 

StartsWith 
( 
$str 
) 
&& 
part  $
.$ %
Length% +
>, -
$num. /
)/ 0
{   
status!! 
=!! 
false!! 
;!! 
}"" 
if$$ 
($$ 
part$$ 
.$$ 
Length$$ 
!=$$ 
part$$ 
.$$ 
Trim$$  
($$  !
)$$! "
.$$" #
Length$$# )
)$$) *
{%% 
status&& 
=&& 
false&& 
;&& 
}'' 
int)) 
number)) 
;)) 
var** 
result** 
=** 
Int32** 
.** 
TryParse** 
(**  
part**  $
,**$ %
out**& )
number*** 0
)**0 1
;**1 2
if++ 
(++ 
!++ 	
result++	 
||++ 
number++ 
>++ 
$num++ 
||++  "
number++# )
<++* +
$num++, -
)++- .
{,, 
status-- 
=-- 
false-- 
;-- 
}.. 
}// 
if11 
(11 
!11 
status11 
)11 
{22 
status33 

=33 
address33 
.33 
ToLower33 
(33 
)33 
.33 
Equals33 %
(33% &
$str33& 1
)331 2
;332 3
}44 
return66 	
status66
 
;66 
}77 
public== 
bool==	 
ValidatePort== 
(== 
string== !
port==" &
)==& '
{>> 
if?? 
(?? 
String?? 
.?? 
IsNullOrWhiteSpace?? 
(??  
port??  $
)??$ %
)??% &
{@@ 
returnAA 

falseAA 
;AA 
}BB 
foreachCC 

(CC
 
charCC 
elementCC 
inCC 
portCC 
)CC  
{DD 
ifEE 
(EE 
elementEE 
<EE 
$charEE 
||EE 
elementEE 
>EE  !
$charEE" %
)EE% &
returnFF 
falseFF 
;FF 
}GG 
intHH 
currentPortHH 
=HH 
Int32HH 
.HH 
ParseHH  
(HH  !
portHH! %
)HH% &
;HH& '
returnII 	
currentPortII
 
>=II 
$numII 
&&II 
currentPortII )
<=II* ,
$numII- 2
;II2 3
}JJ 
}KK 
}LL ´‰
MC:\Tecnologias\Open-CodeChems\OpenCodeChems.Server\Test\UserManagementTest.cs
	namespace		 	
OpenCodeChems		
 
.		 
Test		 
{

 
[ 
Title 
( 
$str 
) 
]  
public 
class 
UserManagementTest  
:! "
WAT# &
.& '
Test' +
{ 
private 	
readonly
 
UserManagement !
USER_MANAGEMENT" 1
=2 3
new4 7
UserManagement8 F
(F G
)G H
;H I
private 	
static
 

Encryption 
PasswordHasher *
=+ ,
new- 0

Encryption1 ;
(; <
)< =
;= >
private 	
const
 
string 
USERNAME 
=  !
$str" 0
;0 1
private 	
readonly
 
string 
PASSWORD "
=# $
PasswordHasher% 3
.3 4
ComputeSHA256Hash4 E
(E F
$strF Q
)Q R
;R S
private 	
readonly
 
string 
NEW_PASSWORD &
=' (
PasswordHasher) 7
.7 8
ComputeSHA256Hash8 I
(I J
$strJ V
)V W
;W X
private 	
const
 
string 
NAME 
= 
$str +
;+ ,
private 	
const
 
string 
EMAIL 
= 
$str /
;/ 0
private 	
const
 
string 
NICKNAME 
=  !
$str" 0
;0 1
private 	
const
 
string 
NEW_NICKNAME #
=$ %
$str& :
;: ;
private 	
const
 
int 
	VICTORIES 
= 
$num  !
;! "
private 	
const
 
int 
DEFEATS 
= 
$num 
;  
private 	
const
 
int 
IMAGE_PROFILE !
=" #
$num$ %
;% &
private 	
const
 
int 
NEW_IMAGE_PROFILE %
=& '
$num( )
;) *
private 	
const
 
int 
ID_PROFILE_CARSI12 &
=' (
$num) *
;* +
private 	
const
 
int 
ID_PROFILE_ZINE #
=$ %
$num& '
;' (
[$$ 
Test$$ 
]$$ 
public%% 
void%%	 
RegisterUserCorrect%% !
(%%! "
)%%" #
{&& 
User'' 
newUser'' 
='' 
new'' 
User'' 
('' 
USERNAME'' #
,''# $
PASSWORD''% -
,''- .
NAME''/ 3
,''3 4
EMAIL''5 :
)'': ;
;''; <
bool(( 
expectedStatus(( 
=(( 
true(( 
;(( 
bool)) 
obtainedStatus)) 
=)) 
USER_MANAGEMENT)) (
.))( )
RegisterUser))) 5
())5 6
newUser))6 =
)))= >
;))> ?
Assert** 	
.**	 

IsEqual**
 
(** 
expectedStatus**  
,**  !
obtainedStatus**" 0
)**0 1
;**1 2
}++ 
[// 
Test// 
]// 
public00 
void00	 1
%RegisterUserInvalidOperationException00 3
(003 4
)004 5
{11 
User22 
newUser22 
=22 
new22 
User22 
(22 
null22 
,22  
null22! %
,22% &
null22' +
,22+ ,
null22- 1
)221 2
;222 3
bool33 
expectedStatus33 
=33 
false33 
;33 
bool44 
obtainedStatus44 
=44 
USER_MANAGEMENT44 (
.44( )
RegisterUser44) 5
(445 6
newUser446 =
)44= >
;44> ?
Assert55 	
.55	 

IsEqual55
 
(55 
expectedStatus55  
,55  !
obtainedStatus55" 0
)550 1
;551 2
}66 
[:: 
Test:: 
]:: 
public;; 
void;;	 "
RegisterUserDuplicated;; $
(;;$ %
);;% &
{<< 
User== 
newUser== 
=== 
new== 
User== 
(== 
USERNAME== #
,==# $
PASSWORD==% -
,==- .
NAME==/ 3
,==3 4
EMAIL==5 :
)==: ;
;==; <
bool>> 
expectedStatus>> 
=>> 
false>> 
;>> 
bool?? 
obtainedStatus?? 
=?? 
USER_MANAGEMENT?? (
.??( )
RegisterUser??) 5
(??5 6
newUser??6 =
)??= >
;??> ?
Assert@@ 	
.@@	 

IsEqual@@
 
(@@ 
expectedStatus@@  
,@@  !
obtainedStatus@@" 0
)@@0 1
;@@1 2
}AA 
[EE 
TestEE 
]EE 
publicFF 
voidFF	 "
RegisterProfileCorrectFF $
(FF$ %
)FF% &
{GG 
ProfileHH 


newProfileHH 
=HH 
newHH 
ProfileHH #
(HH# $
NICKNAMEHH% -
,HH- .
	VICTORIESHH/ 8
,HH8 9
DEFEATSHH: A
,HHA B
IMAGE_PROFILEHHC P
,HHP Q
USERNAMEHHR Z
)HHZ [
;HH[ \
boolII 
expectedStatusII 
=II 
trueII 
;II 
boolJJ 
obtainedStatusJJ 
=JJ 
USER_MANAGEMENTJJ (
.JJ( )
RegisterProfileJJ) 8
(JJ8 9

newProfileJJ9 C
)JJC D
;JJD E
AssertKK 	
.KK	 

IsEqualKK
 
(KK 
expectedStatusKK  
,KK  !
obtainedStatusKK" 0
)KK0 1
;KK1 2
}LL 
[PP 
TestPP 
]PP 
publicQQ 
voidQQ	 4
(RegisterProfileInvalidOperationExceptionQQ 6
(QQ6 7
)QQ7 8
{RR 
ProfileSS 


newProfileSS 
=SS 
newSS 
ProfileSS #
(SS# $
nullSS% )
,SS) *
-SS+ ,
$numSS, /
,SS/ 0
-SS1 2
$numSS2 5
,SS5 6
-SS7 8
$numSS8 ;
,SS; <
nullSS= A
)SSA B
;SSB C
boolTT 
expectedStatusTT 
=TT 
falseTT 
;TT 
boolUU 
obtainedStatusUU 
=UU 
USER_MANAGEMENTUU (
.UU( )
RegisterProfileUU) 8
(UU8 9

newProfileUU9 C
)UUC D
;UUD E
AssertVV 	
.VV	 

IsEqualVV
 
(VV 
expectedStatusVV  
,VV  !
obtainedStatusVV" 0
)VV0 1
;VV1 2
}WW 
[[[ 
Test[[ 
][[ 
public\\ 
void\\	 
LoginCorrect\\ 
(\\ 
)\\ 
{]] 
bool^^ 
expectedStatus^^ 
=^^ 
true^^ 
;^^ 
bool__ 
obtainedStatus__ 
=__ 
USER_MANAGEMENT__ (
.__( )
Login__) .
(__. /
USERNAME__/ 7
,__7 8
PASSWORD__9 A
)__A B
;__B C
Assert`` 	
.``	 

IsEqual``
 
(`` 
expectedStatus``  
,``  !
obtainedStatus``" 0
)``0 1
;``1 2
}aa 
[ee 
Testee 
]ee 
publicff 
voidff	 
LoginNotCorrectff 
(ff 
)ff 
{gg 
boolhh 
expectedStatushh 
=hh 
falsehh 
;hh 
boolii 
obtainedStatusii 
=ii 
USER_MANAGEMENTii (
.ii( )
Loginii) .
(ii. /
$strii/ 5
,ii5 6
$strii7 E
)iiE F
;iiF G
Assertjj 	
.jj	 

IsEqualjj
 
(jj 
expectedStatusjj  
,jj  !
obtainedStatusjj" 0
)jj0 1
;jj1 2
}kk 
[oo 
Testoo 
]oo 
publicpp 
voidpp	 (
LoginNullUsernameAndPasswordpp *
(pp* +
)pp+ ,
{qq 
boolrr 
expectedStatusrr 
=rr 
falserr 
;rr 
boolss 
obtainedStatusss 
=ss 
USER_MANAGEMENTss (
.ss( )
Loginss) .
(ss. /
nullss/ 3
,ss3 4
nullss5 9
)ss9 :
;ss: ;
Asserttt 	
.tt	 

IsEqualtt
 
(tt 
expectedStatustt  
,tt  !
obtainedStatustt" 0
)tt0 1
;tt1 2
}uu 
[yy 
Testyy 
]yy 
publiczz 
voidzz	 %
NicknameRegisteredCorrectzz '
(zz' (
)zz( )
{{{ 
bool|| 
expectedStatus|| 
=|| 
true|| 
;|| 
bool}} 
obtainedStatus}} 
=}} 
USER_MANAGEMENT}} (
.}}( )
NicknameRegistered}}) ;
(}}; <
NICKNAME}}< D
)}}D E
;}}E F
Assert~~ 	
.~~	 

IsEqual~~
 
(~~ 
expectedStatus~~  
,~~  !
obtainedStatus~~" 0
)~~0 1
;~~1 2
} 
[
ÉÉ 
Test
ÉÉ 
]
ÉÉ 
public
ÑÑ 
void
ÑÑ	 *
NicknameRegisteredNotCorrect
ÑÑ *
(
ÑÑ* +
)
ÑÑ+ ,
{
ÖÖ 
bool
ÜÜ 
expectedStatus
ÜÜ 
=
ÜÜ 
false
ÜÜ 
;
ÜÜ 
bool
áá 
obtainedStatus
áá 
=
áá 
USER_MANAGEMENT
áá (
.
áá( ) 
NicknameRegistered
áá) ;
(
áá; <
NEW_NICKNAME
áá< H
)
ááH I
;
ááI J
Assert
àà 	
.
àà	 

IsEqual
àà
 
(
àà 
expectedStatus
àà  
,
àà  !
obtainedStatus
àà" 0
)
àà0 1
;
àà1 2
}
ââ 
[
çç 
Test
çç 
]
çç 
public
éé 
void
éé	 (
EditProfileNicknameCorrect
éé (
(
éé( )
)
éé) *
{
èè 
bool
êê 
expectedStatus
êê 
=
êê 
true
êê 
;
êê 
bool
ëë 
obtainedStatus
ëë 
=
ëë 
USER_MANAGEMENT
ëë (
.
ëë( )!
EditProfileNickname
ëë) <
(
ëë< =
USERNAME
ëë= E
,
ëëE F
NEW_NICKNAME
ëëG S
)
ëëS T
;
ëëT U
Assert
íí 	
.
íí	 

IsEqual
íí
 
(
íí 
expectedStatus
íí  
,
íí  !
obtainedStatus
íí" 0
)
íí0 1
;
íí1 2
}
ìì 
[
óó 
Test
óó 
]
óó 
public
òò 
void
òò	 :
,EditProfileNicknameInvalidOperationException
òò :
(
òò: ;
)
òò; <
{
ôô 
bool
öö 
expectedStatus
öö 
=
öö 
false
öö 
;
öö 
bool
õõ 
obtainedStatus
õõ 
=
õõ 
USER_MANAGEMENT
õõ (
.
õõ( )!
EditProfileNickname
õõ) <
(
õõ< =
null
õõ= A
,
õõA B
null
õõC G
)
õõG H
;
õõH I
Assert
úú 	
.
úú	 

IsEqual
úú
 
(
úú 
expectedStatus
úú  
,
úú  !
obtainedStatus
úú" 0
)
úú0 1
;
úú1 2
}
ùù 
[
°° 
Test
°° 
]
°° 
public
¢¢ 
void
¢¢	 %
EditProfileImageCorrect
¢¢ %
(
¢¢% &
)
¢¢& '
{
££ 
bool
•• 
expectedStatus
•• 
=
•• 
true
•• 
;
•• 
bool
¶¶ 
obtainedStatus
¶¶ 
=
¶¶ 
USER_MANAGEMENT
¶¶ (
.
¶¶( )
EditProfileImage
¶¶) 9
(
¶¶9 :
USERNAME
¶¶: B
,
¶¶B C
NEW_IMAGE_PROFILE
¶¶D U
)
¶¶U V
;
¶¶V W
Assert
ßß 	
.
ßß	 

IsEqual
ßß
 
(
ßß 
expectedStatus
ßß  
,
ßß  !
obtainedStatus
ßß" 0
)
ßß0 1
;
ßß1 2
}
®® 
[
¨¨ 
Test
¨¨ 
]
¨¨ 
public
≠≠ 
void
≠≠	 7
)EditProfileImageInvalidOperationException
≠≠ 7
(
≠≠7 8
)
≠≠8 9
{
ÆÆ 
bool
ØØ 
expectedStatus
ØØ 
=
ØØ 
false
ØØ 
;
ØØ 
bool
∞∞ 
obtainedStatus
∞∞ 
=
∞∞ 
USER_MANAGEMENT
∞∞ (
.
∞∞( )
EditProfileImage
∞∞) 9
(
∞∞9 :
null
∞∞: >
,
∞∞> ?
-
∞∞@ A
$num
∞∞A D
)
∞∞D E
;
∞∞E F
Assert
±± 	
.
±±	 

IsEqual
±±
 
(
±± 
expectedStatus
±±  
,
±±  !
obtainedStatus
±±" 0
)
±±0 1
;
±±1 2
}
≤≤ 
[
∂∂ 
Test
∂∂ 
]
∂∂ 
public
∑∑ 
void
∑∑	 "
PasswordExistCorrect
∑∑ "
(
∑∑" #
)
∑∑# $
{
∏∏ 
bool
ππ 
expectedStatus
ππ 
=
ππ 
true
ππ 
;
ππ 
bool
∫∫ 
obtainedStatus
∫∫ 
=
∫∫ 
USER_MANAGEMENT
∫∫ (
.
∫∫( )
PasswordExist
∫∫) 6
(
∫∫6 7
USERNAME
∫∫7 ?
,
∫∫? @
PASSWORD
∫∫A I
)
∫∫I J
;
∫∫J K
Assert
ªª 	
.
ªª	 

IsEqual
ªª
 
(
ªª 
expectedStatus
ªª  
,
ªª  !
obtainedStatus
ªª" 0
)
ªª0 1
;
ªª1 2
}
ºº 
[
¿¿ 
Test
¿¿ 
]
¿¿ 
public
¡¡ 
void
¡¡	 %
PasswordExistNotCorrect
¡¡ %
(
¡¡% &
)
¡¡& '
{
¬¬ 
bool
√√ 
expectedStatus
√√ 
=
√√ 
false
√√ 
;
√√ 
bool
ƒƒ 
obtainedStatus
ƒƒ 
=
ƒƒ 
USER_MANAGEMENT
ƒƒ (
.
ƒƒ( )
PasswordExist
ƒƒ) 6
(
ƒƒ6 7
USERNAME
ƒƒ7 ?
,
ƒƒ? @
NEW_PASSWORD
ƒƒA M
)
ƒƒM N
;
ƒƒN O
Assert
≈≈ 	
.
≈≈	 

IsEqual
≈≈
 
(
≈≈ 
expectedStatus
≈≈  
,
≈≈  !
obtainedStatus
≈≈" 0
)
≈≈0 1
;
≈≈1 2
}
∆∆ 
[
   
Test
   
]
   
public
ÀÀ 
void
ÀÀ	 %
EditUserPasswordCorrect
ÀÀ %
(
ÀÀ% &
)
ÀÀ& '
{
ÃÃ 
bool
ÕÕ 
expectedStatus
ÕÕ 
=
ÕÕ 
true
ÕÕ 
;
ÕÕ 
bool
ŒŒ 
obtainedStatus
ŒŒ 
=
ŒŒ 
USER_MANAGEMENT
ŒŒ (
.
ŒŒ( )
EditUserPassword
ŒŒ) 9
(
ŒŒ9 :
USERNAME
ŒŒ: B
,
ŒŒB C
NEW_PASSWORD
ŒŒD P
)
ŒŒP Q
;
ŒŒQ R
Assert
œœ 	
.
œœ	 

IsEqual
œœ
 
(
œœ 
expectedStatus
œœ  
,
œœ  !
obtainedStatus
œœ" 0
)
œœ0 1
;
œœ1 2
}
–– 
[
‘‘ 
Test
‘‘ 
]
‘‘ 
public
’’ 
void
’’	 7
)EditUserPasswordInvalidOperationException
’’ 7
(
’’7 8
)
’’8 9
{
÷÷ 
bool
◊◊ 
expectedStatus
◊◊ 
=
◊◊ 
false
◊◊ 
;
◊◊ 
bool
ÿÿ 
obtainedStatus
ÿÿ 
=
ÿÿ 
USER_MANAGEMENT
ÿÿ (
.
ÿÿ( )
EditUserPassword
ÿÿ) 9
(
ÿÿ9 :
null
ÿÿ: >
,
ÿÿ> ?
null
ÿÿ@ D
)
ÿÿD E
;
ÿÿE F
Assert
ŸŸ 	
.
ŸŸ	 

IsEqual
ŸŸ
 
(
ŸŸ 
expectedStatus
ŸŸ  
,
ŸŸ  !
obtainedStatus
ŸŸ" 0
)
ŸŸ0 1
;
ŸŸ1 2
}
⁄⁄ 
[
ﬁﬁ 
Test
ﬁﬁ 
]
ﬁﬁ 
public
ﬂﬂ 
void
ﬂﬂ	 )
GetProfileByUsernameCorrect
ﬂﬂ )
(
ﬂﬂ) *
)
ﬂﬂ* +
{
‡‡ 
Profile
·· 

profileExpected
·· 
=
·· 
new
··  
Profile
··! (
(
··( )
NEW_NICKNAME
··) 5
,
··5 6
	VICTORIES
··7 @
,
··@ A
DEFEATS
··B I
,
··I J
NEW_IMAGE_PROFILE
··K \
,
··\ ]
USERNAME
··^ f
)
··f g
;
··g h
Profile
‚‚ 

profileObtained
‚‚ 
=
‚‚ 
USER_MANAGEMENT
‚‚ ,
.
‚‚, -"
GetProfileByUsername
‚‚- A
(
‚‚A B
USERNAME
‚‚B J
)
‚‚J K
;
‚‚K L
profileExpected
„„ 
.
„„ 
	idProfile
„„ 
=
„„ 
profileObtained
„„ .
.
„„. /
	idProfile
„„/ 8
;
„„8 9
bool
‰‰ 
statusExpected
‰‰ 
=
‰‰ 
false
‰‰ 
;
‰‰ 
bool
ÂÂ 
statusObtained
ÂÂ 
=
ÂÂ 
true
ÂÂ 
;
ÂÂ 
if
ÊÊ 
(
ÊÊ 
profileObtained
ÊÊ 
.
ÊÊ 
nickname
ÊÊ 
==
ÊÊ !
profileExpected
ÊÊ" 1
.
ÊÊ1 2
nickname
ÊÊ2 :
)
ÊÊ: ;
{
ÁÁ 
statusExpected
ËË 
=
ËË 
true
ËË 
;
ËË 
}
ÈÈ 
Assert
ÍÍ 	
.
ÍÍ	 

IsEqual
ÍÍ
 
(
ÍÍ 
statusExpected
ÍÍ  
,
ÍÍ  !
statusObtained
ÍÍ" 0
)
ÍÍ0 1
;
ÍÍ1 2
}
ÎÎ 
[
ÔÔ 
Test
ÔÔ 
]
ÔÔ 
public
 
void
	 ,
GetProfileByUsernameNotCorrect
 ,
(
, -
)
- .
{
ÒÒ 
Profile
ÚÚ 

profileExpected
ÚÚ 
=
ÚÚ 
new
ÚÚ  
Profile
ÚÚ! (
(
ÚÚ( )
NEW_NICKNAME
ÚÚ) 5
,
ÚÚ5 6
	VICTORIES
ÚÚ7 @
,
ÚÚ@ A
DEFEATS
ÚÚB I
,
ÚÚI J
NEW_IMAGE_PROFILE
ÚÚK \
,
ÚÚ\ ]
USERNAME
ÚÚ^ f
)
ÚÚf g
;
ÚÚg h
bool
ÛÛ 
statusExpected
ÛÛ 
=
ÛÛ 
false
ÛÛ 
;
ÛÛ 
bool
ÙÙ 
statusObtained
ÙÙ 
=
ÙÙ 
false
ÙÙ 
;
ÙÙ 
try
ıı 
{
ˆˆ 
Profile
˜˜ 
profileObtained
˜˜ 
=
˜˜ 
USER_MANAGEMENT
˜˜ -
.
˜˜- ."
GetProfileByUsername
˜˜. B
(
˜˜B C
$str
˜˜C I
)
˜˜I J
;
˜˜J K
profileExpected
¯¯ 
.
¯¯ 
	idProfile
¯¯ 
=
¯¯ 
profileObtained
¯¯  /
.
¯¯/ 0
	idProfile
¯¯0 9
;
¯¯9 :
if
˘˘ 
(
˘˘ 
profileObtained
˘˘ 
.
˘˘ 
Equals
˘˘ 
(
˘˘ 
profileExpected
˘˘ -
)
˘˘- .
)
˘˘. /
{
˙˙ 
statusExpected
˚˚ 
=
˚˚ 
true
˚˚ 
;
˚˚ 
}
¸¸ 
}
˝˝ 
catch
˛˛ 
(
˛˛ 	$
NullReferenceException
˛˛	 
)
˛˛  
{
ˇˇ 
statusExpected
ÄÄ 
=
ÄÄ 
false
ÄÄ 
;
ÄÄ 
}
ÅÅ 
Assert
ÇÇ 	
.
ÇÇ	 

IsEqual
ÇÇ
 
(
ÇÇ 
statusExpected
ÇÇ  
,
ÇÇ  !
statusObtained
ÇÇ" 0
)
ÇÇ0 1
;
ÇÇ1 2
}
ÉÉ 
[
áá 
Test
áá 
]
áá 
public
àà 
void
àà	 )
GetProfileByNicknameCorrect
àà )
(
àà) *
)
àà* +
{
ââ 
Profile
ää 

profileExpected
ää 
=
ää 
new
ää  
Profile
ää! (
(
ää( )
NEW_NICKNAME
ää) 5
,
ää5 6
	VICTORIES
ää7 @
,
ää@ A
DEFEATS
ääB I
,
ääI J
NEW_IMAGE_PROFILE
ääK \
,
ää\ ]
USERNAME
ää^ f
)
ääf g
;
ääg h
Profile
ãã 

profileObtained
ãã 
=
ãã 
USER_MANAGEMENT
ãã ,
.
ãã, -"
GetProfileByNickname
ãã- A
(
ããA B
NEW_NICKNAME
ããB N
)
ããN O
;
ããO P
profileExpected
åå 
.
åå 
	idProfile
åå 
=
åå 
profileObtained
åå .
.
åå. /
	idProfile
åå/ 8
;
åå8 9
bool
çç 
statusExpected
çç 
=
çç 
false
çç 
;
çç 
bool
éé 
statusObtained
éé 
=
éé 
true
éé 
;
éé 
if
èè 
(
èè 
profileObtained
èè 
.
èè 
username
èè 
==
èè !
profileExpected
èè" 1
.
èè1 2
username
èè2 :
)
èè: ;
{
êê 
statusExpected
ëë 
=
ëë 
true
ëë 
;
ëë 
}
íí 
Assert
ìì 	
.
ìì	 

IsEqual
ìì
 
(
ìì 
statusExpected
ìì  
,
ìì  !
statusObtained
ìì" 0
)
ìì0 1
;
ìì1 2
}
îî 
[
òò 
Test
òò 
]
òò 
public
ôô 
void
ôô	 ,
GetProfileByNicknameNotCorrect
ôô ,
(
ôô, -
)
ôô- .
{
öö 
Profile
õõ 

profileExpected
õõ 
=
õõ 
new
õõ  
Profile
õõ! (
(
õõ( )
NEW_NICKNAME
õõ) 5
,
õõ5 6
	VICTORIES
õõ7 @
,
õõ@ A
DEFEATS
õõB I
,
õõI J
NEW_IMAGE_PROFILE
õõK \
,
õõ\ ]
USERNAME
õõ^ f
)
õõf g
;
õõg h
bool
úú 
statusExpected
úú 
=
úú 
false
úú 
;
úú 
bool
ùù 
statusObtained
ùù 
=
ùù 
false
ùù 
;
ùù 
try
ûû 
{
üü 
Profile
†† 
profileObtained
†† 
=
†† 
USER_MANAGEMENT
†† -
.
††- ."
GetProfileByNickname
††. B
(
††B C
$str
††C I
)
††I J
;
††J K
profileExpected
°° 
.
°° 
	idProfile
°° 
=
°° 
profileObtained
°°  /
.
°°/ 0
	idProfile
°°0 9
;
°°9 :
if
¢¢ 
(
¢¢ 
profileObtained
¢¢ 
.
¢¢ 
Equals
¢¢ 
(
¢¢ 
profileExpected
¢¢ -
)
¢¢- .
)
¢¢. /
{
££ 
statusExpected
§§ 
=
§§ 
true
§§ 
;
§§ 
}
•• 
}
¶¶ 
catch
ßß 
(
ßß 	$
NullReferenceException
ßß	 
)
ßß  
{
®® 
statusExpected
©© 
=
©© 
false
©© 
;
©© 
}
™™ 
Assert
´´ 	
.
´´	 

IsEqual
´´
 
(
´´ 
statusExpected
´´  
,
´´  !
statusObtained
´´" 0
)
´´0 1
;
´´1 2
}
¨¨ 
[
∞∞ 
Test
∞∞ 
]
∞∞ 
public
±± 
void
±±	 $
EmailRegisteredCorrect
±± $
(
±±$ %
)
±±% &
{
≤≤ 
bool
≥≥ 
expectedStatus
≥≥ 
=
≥≥ 
true
≥≥ 
;
≥≥ 
bool
¥¥ 
obtainedStatus
¥¥ 
=
¥¥ 
USER_MANAGEMENT
¥¥ (
.
¥¥( )
EmailRegistered
¥¥) 8
(
¥¥8 9
EMAIL
¥¥9 >
)
¥¥> ?
;
¥¥? @
Assert
µµ 	
.
µµ	 

IsEqual
µµ
 
(
µµ 
expectedStatus
µµ  
,
µµ  !
obtainedStatus
µµ" 0
)
µµ0 1
;
µµ1 2
}
∂∂ 
[
∫∫ 
Test
∫∫ 
]
∫∫ 
public
ªª 
void
ªª	 '
EmailRegisteredNotCorrect
ªª '
(
ªª' (
)
ªª( )
{
ºº 
bool
ΩΩ 
expectedStatus
ΩΩ 
=
ΩΩ 
false
ΩΩ 
;
ΩΩ 
string
ææ 	
incorrectEmail
ææ
 
=
ææ 
$str
ææ -
;
ææ- .
bool
øø 
obtainedStatus
øø 
=
øø 
USER_MANAGEMENT
øø (
.
øø( )
EmailRegistered
øø) 8
(
øø8 9
incorrectEmail
øø9 G
)
øøG H
;
øøH I
Assert
¿¿ 	
.
¿¿	 

IsEqual
¿¿
 
(
¿¿ 
expectedStatus
¿¿  
,
¿¿  !
obtainedStatus
¿¿" 0
)
¿¿0 1
;
¿¿1 2
}
¡¡ 
[
≈≈ 
Test
≈≈ 
]
≈≈ 
public
∆∆ 
void
∆∆	 '
UsernameRegisteredCorrect
∆∆ '
(
∆∆' (
)
∆∆( )
{
«« 
bool
»» 
expectedStatus
»» 
=
»» 
true
»» 
;
»» 
bool
…… 
obtainedStatus
…… 
=
…… 
USER_MANAGEMENT
…… (
.
……( ) 
UsernameRegistered
……) ;
(
……; <
USERNAME
……< D
)
……D E
;
……E F
Assert
   	
.
  	 

IsEqual
  
 
(
   
expectedStatus
    
,
    !
obtainedStatus
  " 0
)
  0 1
;
  1 2
}
ÀÀ 
[
œœ 
Test
œœ 
]
œœ 
public
–– 
void
––	 *
UsernameRegisteredNotCorrect
–– *
(
––* +
)
––+ ,
{
—— 
bool
““ 
expectedStatus
““ 
=
““ 
false
““ 
;
““ 
string
”” 	
incorrectUsername
””
 
=
”” 
$str
”” -
;
””- .
bool
‘‘ 
obtainedStatus
‘‘ 
=
‘‘ 
USER_MANAGEMENT
‘‘ (
.
‘‘( ) 
UsernameRegistered
‘‘) ;
(
‘‘; <
incorrectUsername
‘‘< M
)
‘‘M N
;
‘‘N O
Assert
’’ 	
.
’’	 

IsEqual
’’
 
(
’’ 
expectedStatus
’’  
,
’’  !
obtainedStatus
’’" 0
)
’’0 1
;
’’1 2
}
÷÷ 
[
⁄⁄ 
Test
⁄⁄ 
]
⁄⁄ 
public
€€ 
void
€€	 
AddFriendCorrect
€€ 
(
€€ 
)
€€  
{
‹‹ 
Profile
›› 

profileTest
›› 
=
›› 
USER_MANAGEMENT
›› (
.
››( )"
GetProfileByUsername
››) =
(
››= >
USERNAME
››> F
)
››F G
;
››G H
Friends
ﬁﬁ 

friendsTest
ﬁﬁ 
=
ﬁﬁ 
new
ﬁﬁ 
Friends
ﬁﬁ $
(
ﬁﬁ$ %
profileTest
ﬁﬁ% 0
.
ﬁﬁ0 1
	idProfile
ﬁﬁ1 :
,
ﬁﬁ: ; 
ID_PROFILE_CARSI12
ﬁﬁ< N
,
ﬁﬁN O
false
ﬁﬁP U
)
ﬁﬁU V
;
ﬁﬁV W
bool
ﬂﬂ 
expectedStatus
ﬂﬂ 
=
ﬂﬂ 
true
ﬂﬂ 
;
ﬂﬂ 
bool
‡‡ 
obtainedStatus
‡‡ 
=
‡‡ 
USER_MANAGEMENT
‡‡ (
.
‡‡( )
	AddFriend
‡‡) 2
(
‡‡2 3
friendsTest
‡‡3 >
)
‡‡> ?
;
‡‡? @
Assert
·· 	
.
··	 

IsEqual
··
 
(
·· 
expectedStatus
··  
,
··  !
obtainedStatus
··" 0
)
··0 1
;
··1 2
}
‚‚ 
[
ÊÊ 
Test
ÊÊ 
]
ÊÊ 
public
ÁÁ 
void
ÁÁ	 !
AddFriendNotCorrect
ÁÁ !
(
ÁÁ! "
)
ÁÁ" #
{
ËË 
Friends
ÈÈ 

friendsTest
ÈÈ 
=
ÈÈ 
new
ÈÈ 
Friends
ÈÈ $
(
ÈÈ$ %
-
ÈÈ% &
$num
ÈÈ& )
,
ÈÈ) *
-
ÈÈ+ ,
$num
ÈÈ, 0
,
ÈÈ0 1
false
ÈÈ2 7
)
ÈÈ7 8
;
ÈÈ8 9
bool
ÍÍ 
expectedStatus
ÍÍ 
=
ÍÍ 
false
ÍÍ 
;
ÍÍ 
bool
ÎÎ 
obtainedStatus
ÎÎ 
=
ÎÎ 
USER_MANAGEMENT
ÎÎ (
.
ÎÎ( )
	AddFriend
ÎÎ) 2
(
ÎÎ2 3
friendsTest
ÎÎ3 >
)
ÎÎ> ?
;
ÎÎ? @
Assert
ÏÏ 	
.
ÏÏ	 

IsEqual
ÏÏ
 
(
ÏÏ 
expectedStatus
ÏÏ  
,
ÏÏ  !
obtainedStatus
ÏÏ" 0
)
ÏÏ0 1
;
ÏÏ1 2
}
ÌÌ 
[
ÒÒ 
Test
ÒÒ 
]
ÒÒ 
public
ÚÚ 
void
ÚÚ	 &
GetFriendsRequestCorrect
ÚÚ &
(
ÚÚ& '
)
ÚÚ' (
{
ÛÛ 
List
ÙÙ 
<
ÙÙ 
string
ÙÙ 
>
ÙÙ %
obtainedFriendsRequests
ÙÙ '
=
ÙÙ( )
USER_MANAGEMENT
ÙÙ* 9
.
ÙÙ9 : 
GetFriendsRequests
ÙÙ: L
(
ÙÙL M 
ID_PROFILE_CARSI12
ÙÙM _
)
ÙÙ_ `
;
ÙÙ` a
bool
ıı 
expectedStatus
ıı 
=
ıı 
false
ıı 
;
ıı 
bool
ˆˆ 
obtainedStatus
ˆˆ 
=
ˆˆ 
true
ˆˆ 
;
ˆˆ 
for
˜˜ 
(
˜˜ 
int
˜˜ 
i
˜˜ 
=
˜˜ 
$num
˜˜ 
;
˜˜ 
i
˜˜ 
<
˜˜ %
obtainedFriendsRequests
˜˜ .
.
˜˜. /
Count
˜˜/ 4
;
˜˜4 5
i
˜˜6 7
++
˜˜7 9
)
˜˜9 :
{
¯¯ 
if
˘˘ 
(
˘˘ %
obtainedFriendsRequests
˘˘ 
[
˘˘ 
i
˘˘  
]
˘˘  !
.
˘˘! "
Contains
˘˘" *
(
˘˘* +
NEW_NICKNAME
˘˘+ 7
)
˘˘7 8
)
˘˘8 9
{
˙˙ 
expectedStatus
˚˚ 
=
˚˚ 
true
˚˚ 
;
˚˚ 
}
¸¸ 
}
˝˝ 
Assert
˛˛ 	
.
˛˛	 

IsEqual
˛˛
 
(
˛˛ 
expectedStatus
˛˛  
,
˛˛  !
obtainedStatus
˛˛" 0
)
˛˛0 1
;
˛˛1 2
}
ˇˇ 
[
ÉÉ 
Test
ÉÉ 
]
ÉÉ 
public
ÑÑ 
void
ÑÑ	 )
GetFriendsRequestNotCorrect
ÑÑ )
(
ÑÑ) *
)
ÑÑ* +
{
ÖÖ 
List
ÜÜ 
<
ÜÜ 
string
ÜÜ 
>
ÜÜ %
obtainedFriendsRequests
ÜÜ '
=
ÜÜ( )
USER_MANAGEMENT
ÜÜ* 9
.
ÜÜ9 : 
GetFriendsRequests
ÜÜ: L
(
ÜÜL M
-
ÜÜM N
$num
ÜÜN Q
)
ÜÜQ R
;
ÜÜR S
bool
áá 
expectedStatus
áá 
=
áá 
false
áá 
;
áá 
bool
àà 
obtainedStatus
àà 
=
àà 
false
àà 
;
àà 
for
ââ 
(
ââ 
int
ââ 
i
ââ 
=
ââ 
$num
ââ 
;
ââ 
i
ââ 
<
ââ %
obtainedFriendsRequests
ââ .
.
ââ. /
Count
ââ/ 4
;
ââ4 5
i
ââ6 7
++
ââ7 9
)
ââ9 :
{
ää 
if
ãã 
(
ãã %
obtainedFriendsRequests
ãã 
[
ãã 
i
ãã  
]
ãã  !
.
ãã! "
Contains
ãã" *
(
ãã* +
NEW_NICKNAME
ãã+ 7
)
ãã7 8
)
ãã8 9
{
åå 
expectedStatus
çç 
=
çç 
true
çç 
;
çç 
}
éé 
}
èè 
Assert
êê 	
.
êê	 

IsEqual
êê
 
(
êê 
expectedStatus
êê  
,
êê  !
obtainedStatus
êê" 0
)
êê0 1
;
êê1 2
}
ëë 
[
ïï 
Test
ïï 
]
ïï 
public
ññ 
void
ññ	 !
AcceptFriendCorrect
ññ !
(
ññ! "
)
ññ" #
{
óó 
Profile
òò 

profileTest
òò 
=
òò 
USER_MANAGEMENT
òò (
.
òò( )"
GetProfileByUsername
òò) =
(
òò= >
USERNAME
òò> F
)
òòF G
;
òòG H
Friends
ôô 

friendsTest
ôô 
=
ôô 
new
ôô 
Friends
ôô $
(
ôô$ %
profileTest
ôô% 0
.
ôô0 1
	idProfile
ôô1 :
,
ôô: ; 
ID_PROFILE_CARSI12
ôô< N
,
ôôN O
true
ôôP T
)
ôôT U
;
ôôU V
bool
öö 
expectedStatus
öö 
=
öö 
true
öö 
;
öö 
bool
õõ 
obtainedStatus
õõ 
=
õõ 
USER_MANAGEMENT
õõ (
.
õõ( )
AcceptFriend
õõ) 5
(
õõ5 6
friendsTest
õõ6 A
)
õõA B
;
õõB C
Assert
úú 	
.
úú	 

IsEqual
úú
 
(
úú 
expectedStatus
úú  
,
úú  !
obtainedStatus
úú" 0
)
úú0 1
;
úú1 2
}
ùù 
[
°° 
Test
°° 
]
°° 
public
¢¢ 
void
¢¢	 3
%AcceptFriendInvalidOperationException
¢¢ 3
(
¢¢3 4
)
¢¢4 5
{
££ 
Friends
§§ 

friendsTest
§§ 
=
§§ 
new
§§ 
Friends
§§ $
(
§§$ %
-
§§% &
$num
§§& )
,
§§) *
-
§§+ ,
$num
§§, /
,
§§/ 0
true
§§1 5
)
§§5 6
;
§§6 7
bool
•• 
expectedStatus
•• 
=
•• 
false
•• 
;
•• 
bool
¶¶ 
obtainedStatus
¶¶ 
=
¶¶ 
USER_MANAGEMENT
¶¶ (
.
¶¶( )
AcceptFriend
¶¶) 5
(
¶¶5 6
friendsTest
¶¶6 A
)
¶¶A B
;
¶¶B C
Assert
ßß 	
.
ßß	 

IsEqual
ßß
 
(
ßß 
expectedStatus
ßß  
,
ßß  !
obtainedStatus
ßß" 0
)
ßß0 1
;
ßß1 2
}
®® 
[
¨¨ 
Test
¨¨ 
]
¨¨ 
public
≠≠ 
void
≠≠	 $
FriendshipExistCorrect
≠≠ $
(
≠≠$ %
)
≠≠% &
{
ÆÆ 
Profile
ØØ 

profileTest
ØØ 
=
ØØ 
USER_MANAGEMENT
ØØ (
.
ØØ( )"
GetProfileByUsername
ØØ) =
(
ØØ= >
USERNAME
ØØ> F
)
ØØF G
;
ØØG H
bool
∞∞ 
expectedStatus
∞∞ 
=
∞∞ 
true
∞∞ 
;
∞∞ 
bool
±± 
obtainedStatus
±± 
=
±± 
USER_MANAGEMENT
±± (
.
±±( )
FriendshipExist
±±) 8
(
±±8 9
profileTest
±±9 D
.
±±D E
	idProfile
±±E N
,
±±N O 
ID_PROFILE_CARSI12
±±P b
)
±±b c
;
±±c d
Assert
≤≤ 	
.
≤≤	 

IsEqual
≤≤
 
(
≤≤ 
expectedStatus
≤≤  
,
≤≤  !
obtainedStatus
≤≤" 0
)
≤≤0 1
;
≤≤1 2
}
≥≥ 
[
∑∑ 
Test
∑∑ 
]
∑∑ 
public
∏∏ 
void
∏∏	 '
FriendshipExistNotCorrect
∏∏ '
(
∏∏' (
)
∏∏( )
{
ππ 
Profile
∫∫ 

profileTest
∫∫ 
=
∫∫ 
USER_MANAGEMENT
∫∫ (
.
∫∫( )"
GetProfileByUsername
∫∫) =
(
∫∫= >
USERNAME
∫∫> F
)
∫∫F G
;
∫∫G H
bool
ªª 
expectedStatus
ªª 
=
ªª 
false
ªª 
;
ªª 
bool
ºº 
obtainedStatus
ºº 
=
ºº 
USER_MANAGEMENT
ºº (
.
ºº( )
FriendshipExist
ºº) 8
(
ºº8 9
profileTest
ºº9 D
.
ººD E
	idProfile
ººE N
,
ººN O
ID_PROFILE_ZINE
ººP _
)
ºº_ `
;
ºº` a
Assert
ΩΩ 	
.
ΩΩ	 

IsEqual
ΩΩ
 
(
ΩΩ 
expectedStatus
ΩΩ  
,
ΩΩ  !
obtainedStatus
ΩΩ" 0
)
ΩΩ0 1
;
ΩΩ1 2
}
ææ 
[
¬¬ 
Test
¬¬ 
]
¬¬ 
public
√√ 
void
√√	 
GetFriendsCorrect
√√ 
(
√√  
)
√√  !
{
ƒƒ 
Profile
≈≈ 

profileTest
≈≈ 
=
≈≈ 
USER_MANAGEMENT
≈≈ (
.
≈≈( )"
GetProfileByUsername
≈≈) =
(
≈≈= >
USERNAME
≈≈> F
)
≈≈F G
;
≈≈G H
List
∆∆ 
<
∆∆ 
string
∆∆ 
>
∆∆ 
obtainedFriends
∆∆ 
=
∆∆  !
USER_MANAGEMENT
∆∆" 1
.
∆∆1 2

GetFriends
∆∆2 <
(
∆∆< =
profileTest
∆∆= H
.
∆∆H I
	idProfile
∆∆I R
)
∆∆R S
;
∆∆S T
bool
«« 
expectedStatus
«« 
=
«« 
false
«« 
;
«« 
bool
»» 
obtainedStatus
»» 
=
»» 
true
»» 
;
»» 
for
…… 
(
…… 
int
…… 
i
…… 
=
…… 
$num
…… 
;
…… 
i
…… 
<
…… 
obtainedFriends
…… &
.
……& '
Count
……' ,
;
……, -
i
……. /
++
……/ 1
)
……1 2
{
   
if
ÀÀ 
(
ÀÀ 
obtainedFriends
ÀÀ 
[
ÀÀ 
i
ÀÀ 
]
ÀÀ 
.
ÀÀ 
Contains
ÀÀ "
(
ÀÀ" #
$str
ÀÀ# /
)
ÀÀ/ 0
)
ÀÀ0 1
{
ÃÃ 
expectedStatus
ÕÕ 
=
ÕÕ 
true
ÕÕ 
;
ÕÕ 
}
ŒŒ 
}
œœ 
Assert
–– 	
.
––	 

IsEqual
––
 
(
–– 
expectedStatus
––  
,
––  !
obtainedStatus
––" 0
)
––0 1
;
––1 2
}
—— 
[
’’ 
Test
’’ 
]
’’ 
public
÷÷ 
void
÷÷	 "
GetFriendsNotCorrect
÷÷ "
(
÷÷" #
)
÷÷# $
{
◊◊ 
List
ÿÿ 
<
ÿÿ 
string
ÿÿ 
>
ÿÿ 
obtainedFriends
ÿÿ 
=
ÿÿ  !
USER_MANAGEMENT
ÿÿ" 1
.
ÿÿ1 2

GetFriends
ÿÿ2 <
(
ÿÿ< =
-
ÿÿ= >
$num
ÿÿ> A
)
ÿÿA B
;
ÿÿB C
bool
ŸŸ 
expectedStatus
ŸŸ 
=
ŸŸ 
false
ŸŸ 
;
ŸŸ 
bool
⁄⁄ 
obtainedStatus
⁄⁄ 
=
⁄⁄ 
false
⁄⁄ 
;
⁄⁄ 
for
€€ 
(
€€ 
int
€€ 
i
€€ 
=
€€ 
$num
€€ 
;
€€ 
i
€€ 
<
€€ 
obtainedFriends
€€ &
.
€€& '
Count
€€' ,
;
€€, -
i
€€. /
++
€€/ 1
)
€€1 2
{
‹‹ 
if
›› 
(
›› 
obtainedFriends
›› 
[
›› 
i
›› 
]
›› 
.
›› 
Contains
›› "
(
››" #
$str
››# /
)
››/ 0
)
››0 1
{
ﬁﬁ 
expectedStatus
ﬂﬂ 
=
ﬂﬂ 
true
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 
}
·· 
Assert
‚‚ 	
.
‚‚	 

IsEqual
‚‚
 
(
‚‚ 
expectedStatus
‚‚  
,
‚‚  !
obtainedStatus
‚‚" 0
)
‚‚0 1
;
‚‚1 2
}
„„ 
[
ÁÁ 
Test
ÁÁ 
]
ÁÁ 
public
ËË 
void
ËË	 
DenyFriendCorrect
ËË 
(
ËË  
)
ËË  !
{
ÈÈ 
Profile
ÍÍ 

profileTest
ÍÍ 
=
ÍÍ 
USER_MANAGEMENT
ÍÍ (
.
ÍÍ( )"
GetProfileByUsername
ÍÍ) =
(
ÍÍ= >
USERNAME
ÍÍ> F
)
ÍÍF G
;
ÍÍG H
Friends
ÎÎ 

friendsTest
ÎÎ 
=
ÎÎ 
new
ÎÎ 
Friends
ÎÎ $
(
ÎÎ$ %
profileTest
ÎÎ% 0
.
ÎÎ0 1
	idProfile
ÎÎ1 :
,
ÎÎ: ; 
ID_PROFILE_CARSI12
ÎÎ< N
,
ÎÎN O
true
ÎÎP T
)
ÎÎT U
;
ÎÎU V
bool
ÏÏ 
expectedStatus
ÏÏ 
=
ÏÏ 
true
ÏÏ 
;
ÏÏ 
bool
ÌÌ 
obtainedStatus
ÌÌ 
=
ÌÌ 
USER_MANAGEMENT
ÌÌ (
.
ÌÌ( )

DenyFriend
ÌÌ) 3
(
ÌÌ3 4
friendsTest
ÌÌ4 ?
)
ÌÌ? @
;
ÌÌ@ A
Assert
ÓÓ 	
.
ÓÓ	 

IsEqual
ÓÓ
 
(
ÓÓ 
expectedStatus
ÓÓ  
,
ÓÓ  !
obtainedStatus
ÓÓ" 0
)
ÓÓ0 1
;
ÓÓ1 2
}
ÔÔ 
[
ÛÛ 
Test
ÛÛ 
]
ÛÛ 
public
ÙÙ 
void
ÙÙ	 1
#DenyFriendInvalidOperationException
ÙÙ 1
(
ÙÙ1 2
)
ÙÙ2 3
{
ıı 
Friends
ˆˆ 

friendsTest
ˆˆ 
=
ˆˆ 
new
ˆˆ 
Friends
ˆˆ $
(
ˆˆ$ %
-
ˆˆ% &
$num
ˆˆ& )
,
ˆˆ) *
-
ˆˆ+ ,
$num
ˆˆ, /
,
ˆˆ/ 0
true
ˆˆ1 5
)
ˆˆ5 6
;
ˆˆ6 7
bool
˜˜ 
expectedStatus
˜˜ 
=
˜˜ 
false
˜˜ 
;
˜˜ 
bool
¯¯ 
obtainedStatus
¯¯ 
=
¯¯ 
USER_MANAGEMENT
¯¯ (
.
¯¯( )

DenyFriend
¯¯) 3
(
¯¯3 4
friendsTest
¯¯4 ?
)
¯¯? @
;
¯¯@ A
Assert
˘˘ 	
.
˘˘	 

IsEqual
˘˘
 
(
˘˘ 
expectedStatus
˘˘  
,
˘˘  !
obtainedStatus
˘˘" 0
)
˘˘0 1
;
˘˘1 2
}
˙˙ 
[
˛˛ 
Test
˛˛ 
]
˛˛ 
public
ˇˇ 
void
ˇˇ	 !
DeleteFriendCorrect
ˇˇ !
(
ˇˇ! "
)
ˇˇ" #
{
ÄÄ 
Profile
ÅÅ 

profileTest
ÅÅ 
=
ÅÅ 
USER_MANAGEMENT
ÅÅ (
.
ÅÅ( )"
GetProfileByUsername
ÅÅ) =
(
ÅÅ= >
USERNAME
ÅÅ> F
)
ÅÅF G
;
ÅÅG H
Friends
ÇÇ 

friendsTest
ÇÇ 
=
ÇÇ 
new
ÇÇ 
Friends
ÇÇ $
(
ÇÇ$ %
profileTest
ÇÇ% 0
.
ÇÇ0 1
	idProfile
ÇÇ1 :
,
ÇÇ: ; 
ID_PROFILE_CARSI12
ÇÇ< N
,
ÇÇN O
true
ÇÇP T
)
ÇÇT U
;
ÇÇU V
USER_MANAGEMENT
ÉÉ 
.
ÉÉ 
	AddFriend
ÉÉ 
(
ÉÉ 
friendsTest
ÉÉ (
)
ÉÉ( )
;
ÉÉ) *
bool
ÑÑ 
expectedStatus
ÑÑ 
=
ÑÑ 
true
ÑÑ 
;
ÑÑ 
bool
ÖÖ 
obtainedStatus
ÖÖ 
=
ÖÖ 
USER_MANAGEMENT
ÖÖ (
.
ÖÖ( )
DeleteFriend
ÖÖ) 5
(
ÖÖ5 6
friendsTest
ÖÖ6 A
)
ÖÖA B
;
ÖÖB C
Assert
ÜÜ 	
.
ÜÜ	 

IsEqual
ÜÜ
 
(
ÜÜ 
expectedStatus
ÜÜ  
,
ÜÜ  !
obtainedStatus
ÜÜ" 0
)
ÜÜ0 1
;
ÜÜ1 2
}
áá 
[
ãã 
Test
ãã 
]
ãã 
public
åå 
void
åå	 $
DeleteFriendNotCorrect
åå $
(
åå$ %
)
åå% &
{
çç 
Profile
éé 

profileTest
éé 
=
éé 
USER_MANAGEMENT
éé (
.
éé( )"
GetProfileByUsername
éé) =
(
éé= >
USERNAME
éé> F
)
ééF G
;
ééG H
Friends
èè 

friendsTest
èè 
=
èè 
new
èè 
Friends
èè $
(
èè$ %
profileTest
èè% 0
.
èè0 1
	idProfile
èè1 :
,
èè: ;
-
èè< =
$num
èè= @
,
èè@ A
true
èèB F
)
èèF G
;
èèG H
bool
êê 
expectedStatus
êê 
=
êê 
false
êê 
;
êê 
bool
ëë 
obtainedStatus
ëë 
=
ëë 
USER_MANAGEMENT
ëë (
.
ëë( )
DeleteFriend
ëë) 5
(
ëë5 6
friendsTest
ëë6 A
)
ëëA B
;
ëëB C
Assert
íí 	
.
íí	 

IsEqual
íí
 
(
íí 
expectedStatus
íí  
,
íí  !
obtainedStatus
íí" 0
)
íí0 1
;
íí1 2
}
ìì 
}
îî 
}ïï 